(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    230555,       5763]
NotebookOptionsPosition[    206627,       5234]
NotebookOutlinePosition[    207001,       5250]
CellTagsIndexPosition[    206958,       5247]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Zika vaccination", "Title",
 CellChangeTimes->{{3.6648030060216475`*^9, 
  3.664803008963075*^9}},ExpressionUUID->"e0fc2dc8-ef9b-44d0-9f9d-\
10f4bddfc210"],

Cell[BoxData[
 RowBox[{"Quit", "[", "]"}]], "Input",
 CellChangeTimes->{{3.6833720564990196`*^9, 
  3.683372057175019*^9}},ExpressionUUID->"6b76c48e-be7c-47ab-a86c-\
a3e26dabc1b8"],

Cell[CellGroupData[{

Cell["Model setup", "Section",
 CellChangeTimes->{{3.6648030149572725`*^9, 
  3.6648030200226316`*^9}},ExpressionUUID->"4dcc0090-fa83-4440-8047-\
0a81459b8d66"],

Cell[CellGroupData[{

Cell["Headers", "Subsection",
 CellChangeTimes->{{3.6635917200468054`*^9, 
  3.6635917230739145`*^9}},ExpressionUUID->"f03561ae-817d-4bd9-aa7b-\
e94fee334a8b"],

Cell[CellGroupData[{

Cell["Memory management", "Subsubsection",
 CellChangeTimes->{{3.6259225019784937`*^9, 
  3.62592250403695*^9}},ExpressionUUID->"c85c121e-538b-4c82-9620-\
97f530227218"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$HistoryLength", "=", "0"}], ";"}]], "Code",
 CellChangeTimes->{
  3.625922532893306*^9},ExpressionUUID->"b958c44c-c497-456a-b63a-\
b6d33dca8260"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ClearMemory", ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", 
     RowBox[{
      RowBox[{"Unprotect", "[", 
       RowBox[{"In", ",", "Out"}], "]"}], ";", 
      RowBox[{"Clear", "[", 
       RowBox[{"In", ",", "Out"}], "]"}], ";", 
      RowBox[{"Protect", "[", 
       RowBox[{"In", ",", "Out"}], "]"}], ";", 
      RowBox[{"ClearSystemCache", "[", "]"}], ";"}]}], "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.6259225270942073`*^9, 
  3.625922531350215*^9}},ExpressionUUID->"be154fb4-c947-44a3-8679-\
548cec134674"]
}, Closed]],

Cell[CellGroupData[{

Cell["File I/O", "Subsubsection",
 CellChangeTimes->{{3.6259225019784937`*^9, 
  3.6259225097810087`*^9}},ExpressionUUID->"8b157379-8c01-489a-a416-\
b49795af744d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"$CommandLine", "[", 
      RowBox[{"[", "2", "]"}], "]"}], "\[Equal]", "\"\<-wstp\>\""}], ",", 
    RowBox[{"ClusterRun", "=", "False"}], ",", 
    RowBox[{"ClusterRun", "=", "True"}]}], "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.6635915774477224`*^9, 3.663591579713333*^9}, {
  3.665767981221537*^9, 
  3.6657679920566235`*^9}},ExpressionUUID->"387d3961-c4fd-42e2-8128-\
6079c69799bd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{"ClusterRun", ",", 
    RowBox[{"SetDirectory", "[", "\"\<./\>\"", "]"}], ",", 
    RowBox[{"SetDirectory", "[", 
     RowBox[{"NotebookDirectory", "[", "]"}], "]"}]}], "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.6635915850258465`*^9, 3.663591618125025*^9}, 
   3.6648855811581273`*^9, 3.676979782705716*^9, {3.6833715476998253`*^9, 
   3.6833715622312217`*^9}, 
   3.7163103272655787`*^9},ExpressionUUID->"aaacc0eb-005b-435a-a4e7-\
d5f3f6be6697"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"SaveIt", "[", 
    RowBox[{"varnamestring_", ",", "toapp_"}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "output", "}"}], ",", 
     RowBox[{
      RowBox[{"output", "=", 
       RowBox[{"Export", "[", 
        RowBox[{
         RowBox[{"varnamestring", "<>", 
          RowBox[{"ToString", "[", "toapp", "]"}], "<>", "\"\<.dat\>\""}], 
         ",", 
         RowBox[{"ToString", "[", 
          RowBox[{
           RowBox[{"ToExpression", "[", "varnamestring", "]"}], "//", 
           "InputForm"}], "]"}], ",", "\"\<String\>\""}], "]"}]}], ";", 
      "\[IndentingNewLine]", "ClearMemory", ";", "\[IndentingNewLine]", 
      "output"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SaveIt", "[", "varnamestring_", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "output", "}"}], ",", 
     RowBox[{
      RowBox[{"output", "=", 
       RowBox[{"Export", "[", 
        RowBox[{
         RowBox[{"varnamestring", "<>", "\"\<.dat\>\""}], ",", 
         RowBox[{"ToString", "[", 
          RowBox[{
           RowBox[{"ToExpression", "[", "varnamestring", "]"}], "//", 
           "InputForm"}], "]"}], ",", "\"\<String\>\""}], "]"}]}], ";", 
      "\[IndentingNewLine]", "ClearMemory", ";", "\[IndentingNewLine]", 
      "output"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ReadIt", "[", "filename_", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "output", "}"}], ",", 
     RowBox[{
      RowBox[{"output", "=", 
       RowBox[{"Switch", "[", 
        RowBox[{
         RowBox[{"FileType", "[", 
          RowBox[{
           RowBox[{"StringReplace", "[", 
            RowBox[{"filename", ",", 
             RowBox[{"\"\<.dat\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "<>", 
           "\"\<.dat\>\""}], "]"}], ",", "File", ",", 
         RowBox[{"ToExpression", "[", 
          RowBox[{"Import", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringReplace", "[", 
              RowBox[{"filename", ",", 
               RowBox[{"\"\<.dat\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], 
             "<>", "\"\<.dat\>\""}], ",", "\"\<String\>\""}], "]"}], "]"}], 
         ",", "None", ",", 
         RowBox[{"{", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
      "ClearMemory", ";", "\[IndentingNewLine]", "output"}]}], "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.627073279183117*^9, 3.627073348490965*^9}, {
   3.6270734139771967`*^9, 3.627073428261118*^9}, 3.627754205815668*^9, {
   3.6278235900611277`*^9, 3.627823606614328*^9}, {3.627830846366584*^9, 
   3.627830855477412*^9}, 3.6278313569930363`*^9, {3.6278436348520403`*^9, 
   3.6278436388960333`*^9}, 3.62790511794843*^9, 3.628948382274975*^9, 
   3.629994924015686*^9, 3.6307735855715218`*^9, 3.6337221422217245`*^9, 
   3.686924318952121*^9},ExpressionUUID->"16c86094-c616-4eec-800f-\
357568afcec7"]
}, Closed]],

Cell[CellGroupData[{

Cell["Statistics", "Subsubsection",
 CellChangeTimes->{{3.6259225019784937`*^9, 3.6259225165407867`*^9}, {
  3.6641189843041277`*^9, 
  3.664118985590893*^9}},ExpressionUUID->"e70d4ad4-b3d9-4afb-81d7-\
c78be7879fcd"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<HypothesisTesting`\>\"", "]"}]], "Code",
 CellChangeTimes->{{3.6635915485894413`*^9, 
  3.6635915504644585`*^9}},ExpressionUUID->"9c922eef-132f-4394-a065-\
ff5a5ddc6aa1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"UninformedPrior", "=", "1"}], ";"}]], "Code",
 CellChangeTimes->{{3.650903119068303*^9, 
  3.650903119443307*^9}},ExpressionUUID->"24516369-2bfc-4a4d-8d08-\
c5a3007f5801"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Human population demographics", "Subsection",
 CellChangeTimes->{{3.595807845908885*^9, 3.5958078475409737`*^9}, {
  3.6043170623673315`*^9, 3.6043170644944525`*^9}, {3.6648038229424787`*^9, 
  3.664803824444298*^9}},ExpressionUUID->"28cf440d-993d-4b63-9969-\
fa841656b433"],

Cell[CellGroupData[{

Cell["Updated population demographics from UN", "Subsubsection",
 CellChangeTimes->{{3.5389199538772326`*^9, 3.538919955564329*^9}, 
   3.663591771683815*^9, {3.666016359428344*^9, 3.666016361018199*^9}, {
   3.668940051978019*^9, 3.6689400528070946`*^9}, {3.668940114806282*^9, 
   3.668940121149835*^9}, {3.6689401587809296`*^9, 
   3.668940159690724*^9}},ExpressionUUID->"b2ee6d9b-52d1-46a2-91bc-\
ee58517bb4fa"],

Cell["\<\
Read in population distribution, grab country-specific row, extract it to \
1-yr age groups\
\>", "Text",
 CellChangeTimes->{{3.670266515621815*^9, 
  3.67026652960122*^9}},ExpressionUUID->"1b0aa56c-6abb-4b6f-a6f5-\
f1ccbdbb7424"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "computeAgeProfile1yr", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"computeAgeProfile1yr", "[", "country_", "]"}], ":=", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"#", "/", "5"}], ",", 
          RowBox[{"{", "5", "}"}]}], "]"}], "&"}], "/@", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Select", "[", 
           RowBox[{
            RowBox[{"Import", "[", "\"\<PopulationTablesMale.csv\>\"", "]"}], 
            ",", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "3", "]"}], "]"}], "\[Equal]", "country"}], "&&", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "6", "]"}], "]"}], "\[Equal]", "2015"}]}], 
             "&"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", 
            RowBox[{"7", ";;", "27"}]}], "]"}], "]"}], "*", "1000"}], ")"}]}],
       "]"}], ",", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"#", "/", "5"}], ",", 
          RowBox[{"{", "5", "}"}]}], "]"}], "&"}], "/@", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Select", "[", 
           RowBox[{
            RowBox[{
            "Import", "[", "\"\<PopulationTablesFemale.csv\>\"", "]"}], ",", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "3", "]"}], "]"}], "\[Equal]", "country"}], "&&", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "6", "]"}], "]"}], "\[Equal]", "2015"}]}], 
             "&"}]}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", 
            RowBox[{"7", ";;", "27"}]}], "]"}], "]"}], "*", "1000"}], ")"}]}],
       "]"}]}], "}"}], "+", "0.01"}]}]}], "Code",
 CellChangeTimes->{{3.67026641819757*^9, 3.67026644993186*^9}, {
   3.7119134002727966`*^9, 3.711913420440816*^9}, {3.714322000916522*^9, 
   3.7143220017915163`*^9}, 3.714322099669197*^9, 3.7143221311138754`*^9, {
   3.716227261115096*^9, 
   3.716227266881442*^9}},ExpressionUUID->"e3eb84be-dd26-45a5-a8a5-\
c33a8fecb72f"]
}, Closed]],

Cell[CellGroupData[{

Cell["Define country names", "Subsubsection",
 CellChangeTimes->{{3.670266494986695*^9, 
  3.6702664969964685`*^9}},ExpressionUUID->"7544c9ef-6e76-43ed-8bb2-\
82bdbe0cb04f"],

Cell["Extract country names", "Text",
 CellChangeTimes->{{3.66602602599835*^9, 
  3.6660260284363017`*^9}},ExpressionUUID->"cb2d6b99-6c1f-48a5-a998-\
e8805cc75ee2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"CountryNames", "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<Aruba\>\"", ",", "\"\<Barbados\>\"", ",", "\"\<Belize\>\"", ",", 
     "\"\<Bolivia\>\"", ",", "\"\<Bonaire\>\"", ",", "\"\<Brazil\>\"", ",", 
     "\"\<Colombia\>\"", ",", "\"\<Costa Rica\>\"", ",", "\"\<Cuba\>\"", ",", 
     "\"\<Curacao\>\"", ",", "\"\<Dominica\>\"", ",", 
     "\"\<Dominican Republic\>\"", ",", "\"\<Ecuador\>\"", ",", 
     "\"\<El Salvador\>\"", ",", "\"\<French Guiana\>\"", ",", 
     "\"\<Guadeloupe\>\"", ",", "\"\<Guatemala\>\"", ",", "\"\<Guyana\>\"", 
     ",", "\"\<Haiti\>\"", ",", "\"\<Honduras\>\"", ",", "\"\<Jamaica\>\"", 
     ",", "\"\<Martinique\>\"", ",", "\"\<Mexico\>\"", ",", 
     "\"\<Nicaragua\>\"", ",", "\"\<Panama\>\"", ",", "\"\<Paraguay\>\"", 
     ",", "\"\<Puerto Rico\>\"", ",", "\"\<Saint Lucia\>\"", ",", 
     "\"\<Saint Martin\>\"", ",", "\"\<Saint Vincent and the Grenadines\>\"", 
     ",", "\"\<Suriname\>\"", ",", "\"\<Trinidad and Tobago\>\"", ",", 
     "\"\<Venezuela\>\"", ",", "\"\<Virgin Islands\>\""}], "}"}]}], 
  ";"}]], "Code", "Input",
 CellChangeTimes->{{3.6838889314565744`*^9, 
  3.6838889383605857`*^9}},ExpressionUUID->"ffaf8368-dfd6-4b42-9951-\
ee492dd5d0ce"]
}, Closed]],

Cell[CellGroupData[{

Cell["Birth and death rates", "Subsubsection",
 CellChangeTimes->{{3.5389199538772326`*^9, 3.538919955564329*^9}, 
   3.663591771683815*^9, {3.666016359428344*^9, 3.666016361018199*^9}, {
   3.668940051978019*^9, 
   3.6689400684574986`*^9}},ExpressionUUID->"315924cd-301a-4aac-bf00-\
f58c9ae330c6"],

Cell["Read in excel data", "Text",
 CellChangeTimes->{{3.666026018340722*^9, 
  3.6660260203269835`*^9}},ExpressionUUID->"41e8ea00-ef52-41cf-99e1-\
1438fc2885fe"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"SetDirectory", "[", 
  RowBox[{"NotebookDirectory", "[", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.685198539372758*^9, 
  3.685198545715965*^9}},ExpressionUUID->"72ee934f-f8b6-493c-b838-\
ad267d934980"],

Cell[BoxData["\<\"D:\\\\Dropbox\\\\Projects\\\\Zika \
vaccine\\\\Code\\\\Fresh\"\>"], "Output",
 CellChangeTimes->{3.6851985460284805`*^9, 3.7110336062928133`*^9, 
  3.7119133447093515`*^9, 3.7138835283697176`*^9, 3.716227318806491*^9, 
  3.716310362236225*^9},ExpressionUUID->"fac1ca2b-9487-470e-b745-\
8cb5f3154d58"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"BirthData", "=", 
   RowBox[{"{", 
    RowBox[{"Import", "[", "\"\<BirthRates.csv\>\"", "]"}], "}"}]}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.670757452506438*^9, 3.670757461486189*^9}, {
   3.711913437175928*^9, 3.7119134410248995`*^9}, 
   3.716227221625763*^9},ExpressionUUID->"39308473-2764-494a-84e8-\
b72189e9f295"],

Cell["\<\
Reports birth rates for each country. Returned value is live births per 1000 \
women of each age class; age classes are 15-19, 20-24, 25-29, 30-34, 35-39, \
40-44, 45-49\
\>", "Text",
 CellChangeTimes->{{3.6707575765588627`*^9, 
  3.670757606885053*^9}},ExpressionUUID->"4164292c-9eee-4923-afb6-\
513bc67211f3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"birthRateByCountry", "[", "country_", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"Select", "[", 
     RowBox[{
      RowBox[{"BirthData", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "\[Equal]", "country"}], "&"}]}], 
     "]"}], "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", 
      RowBox[{"3", ";;", "9"}]}], "]"}], "]"}], "/", "1000"}]}]], "Code",
 CellChangeTimes->{{3.67075748171013*^9, 3.670757523474411*^9}, {
  3.6707575638182096`*^9, 3.670757573060665*^9}, {3.6707576349006224`*^9, 
  3.670757637632812*^9}},ExpressionUUID->"5476377e-b0dc-4255-9f7f-\
865040f7a559"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"birthRateByCountry", "[", "\"\<Brazil\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.7110336146015353`*^9, 
  3.7110336174691896`*^9}},ExpressionUUID->"e0d924d6-e81b-4870-86d4-\
f0f826d8727d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.0684`", ",", "0.1076`", ",", "0.0906`", ",", "0.055799999999999995`", 
   ",", "0.0292`", ",", "0.010199999999999999`", ",", "0.0019`"}], 
  "}"}]], "Output",
 CellChangeTimes->{3.7110336177348843`*^9, 3.713883528611347*^9, 
  3.71622731896274*^9, 
  3.7163103669798527`*^9},ExpressionUUID->"d90299bb-4880-489a-a50c-\
1ce5b4e1601e"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"SetDirectory", "@", 
  RowBox[{"NotebookDirectory", "[", "]"}]}]], "Input",
 CellChangeTimes->{{3.713285570408518*^9, 
  3.71328557453626*^9}},ExpressionUUID->"d5dd1687-46e5-422e-a3d3-\
176b18ca6623"],

Cell[BoxData["\<\"D:\\\\Dropbox\\\\Projects\\\\Zika \
vaccine\\\\Code\\\\Fresh\"\>"], "Output",
 CellChangeTimes->{3.7132855749208035`*^9, 3.7138835286269383`*^9, 
  3.7162273189783735`*^9, 
  3.716310368047038*^9},ExpressionUUID->"d42dda83-5b01-4587-8474-\
d3104610222d"]
}, Open  ]],

Cell["Define the birth rate for girls aged 12-14", "Text",
 CellChangeTimes->{{3.711210007235691*^9, 
  3.711210012760289*^9}},ExpressionUUID->"df71473f-8e59-49f0-94cd-\
56891e8a8506"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "youngerBirthRate"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"youngerBirthRate", "[", "country_", "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{"country", ",", "\[IndentingNewLine]", "\"\<Bolivia\>\"", ",", 
    RowBox[{"12.8", "/", "1000"}], ",", "\[IndentingNewLine]", 
    "\"\<Colombia\>\"", ",", 
    RowBox[{"16.6", "/", "1000"}], ",", "\[IndentingNewLine]", 
    "\"\<Dominican Republic\>\"", ",", 
    RowBox[{"23.3", "/", "1000"}], ",", "\[IndentingNewLine]", 
    "\"\<Haiti\>\"", ",", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{"9.8", "+", "20.7"}], ")"}], "/", "2"}], "/", "1000"}], ",", 
    "\[IndentingNewLine]", "\"\<Peru\>\"", ",", 
    RowBox[{"10.1", "/", "1000"}], ",", "\[IndentingNewLine]", 
    "\"\<Brazil\>\"", ",", "0.0204", ",", "\[IndentingNewLine]", "_", ",", 
    RowBox[{"Mean", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"12.8", "/", "1000"}], ",", 
       RowBox[{"16.6", "/", "1000"}], ",", 
       RowBox[{"23.3", "/", "1000"}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"9.8", "+", "20.7"}], ")"}], "/", "2"}], "/", "1000"}], ",", 
       RowBox[{"10.1", "/", "1000"}], ",", "0.0204"}], "}"}], "]"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.711209794312496*^9, 3.7112097965222483`*^9}, {
  3.7112098288429756`*^9, 
  3.711209976526901*^9}},ExpressionUUID->"62a0edb5-d9d4-4baa-974c-\
5f389b590b0b"],

Cell[TextData[{
 StyleBox["birthRateByCountryByAge",
  FontWeight->"Bold"],
 " returns the fertility rate for the specified age and country"
}], "Text",
 CellChangeTimes->{{3.7110338487801914`*^9, 
  3.711033856805665*^9}},ExpressionUUID->"2f9e5691-78e2-42dc-9fb1-\
e7425d49cd18"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "birthRateByCountryByAgeFunction"}], "\n", 
 RowBox[{
  RowBox[{"birthRateByCountryByAgeFunction", "[", 
   RowBox[{"country_", ",", " ", "age_"}], "]"}], ":=", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"birthRateByCountryByAgeFunction", "[", 
    RowBox[{"country", ",", "age"}], "]"}], "=", "\[IndentingNewLine]", 
   RowBox[{"Piecewise", "[", 
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
        RowBox[{"15", " ", "<=", " ", "age", " ", "<=", " ", "19"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "2", "]"}], "]"}], ",", " ", 
        RowBox[{"20", " ", "<=", " ", "age", " ", "<=", " ", "24"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "3", "]"}], "]"}], ",", " ", 
        RowBox[{"25", " ", "<=", " ", "age", " ", "<=", " ", "29"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "4", "]"}], "]"}], ",", " ", 
        RowBox[{"30", " ", "<=", " ", "age", " ", "<=", " ", "34"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "5", "]"}], "]"}], ",", " ", 
        RowBox[{"35", " ", "<=", " ", "age", " ", "<=", " ", "39"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "6", "]"}], "]"}], ",", " ", 
        RowBox[{"40", " ", "<=", " ", "age", " ", "<=", " ", "44"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
         RowBox[{"[", "7", "]"}], "]"}], ",", " ", 
        RowBox[{"45", " ", "<=", " ", "age", " ", "<=", " ", "49"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"youngerBirthRate", "[", "country", "]"}], ",", " ", 
        RowBox[{"12", " ", "<=", " ", "age", " ", "<=", " ", "14"}]}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"0", ",", "True"}], "}"}]}], "\[IndentingNewLine]", "}"}], 
    "]"}]}]}]}], "Code",
 CellChangeTimes->{{3.7110336464682007`*^9, 3.7110338234187613`*^9}, {
  3.711033861868574*^9, 3.7110338625377855`*^9}, {3.711209611292693*^9, 
  3.7112097728173285`*^9}, {3.7112100005167284`*^9, 3.7112100030511117`*^9}, {
  3.713883675249083*^9, 
  3.713883679788148*^9}},ExpressionUUID->"0836df4f-c5c7-4939-a2b9-\
ea184ce9bf14"],

Cell["\<\
Data to correct for pregnancy and find an estimate more in line with US \
Census values\
\>", "Text",
 CellChangeTimes->{{3.7138836972074146`*^9, 3.713883711181151*^9}},
 FontWeight->"Bold",ExpressionUUID->"1eedd7cd-5afb-4a9f-a02d-ea8c5ba89f11"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"estimatedPRAnnualBirths", "=", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"computeAgeProfile1yr", "[", "\"\<Puerto Rico\>\"", "]"}], "[", 
      RowBox[{"[", "2", "]"}], "]"}], "[", 
     RowBox[{"[", 
      RowBox[{"12", ";;", "49"}], "]"}], "]"}], ")"}], ".", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"birthRateByCountryByAgeFunction", "[", 
       RowBox[{"\"\<Puerto Rico\>\"", ",", "#"}], "]"}], "&"}], "/@", 
     RowBox[{"Range", "[", 
      RowBox[{"12", ",", "49"}], "]"}]}], ")"}]}]}]], "Code",
 CellChangeTimes->{{3.7138837211328325`*^9, 3.713883727058503*^9}, {
  3.7138837803095193`*^9, 
  3.713883782414774*^9}},ExpressionUUID->"06d61ed6-10c3-4dde-8764-\
7c47b43328f5"],

Cell[BoxData[
 TemplateBox[{
  "Part","partw",
   "\"Part \\!\\(\\*RowBox[{\\\"2\\\"}]\\) of \
\\!\\(\\*RowBox[{\\\"computeAgeProfile1yr\\\", \\\"[\\\", \\\"\\\\\\\"Puerto \
Rico\\\\\\\"\\\", \\\"]\\\"}]\\) does not exist.\"",2,10,1,
   32388375984195897097,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.716227319009633*^9, 
  3.7163103720995965`*^9},ExpressionUUID->"94b6dabe-3a17-4ca2-86a3-\
f28d40365d9c"],

Cell[BoxData[
 TemplateBox[{
  "Part","take",
   "\"Cannot take positions \\!\\(\\*RowBox[{\\\"12\\\"}]\\) through \
\\!\\(\\*RowBox[{\\\"49\\\"}]\\) in \
\\!\\(\\*RowBox[{RowBox[{\\\"computeAgeProfile1yr\\\", \\\"[\\\", \
\\\"\\\\\\\"Puerto Rico\\\\\\\"\\\", \\\"]\\\"}], \
\\\"\[LeftDoubleBracket]\\\", \\\"2\\\", \
\\\"\[RightDoubleBracket]\\\"}]\\).\"",2,10,2,32388375984195897097,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.716227319009633*^9, 
  3.7163103721151867`*^9},ExpressionUUID->"26a2f3d7-8b28-4f26-a841-\
e22215de9caf"],

Cell[BoxData[
 TemplateBox[{
  "Part","partw",
   "\"Part \\!\\(\\*RowBox[{\\\"2\\\"}]\\) of \
\\!\\(\\*RowBox[{\\\"computeAgeProfile1yr\\\", \\\"[\\\", \\\"\\\\\\\"Puerto \
Rico\\\\\\\"\\\", \\\"]\\\"}]\\) does not exist.\"",2,10,3,
   32388375984195897097,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.716227319009633*^9, 
  3.716310372130845*^9},ExpressionUUID->"463e222d-883c-45a2-93b1-\
48df9e3683cd"],

Cell[BoxData[
 TemplateBox[{
  "Part","take",
   "\"Cannot take positions \\!\\(\\*RowBox[{\\\"12\\\"}]\\) through \
\\!\\(\\*RowBox[{\\\"49\\\"}]\\) in \
\\!\\(\\*RowBox[{RowBox[{\\\"computeAgeProfile1yr\\\", \\\"[\\\", \
\\\"\\\\\\\"Puerto Rico\\\\\\\"\\\", \\\"]\\\"}], \
\\\"\[LeftDoubleBracket]\\\", \\\"2\\\", \
\\\"\[RightDoubleBracket]\\\"}]\\).\"",2,10,4,32388375984195897097,"Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.716227319009633*^9, 
  3.716310372146477*^9},ExpressionUUID->"88b7eb6b-2f31-4bc6-9501-\
c9a756fae4ce"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"computeAgeProfile1yr", "[", "\<\"Puerto Rico\"\>", "]"}], 
    "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
   "\[LeftDoubleBracket]", 
   RowBox[{"12", ";;", "49"}], "\[RightDoubleBracket]"}], ".", 
  RowBox[{"{", 
   RowBox[{
   "0.016408333333333334`", ",", "0.016408333333333334`", ",", 
    "0.016408333333333334`", ",", "0.047299999999999995`", ",", 
    "0.047299999999999995`", ",", "0.047299999999999995`", ",", 
    "0.047299999999999995`", ",", "0.047299999999999995`", ",", 
    "0.09590000000000001`", ",", "0.09590000000000001`", ",", 
    "0.09590000000000001`", ",", "0.09590000000000001`", ",", 
    "0.09590000000000001`", ",", "0.0935`", ",", "0.0935`", ",", "0.0935`", 
    ",", "0.0935`", ",", "0.0935`", ",", "0.062`", ",", "0.062`", ",", 
    "0.062`", ",", "0.062`", ",", "0.062`", ",", "0.0249`", ",", "0.0249`", 
    ",", "0.0249`", ",", "0.0249`", ",", "0.0249`", ",", "0.0047`", ",", 
    "0.0047`", ",", "0.0047`", ",", "0.0047`", ",", "0.0047`", ",", "0.0002`",
     ",", "0.0002`", ",", "0.0002`", ",", "0.0002`", ",", "0.0002`"}], 
   "}"}]}]], "Output",
 CellChangeTimes->{{3.7138837279653234`*^9, 3.7138837322966366`*^9}, {
   3.7138837847473288`*^9, 3.7138838026113243`*^9}, 3.716227319040876*^9, 
   3.716310372146477*^9},ExpressionUUID->"a5ebab90-e0d5-41b0-bbda-\
dbc70af24f02"]
}, Open  ]],

Cell["\<\
Data from US Census for annual births in Puerto Rico over 7/1/2015 - 7/1/2016
https://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?\
pid=PEP_2016_PEPTCOMP&prodType=table\
\>", "Text",
 CellChangeTimes->{{3.713883747218335*^9, 
  3.713883764813795*^9}},ExpressionUUID->"69d5a1dd-ebc0-4b3b-bdb1-\
75c9290d00c6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"censusPRAnnualBirths", "=", "30991"}], ";"}]], "Code",
 CellChangeTimes->{{3.713883733498376*^9, 3.7138837424278436`*^9}, {
  3.7138837885030565`*^9, 
  3.7138837886268415`*^9}},ExpressionUUID->"7c8c5c0a-08cf-4ed1-b5f4-\
f969af12751f"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "birthRateByCountryByAge"}], "\n", 
 RowBox[{
  RowBox[{"birthRateByCountryByAge", "[", 
   RowBox[{"country_", ",", " ", "age_"}], "]"}], ":=", "\n", 
  RowBox[{
   RowBox[{"birthRateByCountryByAge", "[", 
    RowBox[{"country", ",", "age"}], "]"}], "=", "\n", 
   RowBox[{"If", "[", 
    RowBox[{
     RowBox[{"country", "\[NotEqual]", "\"\<Puerto Rico\>\""}], ",", "\n", 
     RowBox[{"birthRateByCountryByAgeFunction", "[", 
      RowBox[{"country", ",", "age"}], "]"}], ",", "\n", 
     RowBox[{
      RowBox[{"birthRateByCountryByAgeFunction", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "*", 
      RowBox[{"censusPRAnnualBirths", "/", "estimatedPRAnnualBirths"}]}]}], 
    "]"}]}]}]}], "Code",
 CellChangeTimes->{{3.7138836663868227`*^9, 3.713883692979597*^9}, {
   3.7138837729677753`*^9, 3.713883795480116*^9}, 
   3.7138845073992043`*^9},ExpressionUUID->"eb586fc6-9315-4fae-9a3a-\
dc1c401c1393"],

Cell[TextData[{
 StyleBox["pregnancyModifier",
  FontWeight->"Bold"],
 " - modifier is based upon the derivation in \
\[OpenCurlyDoubleQuote]Estimating the Number of Pregnant Women Infected With \
Zika Virus and Expected Infants With Microcephaly Following the Zika Virus \
Outbreak in Puerto Rico, 2016\[CloseCurlyDoubleQuote]"
}], "Text",
 CellChangeTimes->{{3.713873841893828*^9, 3.713873859213713*^9}, {
  3.7138794623145285`*^9, 
  3.7138794678738365`*^9}},ExpressionUUID->"8bb2b13e-e4aa-4e49-8802-\
50c9e65b8c49"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pregnancyModifier", "=", 
   RowBox[{"3", "/", "4"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.7138739358107405`*^9, 3.713873937996911*^9}, {
  3.713874001631322*^9, 
  3.713874002433153*^9}},ExpressionUUID->"15a1edd0-bc98-40b8-a11c-\
404dc9c91f71"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "fullFertility"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fullFertility", "[", "country_", "]"}], ":=", 
  RowBox[{"Prepend", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"birthRateByCountry", "[", "country", "]"}], "[", 
     RowBox[{"[", 
      RowBox[{";;", "7"}], "]"}], "]"}], ",", 
    RowBox[{"youngerBirthRate", "[", "country", "]"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.713799439225155*^9, 
  3.713799450861*^9}},ExpressionUUID->"bf0332d1-5bee-4dd1-be9b-b43e5ec9baad"],

Cell["Pull death rates", "Text",
 CellChangeTimes->{{3.666026209467923*^9, 
  3.6660262110988307`*^9}},ExpressionUUID->"a3f94bca-400d-4088-a409-\
0d8b8f16e6a2"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "DeathProfile", "]"}], "\n", 
 RowBox[{
  RowBox[{"DeathProfile", "[", "country_", "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"ToExpression", "[", 
        RowBox[{"#", "[", 
         RowBox[{"[", "5", "]"}], "]"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"ToExpression", "[", 
         RowBox[{"#", "[", 
          RowBox[{"[", "4", "]"}], "]"}], "]"}], "}"}]}], "]"}], "&"}], "/@", 
    RowBox[{"Select", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"Import", "[", "\"\<DeathRates.csv\>\"", "]"}], ")"}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "==", "country"}], "&"}]}], "]"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.666441701772129*^9, 3.6664417322300973`*^9}, {
   3.6664418666262937`*^9, 3.666442015726452*^9}, {3.66644204919648*^9, 
   3.6664420661216393`*^9}, {3.6664610306514435`*^9, 
   3.6664610333665667`*^9}, {3.6664611370867405`*^9, 3.666461138621809*^9}, {
   3.6703233891834607`*^9, 3.670323399196853*^9}, {3.67067526982131*^9, 
   3.6706752732848024`*^9}, {3.6706753551426687`*^9, 
   3.6706753559239264`*^9}, {3.711913451440669*^9, 3.7119134556646214`*^9}, 
   3.7162272443490906`*^9},ExpressionUUID->"46e6cdf8-a5d2-4332-8215-\
6e29fe9de8d9"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "DeathRule", "]"}], "\n", 
 RowBox[{
  RowBox[{"DeathRule", "[", "country_", "]"}], ":=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"\[Mu]", "[", "age", "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"age", ",", "0", ",", 
        RowBox[{"nAge", "-", "1"}]}], "}"}]}], "]"}], "\[Rule]", 
    RowBox[{"DeathProfile", "[", "country", "]"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.6664609059947176`*^9, 3.6664609346900616`*^9}, {
  3.6664611501292453`*^9, 3.6664611727189703`*^9}, {3.6703234125967283`*^9, 
  3.6703234697798576`*^9}, {3.6706753252624097`*^9, 
  3.670675332399884*^9}},ExpressionUUID->"617a1e18-76b7-459f-b67d-\
7786fbc36027"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "\[Mu]", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"\[Mu]", "[", "age_", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"\"\<\[Mu]\>\"", "<>", 
    RowBox[{"ToString", "[", "age", "]"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.6076917640780497`*^9, 3.607691805363411*^9}, {
   3.6082950372556686`*^9, 3.6082950378137007`*^9}, 3.6086541361129484`*^9, {
   3.6472841568659625`*^9, 3.647284164844861*^9}, 3.6635919466230383`*^9, 
   3.664045039454544*^9, {3.6648031623653336`*^9, 3.6648031720661483`*^9}, {
   3.664808036571397*^9, 3.664808050441077*^9}, {3.665171787301025*^9, 
   3.665171827400133*^9}, {3.6651811868977804`*^9, 3.6651812143119802`*^9}, {
   3.6651813116251183`*^9, 3.665181330048973*^9}, {3.665181379101581*^9, 
   3.665181379721799*^9}, {3.6651819820673847`*^9, 3.66518210068976*^9}, {
   3.665182179698576*^9, 3.6651822332611275`*^9}, {3.666441475534845*^9, 
   3.666441478083151*^9}, {3.6664421216143675`*^9, 3.666442135428528*^9}, {
   3.6664429974367933`*^9, 3.6664430145472937`*^9}, 3.666443058708995*^9, {
   3.666444648343797*^9, 
   3.666444690374253*^9}},ExpressionUUID->"96484449-fd2e-4267-b511-\
af26bc716f3c"]
}, Closed]],

Cell[CellGroupData[{

Cell["Age classes", "Subsubsection",
 CellChangeTimes->{{3.5389199538772326`*^9, 3.538919955564329*^9}, 
   3.663591771683815*^9},ExpressionUUID->"58a16da5-9f12-4292-8ed7-\
5d155319157f"],

Cell["Stratify by every year of age, 0 to 99+", "Text",
 CellChangeTimes->{{3.6635917638419523`*^9, 3.663591799881468*^9}, {
  3.6648030598409157`*^9, 3.6648030700741463`*^9}, {3.6648031295599265`*^9, 
  3.664803132140011*^9}, {3.6648166783701677`*^9, 
  3.6648166787607965`*^9}},ExpressionUUID->"67078421-5ff3-4b3e-8835-\
2edeb51612af"],

Cell[BoxData[
 RowBox[{
  RowBox[{"nAge", "=", "100"}], ";"}]], "Code",
 CellChangeTimes->{
  3.598383236476165*^9, {3.59846529084892*^9, 3.5984652909679937`*^9}, {
   3.5984679011809855`*^9, 3.5984679017063365`*^9}, {3.598471331730421*^9, 
   3.5984713324539022`*^9}, {3.5984719172814293`*^9, 3.598471917837801*^9}, {
   3.598631418479699*^9, 3.5986314197527723`*^9}, {3.598634318680581*^9, 
   3.5986343187675858`*^9}, 3.5986343856484118`*^9, 3.5986358770727158`*^9, {
   3.5989006103245387`*^9, 3.5989006107007885`*^9}, 3.599226471754925*^9, 
   3.599226546452197*^9, {3.6009733692689266`*^9, 3.6009733697232285`*^9}, {
   3.6041471783208046`*^9, 3.604147178439811*^9}, {3.604147223208372*^9, 
   3.6041472234723873`*^9}, {3.6041485496572404`*^9, 
   3.6041485497282443`*^9}, {3.6041502979532375`*^9, 
   3.6041502980642433`*^9}, {3.604151050353272*^9, 3.604151058903761*^9}, 
   3.6041522444015675`*^9, 3.6094978809815235`*^9, 3.6094979883326635`*^9, 
   3.609498779756931*^9, 3.609510288528195*^9, {3.6464062207362137`*^9, 
   3.6464062208162713`*^9}, 3.6472840815023813`*^9, {3.664803056753899*^9, 
   3.6648030570368276`*^9}, 3.664816675977892*^9, 
   3.664816792072599*^9},ExpressionUUID->"d2852647-8065-43ec-bddb-\
7135cf470c24"],

Cell[BoxData[
 RowBox[{
  RowBox[{"AgeClasses", "=", 
   RowBox[{"Table", "[", 
    RowBox[{"age", ",", 
     RowBox[{"{", 
      RowBox[{"age", ",", "0", ",", 
       RowBox[{"nAge", "-", "1"}]}], "}"}]}], "]"}]}], ";"}]], "Code",
 CellChangeTimes->{{3.664806691197464*^9, 
  3.6648066997602606`*^9}},ExpressionUUID->"16093725-78e4-483c-9639-\
4f77d5e7156c"],

Cell["Brackets for age groups from and to which fertility applies", "Text",
 CellChangeTimes->{{3.6641947740228276`*^9, 3.6641947838066278`*^9}, {
  3.6648031085466776`*^9, 
  3.664803113694661*^9}},ExpressionUUID->"79c6aa7a-70d1-449a-a187-\
d62e109894bc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"MotherAgeLow", "=", "15"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MotherAgeHigh", "=", "49"}], ";"}]}], "Code",
 CellChangeTimes->{{3.664194740896927*^9, 3.664194770687421*^9}, {
   3.6648031161009083`*^9, 3.6648031356911907`*^9}, 
   3.670757724416525*^9},ExpressionUUID->"d377de10-2a7d-47b7-840f-\
f29f29b2d499"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MotherAgeIndex", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"MotherAgeLow", "+", "1"}], ")"}], ";;", 
    RowBox[{"(", 
     RowBox[{"MotherAgeHigh", "+", "1"}], ")"}]}]}], ";"}]], "Code",
 CellChangeTimes->{{3.676111134501688*^9, 
  3.676111144829087*^9}},ExpressionUUID->"83f42d1d-589e-4768-91ae-\
39a734de56d0"]
}, Closed]],

Cell[CellGroupData[{

Cell["Sexual mixing", "Subsubsection",
 CellChangeTimes->{{3.6835436558075686`*^9, 
  3.6835436573388214`*^9}},ExpressionUUID->"7da4279c-f0ae-4882-9ac2-\
a5e0b8e477d3"],

Cell[TextData[StyleBox["Age-specific probability of forming a new partnership \
in the past year (from Durham PNAS 2016)",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.683561042287449*^9, 3.683561053339673*^9}, {
  3.6836300074935126`*^9, 
  3.6836300150091333`*^9}},ExpressionUUID->"9dfc9023-59d7-4c22-a338-\
56895aca5d98"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "sexuallyActiveValue", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sexuallyActiveValue", "[", 
   RowBox[{"country_", ",", "gender_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{"gender", ",", "\[IndentingNewLine]", "\"\<male\>\"", ",", 
    RowBox[{"Which", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"age", "\[LessEqual]", "11"}], ",", "0", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "12"}], ",", "0.044", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "13"}], ",", "0.088", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "14"}], ",", "0.131", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "15"}], ",", "0.175", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "16"}], ",", "0.246", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "17"}], ",", "0.335", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "18"}], ",", "0.417", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "19"}], ",", "0.424", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "20"}], ",", "0.269", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "21"}], ",", "0.382", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "22"}], ",", "0.489", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "23"}], ",", "0.378", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "24"}], ",", "0.409", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "25"}], ",", "0.265", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "26"}], ",", "0.281", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"27", "\[LessEqual]", "age", "\[LessEqual]", "31"}], ",", 
      "0.218", ",", "\[IndentingNewLine]", 
      RowBox[{"32", "\[LessEqual]", "age", "\[LessEqual]", "36"}], ",", 
      "0.163", ",", "\[IndentingNewLine]", 
      RowBox[{"37", "\[LessEqual]", "age", "\[LessEqual]", "41"}], ",", 
      "0.102", ",", "\[IndentingNewLine]", 
      RowBox[{"42", "\[LessEqual]", "age"}], ",", "0.117"}], "]"}], ",", 
    "\n", "\"\<female\>\"", ",", 
    RowBox[{"Which", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"age", "\[LessEqual]", "11"}], ",", "0", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "12"}], ",", "0.043", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "13"}], ",", "0.086", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "14"}], ",", "0.128", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "15"}], ",", "0.171", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "16"}], ",", "0.162", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "17"}], ",", "0.254", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "18"}], ",", "0.341", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "19"}], ",", "0.33", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "20"}], ",", "0.372", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "21"}], ",", "0.345", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "22"}], ",", "0.303", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "23"}], ",", "0.328", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "24"}], ",", "0.257", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "25"}], ",", "0.174", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"age", "\[Equal]", "26"}], ",", "0.188", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"27", "\[LessEqual]", "age", "\[LessEqual]", "31"}], ",", 
      "0.164", ",", "\[IndentingNewLine]", 
      RowBox[{"32", "\[LessEqual]", "age", "\[LessEqual]", "36"}], ",", 
      "0.124", ",", "\[IndentingNewLine]", 
      RowBox[{"37", "\[LessEqual]", "age", "\[LessEqual]", "41"}], ",", 
      "0.112", ",", "\[IndentingNewLine]", 
      RowBox[{"42", "\[LessEqual]", "age"}], ",", "0.093"}], "]"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.6836300214622593`*^9, 3.6836303961928806`*^9}, {
  3.6836333425154657`*^9, 
  3.6836333453962927`*^9}},ExpressionUUID->"b9692516-7d55-4d2f-9c1f-\
85284df387e4"],

Cell[TextData[{
 "Males 13-19 partner data from Juarez and Mart\[IAcute]n, ",
 StyleBox["International Family Planning Perspectives ",
  FontWeight->"Bold"],
 "2006\nDifference between partners:\n<3 yrs. 77.7%\n>3yrs younger 14.1%\n\
>3yrs older 8.1%"
}], "Text",
 CellChangeTimes->{{3.6835505854325914`*^9, 
  3.68355067622989*^9}},ExpressionUUID->"12fd495e-6d2c-4c9f-8b19-\
5d9ed9265e92"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"NSolve", "[", 
  RowBox[{
   RowBox[{"CDF", "[", 
    RowBox[{
     RowBox[{"NormalDistribution", "[", 
      RowBox[{"a", ",", "b"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "3"}], ",", "3"}], "}"}]}], "]"}], "\[Equal]", 
   RowBox[{"{", 
    RowBox[{"0.141", ",", "0.919"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6835507986201277`*^9, 
  3.6835508777691936`*^9}},ExpressionUUID->"81e9f16a-5912-4920-b6c6-\
93f47bf8d986"],

Cell[BoxData[
 TemplateBox[{
  "NSolve","ifun",
   "\"Inverse functions are being used by \
\\!\\(\\*RowBox[{\\\"NSolve\\\"}]\\), so some solutions may not be found; use \
Reduce for complete solution information.\"",2,42,20,32387832447617937941,
   "Local"},
  "MessageTemplate"]], "Message", "MSG",
 CellChangeTimes->{3.6835508780816402`*^9, 3.6835559042125854`*^9, 
  3.6835582677845497`*^9, 3.6835627449184885`*^9, 3.6836304839183083`*^9, 
  3.6836333683518305`*^9, 3.683891321688074*^9, 3.6838921051463847`*^9, 
  3.6838945267786055`*^9, 
  3.7162273284807563`*^9},ExpressionUUID->"1e019f34-302d-438a-9281-\
72ff16b8076b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"a", "\[Rule]", 
     RowBox[{"-", "0.3910808791697205`"}]}], ",", 
    RowBox[{"b", "\[Rule]", "2.425012567240851`"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{{3.683550803672554*^9, 3.6835508780816402`*^9}, 
   3.683555904259474*^9, 3.6835582678352675`*^9, 3.6835627449214554`*^9, 
   3.683630483965152*^9, 3.683633368398714*^9, 3.6838913217030363`*^9, 
   3.6838921051493926`*^9, 3.683894526782573*^9, 
   3.7162273284807563`*^9},ExpressionUUID->"ca2c67b8-7abc-495e-8069-\
0deca8423be5"]
}, Open  ]],

Cell[TextData[{
 "Partners of male adolescents of age ",
 StyleBox["ageI",
  FontWeight->"Bold"],
 " have age distribution given by N[",
 StyleBox["ageI ",
  FontWeight->"Bold"],
 "- 0.391, 2.43]\nPartners of female adolescents of age ",
 StyleBox["ageI",
  FontWeight->"Bold"],
 " have age distribution given by N[",
 StyleBox["ageI ",
  FontWeight->"Bold"],
 "+ 0.391, 2.43]"
}], "Text",
 CellChangeTimes->{{3.683550973700943*^9, 
  3.6835510451654577`*^9}},ExpressionUUID->"2fe268c5-2db0-4795-a4c6-\
8b0a04f54017"],

Cell[TextData[{
 "Mean age distribution between spouses (yrs) - Wellings et al ",
 StyleBox["Lancet",
  FontWeight->"Bold"],
 " 2006\nBolivia 3.2\nColombia 4.5\nDominican Republic 5.8\nHaiti 6.3\n\
Nicaragua 5.3\nPeru 3.9"
}], "Text",
 CellChangeTimes->{{3.683551354604826*^9, 3.6835514486430216`*^9}, {
  3.6835537679299407`*^9, 
  3.683553801914316*^9}},ExpressionUUID->"035f7c2b-b3bb-4ad7-9994-\
a440bd9925c5"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "ageGap", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ageGap", "[", "country_", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"MemberQ", "[", 
       RowBox[{
        RowBox[{"Keys", "[", "#", "]"}], ",", "country"}], "]"}], ",", 
      RowBox[{"#", "[", "country", "]"}], ",", 
      RowBox[{"Mean", "[", 
       RowBox[{"Values", "[", "#", "]"}], "]"}]}], "]"}], "&"}], "[", 
   RowBox[{"Association", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\"\<Bolivia\>\"", "\[Rule]", "3.2"}], ",", 
      RowBox[{"\"\<Colombia\>\"", "\[Rule]", "4.5"}], ",", 
      RowBox[{"\"\<Dominican Republic\>\"", "\[Rule]", "5.8"}], ",", 
      RowBox[{"\"\<Haiti\>\"", "\[Rule]", "6.3"}], ",", 
      RowBox[{"\"\<Nicaragua\>\"", "\[Rule]", "5.3"}], ",", 
      RowBox[{"\"\<Peru\>\"", "\[Rule]", "3.9"}]}], "}"}], "]"}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.6835514532993727`*^9, 3.6835515547106447`*^9}, {
  3.683551598447433*^9, 
  3.683551600697318*^9}},ExpressionUUID->"359a5f32-75ee-433c-a6a7-\
8cd443be7403"],

Cell["\<\
Assumption: Set N dist such that 75% of partnerships consist of women younger \
than men\
\>", "Text",
 CellChangeTimes->{
  3.6835538044611936`*^9},ExpressionUUID->"a0c9ca03-d79a-4c60-85b4-\
aed76631c6b1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"propMarriageYoungerWife", "=", "0.25"}], ";"}]], "Code",
 CellChangeTimes->{{3.6835538087735405`*^9, 3.6835538201485796`*^9}, {
  3.6835539786330805`*^9, 
  3.6835539836643286`*^9}},ExpressionUUID->"0ebf9e53-9ec4-4f6a-8921-\
0de8fa4ec47c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ageGapStDev", "[", "country_", "]"}], ":=", 
  RowBox[{"s", "/.", 
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{"InverseCDF", "[", 
       RowBox[{
        RowBox[{"NormalDistribution", "[", 
         RowBox[{
          RowBox[{"ageGap", "[", "country", "]"}], ",", "s"}], "]"}], ",", 
        RowBox[{"{", "propMarriageYoungerWife", "}"}]}], "]"}], "\[Equal]", 
      "0"}], "]"}], "[", 
    RowBox[{"[", "1", "]"}], "]"}]}]}]], "Code",
 CellChangeTimes->{{3.6835538393672924`*^9, 3.683553902914323*^9}, {
   3.6835539412424517`*^9, 3.683553953773704*^9}, 
   3.683553987054955*^9},ExpressionUUID->"ae791ba1-30b8-4239-ad2c-\
857b1135dd95"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"#", ",", 
       RowBox[{"ageGap", "[", "#", "]"}], ",", 
       RowBox[{"ageGapStDev", "[", "#", "]"}]}], "}"}], "&"}], "/@", 
    "CountryNames"}], ")"}], "//", "MatrixForm"}]], "Input",
 CellChangeTimes->{{3.6858790946836705`*^9, 
  3.685879129495589*^9}},ExpressionUUID->"5def0862-c588-4da3-b320-\
cf9a29413c09"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"\<\"Aruba\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Barbados\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Belize\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Bolivia\"\>", "3.2`", "4.744327099217926`"},
     {"\<\"Bonaire\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Brazil\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Colombia\"\>", "4.5`", "6.671709983275208`"},
     {"\<\"Costa Rica\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Cuba\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Curacao\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Dominica\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Dominican Republic\"\>", "5.8`", "8.59909286733249`"},
     {"\<\"Ecuador\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"El Salvador\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"French Guiana\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Guadeloupe\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Guatemala\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Guyana\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Haiti\"\>", "6.3`", "9.34039397658529`"},
     {"\<\"Honduras\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Jamaica\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Martinique\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Mexico\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Nicaragua\"\>", "5.3`", "7.8577917580796885`"},
     {"\<\"Panama\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Paraguay\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Puerto Rico\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Saint Lucia\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Saint Martin\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Saint Vincent and the Grenadines\"\>", "4.833333333333333`", 
      "7.165910722777075`"},
     {"\<\"Suriname\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Trinidad and Tobago\"\>", "4.833333333333333`", 
      "7.165910722777075`"},
     {"\<\"Venezuela\"\>", "4.833333333333333`", "7.165910722777075`"},
     {"\<\"Virgin Islands\"\>", "4.833333333333333`", "7.165910722777075`"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.6858790994068604`*^9, 3.6858791298211403`*^9}, 
   3.7162273285276275`*^9},ExpressionUUID->"b0e741cc-acb4-454a-8428-\
4389afb52fce"]
}, Open  ]],

Cell[TextData[StyleBox["Age-specific mixing matrix",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.683561042287449*^9, 
  3.6835610684169245`*^9}},ExpressionUUID->"3a7d8113-44ca-4012-ac81-\
28c659ddf1fe"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "mixing", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mixing", "[", 
   RowBox[{"country_", ",", "age_", ",", "gender_"}], "]"}], ":=", "\n", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"age", "<", "20"}], ",", "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"gender", "\[Equal]", "\"\<male\>\""}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Normalize", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ageI", "<", "11"}], ",", "0", ",", 
            RowBox[{"Chop", "[", 
             RowBox[{"PDF", "[", 
              RowBox[{
               RowBox[{"NormalDistribution", "[", 
                RowBox[{
                 RowBox[{"age", "-", "0.391"}], ",", "2.43"}], "]"}], ",", 
               "ageI"}], "]"}], "]"}]}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"ageI", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
        "Total"}], "]"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Normalize", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ageI", "<", "11"}], ",", "0", ",", 
            RowBox[{"Chop", "[", 
             RowBox[{"PDF", "[", 
              RowBox[{
               RowBox[{"NormalDistribution", "[", 
                RowBox[{
                 RowBox[{"age", "+", "0.391"}], ",", "2.43"}], "]"}], ",", 
               "ageI"}], "]"}], "]"}]}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"ageI", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
        "Total"}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"gender", "\[Equal]", "\"\<male\>\""}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Normalize", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ageI", "<", "11"}], ",", "0", ",", 
            RowBox[{"Chop", "[", 
             RowBox[{"PDF", "[", 
              RowBox[{
               RowBox[{"NormalDistribution", "[", 
                RowBox[{
                 RowBox[{"age", "-", 
                  RowBox[{"ageGap", "[", "country", "]"}]}], ",", 
                 RowBox[{"ageGapStDev", "[", "country", "]"}]}], "]"}], ",", 
               "ageI"}], "]"}], "]"}]}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"ageI", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
        "Total"}], "]"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Normalize", "[", 
       RowBox[{
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ageI", "<", "11"}], ",", "0", ",", 
            RowBox[{"Chop", "[", 
             RowBox[{"PDF", "[", 
              RowBox[{
               RowBox[{"NormalDistribution", "[", 
                RowBox[{
                 RowBox[{"age", "+", 
                  RowBox[{"ageGap", "[", "country", "]"}]}], ",", 
                 RowBox[{"ageGapStDev", "[", "country", "]"}]}], "]"}], ",", 
               "ageI"}], "]"}], "]"}]}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"ageI", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
        "Total"}], "]"}]}], "]"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.6835505178687763`*^9, 3.6835505275871687`*^9}, {
  3.68355072493246*^9, 3.6835507259636116`*^9}, {3.683550757211879*^9, 
  3.683550767343024*^9}, {3.683551212897339*^9, 3.6835512394980745`*^9}, {
  3.6835540110549583`*^9, 3.683554020195568*^9}, {3.683554066492342*^9, 
  3.683554109664339*^9}, {3.683555653088604*^9, 3.683555675525699*^9}, {
  3.6835557745055494`*^9, 3.6835558208235044`*^9}, {3.683558116547053*^9, 
  3.6835581180206547`*^9}},ExpressionUUID->"ff6efff3-f445-405a-a895-\
83405ec65e13"],

Cell[TextData[StyleBox["Age-specific effective partner change rate",
 FontWeight->"Bold"]], "Text",
 CellChangeTimes->{{3.683561042287449*^9, 
  3.683561080731286*^9}},ExpressionUUID->"7726c959-8c0a-416b-ad6e-\
b14ea7dd843f"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "partnerChangeRate", "]"}], "\n", 
 RowBox[{
  RowBox[{"partnerChangeRate", "[", 
   RowBox[{"age_", ",", "gender_"}], "]"}], ":=", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"gender", "\[Equal]", "\"\<male\>\""}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Which", "[", 
     RowBox[{
      RowBox[{"age", "\[LessEqual]", "15"}], ",", "2.51", ",", 
      RowBox[{"age", "\[Equal]", "16"}], ",", "3.67", ",", 
      RowBox[{"age", "\[Equal]", "17"}], ",", "3.57", ",", 
      RowBox[{"age", "\[Equal]", "18"}], ",", "2.62", ",", 
      RowBox[{"age", "\[Equal]", "19"}], ",", "4.27", ",", 
      RowBox[{"age", "\[Equal]", "20"}], ",", "4.51", ",", 
      RowBox[{"age", "\[Equal]", "21"}], ",", "3.48", ",", 
      RowBox[{"age", "\[Equal]", "22"}], ",", "3.83", ",", 
      RowBox[{"age", "\[Equal]", "23"}], ",", "4.18", ",", 
      RowBox[{"age", "\[Equal]", "24"}], ",", "3.76", ",", 
      RowBox[{"age", "\[Equal]", "25"}], ",", "2.88", ",", 
      RowBox[{"age", "\[Equal]", "26"}], ",", "4.13", ",", 
      RowBox[{"27", "\[LessEqual]", "age", "\[LessEqual]", "31"}], ",", 
      "3.74", ",", 
      RowBox[{"32", "\[LessEqual]", "age", "\[LessEqual]", "36"}], ",", 
      "4.06", ",", 
      RowBox[{"37", "\[LessEqual]", "age", "\[LessEqual]", "41"}], ",", 
      "3.81", ",", 
      RowBox[{"42", "\[LessEqual]", "age"}], ",", "3.06"}], "]"}], ",", "\n", 
    RowBox[{"Which", "[", 
     RowBox[{
      RowBox[{"age", "\[LessEqual]", "15"}], ",", "1.94", ",", 
      RowBox[{"age", "\[Equal]", "16"}], ",", "2.15", ",", 
      RowBox[{"age", "\[Equal]", "17"}], ",", "1.96", ",", 
      RowBox[{"age", "\[Equal]", "18"}], ",", "3.36", ",", 
      RowBox[{"age", "\[Equal]", "19"}], ",", "4.05", ",", 
      RowBox[{"age", "\[Equal]", "20"}], ",", "3.37", ",", 
      RowBox[{"age", "\[Equal]", "21"}], ",", "3.43", ",", 
      RowBox[{"age", "\[Equal]", "22"}], ",", "2.69", ",", 
      RowBox[{"age", "\[Equal]", "23"}], ",", "4.29", ",", 
      RowBox[{"age", "\[Equal]", "24"}], ",", "3.43", ",", 
      RowBox[{"age", "\[Equal]", "25"}], ",", "3.28", ",", 
      RowBox[{"age", "\[Equal]", "26"}], ",", "2.62", ",", 
      RowBox[{"27", "\[LessEqual]", "age", "\[LessEqual]", "31"}], ",", 
      "2.88", ",", 
      RowBox[{"32", "\[LessEqual]", "age", "\[LessEqual]", "36"}], ",", 
      "2.54", ",", 
      RowBox[{"37", "\[LessEqual]", "age", "\[LessEqual]", "41"}], ",", 
      "2.44", ",", 
      RowBox[{"42", "\[LessEqual]", "age"}], ",", "2.15"}], "]"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.6835610921156845`*^9, 3.683561286706828*^9}, {
  3.6835613246143184`*^9, 3.683561416425617*^9}, {3.6835624511976833`*^9, 
  3.68356245797421*^9}, {3.6835629086407156`*^9, 
  3.6835629125164766`*^9}},ExpressionUUID->"53a3fcb2-1686-433c-8bc1-\
dc051fd8bc8d"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Vector population demographics", "Subsection",
 CellChangeTimes->{{3.6648038281997814`*^9, 
  3.6648038309986305`*^9}},ExpressionUUID->"c4efeb41-4804-429a-8db3-\
f5bf2a2f17b2"],

Cell[CellGroupData[{

Cell["Mosquito country-specific prevalence", "Subsubsection",
 CellChangeTimes->{{3.66644928406518*^9, 
  3.666449290696847*^9}},ExpressionUUID->"ebb859e4-ea83-4c1a-817f-\
2697b812d9cc"],

Cell["\<\
Mosquito prevalence is measured as female mosquitoes per human\
\>", "Text",
 CellChangeTimes->{{3.666638603499035*^9, 
  3.666638612458396*^9}},ExpressionUUID->"3d4be152-9f1f-47e6-a96f-\
2a0e92debb36"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mosqPrev", "[", "country_", "]"}], ":=", 
  RowBox[{"country", "/.", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\"\<Brazil\>\"", "\[Rule]", "0.09"}], ",", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Rodrigues", " ", "2015"}], ",", " ", "Quintero"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Colombia\>\"", "\[Rule]", 
      RowBox[{"Mean", "[", 
       RowBox[{"{", 
        RowBox[{
        "1.24", ",", "1.03", ",", "0.53", ",", "0.23", ",", "1", ",", "1.3"}],
         "}"}], "]"}]}], ",", 
     RowBox[{"(*", 
      RowBox[{"Quintero", ",", " ", 
       RowBox[{"Romero", "-", "Vivas"}], ",", "Alcala"}], "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Costa Rica\>\"", "\[Rule]", 
      RowBox[{"Mean", "[", 
       RowBox[{"{", 
        RowBox[{"0.36", ",", "0.09"}], "}"}], "]"}]}], ",", 
     RowBox[{"(*", "Troyo", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"\"\<El Salvador\>\"", "\[Rule]", "0.34"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Honduras"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<French Guiana\>\"", "\[Rule]", "0.888333"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Colombia"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Guatemala\>\"", "\[Rule]", "0.34"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Honduras"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Honduras\>\"", "\[Rule]", "0.34"}], ",", 
     RowBox[{"(*", "Focks", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"\"\<Martinique\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Mexico\>\"", "\[Rule]", 
      RowBox[{"Mean", "[", 
       RowBox[{"{", 
        RowBox[{"0.03", ",", "0.2", ",", "2.75"}], "}"}], "]"}]}], ",", 
     RowBox[{"(*", 
      RowBox[{"Quintero", ",", "Focks"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"\"\<Panama\>\"", "\[Rule]", "0.225"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Costa", " ", "Rica"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Puerto Rico\>\"", "\[Rule]", 
      RowBox[{"Mean", "[", 
       RowBox[{"{", 
        RowBox[{"1.73", ",", "2.75"}], "}"}], "]"}]}], ",", 
     RowBox[{"(*", "Focks", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"\"\<Paraguay\>\"", "\[Rule]", "0.09"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Brazil"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Suriname\>\"", "\[Rule]", "0.888333"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Colombia"}], "*)"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"\"\<Venezuela\>\"", "\[Rule]", "0.888333"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Colombia"}], "*)"}], ",", "\n", "\n", 
     "\n", 
     RowBox[{"\"\<Aruba\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Barbados\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Belize\>\"", "\[Rule]", "0.34"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Honduras"}], "*)"}], ",", "\n", 
     RowBox[{"\"\<Bolivia\>\"", "\[Rule]", "0.09"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Brazil"}], "*)"}], ",", "\n", 
     RowBox[{"\"\<Bonaire\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Cuba\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Curacao\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Dominica\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Dominican Republic\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Ecuador\>\"", "\[Rule]", 
      RowBox[{"Mean", "[", 
       RowBox[{"{", 
        RowBox[{"0.37", ",", "1.42"}], "}"}], "]"}]}], 
     RowBox[{"(*", "Quintero", "*)"}], ",", "\n", 
     RowBox[{"\"\<Guadeloupe\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Guyana\>\"", "\[Rule]", "0.888333"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Colombia"}], "*)"}], ",", "\n", 
     RowBox[{"\"\<Haiti\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Jamaica\>\"", "\[Rule]", "2.24"}], " ", 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Puerto", " ", "Rico"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Nicaragua\>\"", "\[Rule]", "0.34"}], 
     RowBox[{"(*", 
      RowBox[{"Set", " ", "to", " ", "Honduras", " ", "Focks"}], "*)"}], ",", 
     "\n", 
     RowBox[{"\"\<Saint Lucia\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Saint Martin\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Saint Vincent and the Grenadines\>\"", "\[Rule]", "0.65"}], 
     " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", 
     RowBox[{"\"\<Trinidad and Tobago\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", "Chadee", "*)"}], ",", "\n", 
     RowBox[{"\"\<Virgin Islands\>\"", "\[Rule]", "0.65"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Set", " ", "to", " ", "Trinidad"}], ";", " ", "Chadee"}], 
      "*)"}], ",", "\n", "\n", 
     RowBox[{"\"\<French Polynesia\>\"", "\[Rule]", 
      RowBox[{"Mean", "[", 
       RowBox[{"{", 
        RowBox[{"0.157", ",", "0.288"}], "}"}], "]"}]}]}], 
    RowBox[{"(*", 
     RowBox[{
     "Set", " ", "to", " ", "Phillippines", " ", "from", " ", "Wai", " ", 
      "et", " ", "al", " ", "2013"}], "*)"}], "\n", "}"}]}]}]], "Code",
 CellChangeTimes->{{3.6664493062358665`*^9, 3.666449312753483*^9}, {
   3.666449367609375*^9, 3.6664494646261563`*^9}, {3.666536658944388*^9, 
   3.666536674434491*^9}, {3.6666386446847634`*^9, 3.666638776345001*^9}, {
   3.6666989280050263`*^9, 3.6666989507811036`*^9}, {3.668966920012783*^9, 
   3.668966999717566*^9}, {3.6689673735328894`*^9, 3.6689673893883333`*^9}, {
   3.66896743809207*^9, 3.6689674486996927`*^9}, {3.6691332910422635`*^9, 
   3.669133336595832*^9}, {3.6691334066025944`*^9, 3.6691334152747416`*^9}, {
   3.6691334751094704`*^9, 3.6691334771581573`*^9}, {3.6691335318372617`*^9, 
   3.669133544722319*^9}, {3.670338457625455*^9, 3.670338491969774*^9}, 
   3.670338529106059*^9, {3.6703392775034575`*^9, 3.670339299759556*^9}, {
   3.670341615672119*^9, 3.6703416254016495`*^9}, {3.670345121814727*^9, 
   3.670345147534929*^9}, {3.670345231270011*^9, 3.670345361878193*^9}, {
   3.670345426013529*^9, 3.6703454818771305`*^9}, 3.670345599229435*^9, 
   3.6703456386453295`*^9, 3.6704982123442545`*^9, {3.6738001445788145`*^9, 
   3.673800149656629*^9}, {3.673800685862136*^9, 
   3.673800724320397*^9}},ExpressionUUID->"2904fc89-f05e-4f31-b235-\
9676f384bd48"]
}, Closed]],

Cell[CellGroupData[{

Cell["Mosquito population", "Subsubsection",
 CellChangeTimes->{{3.6664492751868496`*^9, 3.6664492828092947`*^9}, 
   3.6741709950974503`*^9},ExpressionUUID->"0a0c5d98-9c98-4203-b158-\
ee34796ae8cb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mosquitoPopulation", "[", "country_", "]"}], ":=", 
  RowBox[{
   RowBox[{"Total", "[", 
    RowBox[{
     RowBox[{"computeAgeProfile1yr", "[", "country", "]"}], ",", "2"}], "]"}],
    "*", 
   RowBox[{"mosqPrev", "[", "country", "]"}]}]}]], "Code",
 CellChangeTimes->{
  3.6651617332126994`*^9, {3.665161780059951*^9, 3.6651617805408244`*^9}, 
   3.665161921428322*^9, {3.666442217047983*^9, 3.6664422197667646`*^9}, {
   3.6664426875103054`*^9, 3.6664426909822063`*^9}, {3.6665366817273893`*^9, 
   3.66653668275865*^9}},ExpressionUUID->"bc93ba8a-9735-4a04-a595-\
0a9c0c91102d"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Vaccination", "Subsection",
 CellChangeTimes->{{3.6648087613424625`*^9, 
  3.6648087624361615`*^9}},ExpressionUUID->"c808b930-74f0-4485-9b3b-\
effd72596afb"],

Cell[CellGroupData[{

Cell["Vaccination equations", "Subsubsection",
 CellChangeTimes->{{3.6648087664397755`*^9, 
  3.664808768207382*^9}},ExpressionUUID->"a623bfcb-7703-4a4a-a2ca-\
0eadd4f8e4cd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"m\[Nu]", "[", "ageI_", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"\"\<mVaccAge\>\"", "<>", 
    RowBox[{"ToString", "[", "ageI", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f\[Nu]", "[", "ageI_", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"\"\<fVaccAge\>\"", "<>", 
    RowBox[{"ToString", "[", "ageI", "]"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.664808728599151*^9, 
  3.664808750067311*^9}},ExpressionUUID->"3f898544-948c-4006-baff-\
b4d5fc845920"]
}, Closed]],

Cell[CellGroupData[{

Cell["No vaccination scenario", "Subsubsection",
 CellChangeTimes->{{3.6648087664397755`*^9, 3.664808768207382*^9}, {
  3.664813490056821*^9, 
  3.6648134923850937`*^9}},ExpressionUUID->"b67996c4-8262-48ed-b9f3-\
5c9f174253dd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"NoVaccScen", "=", 
   RowBox[{"Flatten", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"m\[Nu]", "[", "ageI", "]"}], "\[Rule]", "0"}], ",", 
        RowBox[{
         RowBox[{"f\[Nu]", "[", "ageI", "]"}], "\[Rule]", "0"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"ageI", ",", "AgeClasses"}], "}"}]}], "]"}], "]"}]}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.6648134951975937`*^9, 3.6648135272557106`*^9}, {
  3.6651816026177444`*^9, 3.6651816391154184`*^9}, {3.6664422614723425`*^9, 
  3.6664422668630295`*^9}},ExpressionUUID->"2ec3164c-ca6c-476d-8827-\
18965e0b3c90"]
}, Closed]],

Cell[CellGroupData[{

Cell["\<\
Catch-up coverage of X% of the population of specified age each year, with \
vaccination time toggled by vaccscen interpolating function\
\>", "Subsubsection",
 CellChangeTimes->{{3.6648087664397755`*^9, 3.664808768207382*^9}, {
  3.664813490056821*^9, 3.6648134923850937`*^9}, {3.664886096705741*^9, 
  3.6648861617709975`*^9}, {3.6662995293665066`*^9, 3.666299542205056*^9}, {
  3.666303477896037*^9, 3.666303495700121*^9}, {3.6664428346839514`*^9, 
  3.666442852440762*^9}},ExpressionUUID->"0e4027b9-aa3d-422b-98c1-\
5b12cf65dbea"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "AnnualVacc", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AnnualVacc", "[", 
   RowBox[{
   "x_", ",", "malevacc_", ",", "femalevacc_", ",", "vaccagelow_", ",", 
    "vaccagehigh_", ",", "vaccscen_"}], "]"}], ":=", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"xAsRate", "=", 
      RowBox[{"-", 
       RowBox[{"Log", "[", 
        RowBox[{"1", "-", "x"}], "]"}]}]}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Flatten", "[", "\[IndentingNewLine]", 
     RowBox[{"Table", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"m\[Nu]", "[", "age", "]"}], "\[Rule]", 
          RowBox[{"If", "[", 
           RowBox[{"malevacc", ",", 
            RowBox[{
             RowBox[{"vaccscen", "[", "t", "]"}], "*", "xAsRate"}], ",", 
            "0"}], "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"f\[Nu]", "[", "age", "]"}], "\[Rule]", 
          RowBox[{"If", "[", 
           RowBox[{"femalevacc", ",", 
            RowBox[{
             RowBox[{"vaccscen", "[", "t", "]"}], "*", "xAsRate"}], ",", 
            "0"}], "]"}]}]}], "\[IndentingNewLine]", "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"age", ",", "vaccagelow", ",", "vaccagehigh"}], "}"}]}], 
      "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Code",
 CellChangeTimes->{{3.666303654574702*^9, 3.6663038519481707`*^9}, {
  3.6663043879559402`*^9, 
  3.6663043905986814`*^9}},ExpressionUUID->"c8a04825-838e-4622-95d6-\
b7b1c8e0a481"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Model equations", "Subsection",
 CellChangeTimes->{{3.5932819013231936`*^9, 3.593281905129593*^9}, {
  3.5984652030663395`*^9, 3.5984652035066624`*^9}, {3.598467934466195*^9, 
  3.598467934863465*^9}, {3.598471946637023*^9, 3.5984719471023283`*^9}, {
  3.5989018602095294`*^9, 3.5989018605967884`*^9}, {3.600965209014248*^9, 
  3.6009652094455357`*^9}, {3.6009682556844997`*^9, 3.6009682561578145`*^9}, {
  3.600986942441311*^9, 
  3.6009869428856115`*^9}},ExpressionUUID->"fbd97ba7-89c4-419d-aba3-\
fdeded354358"],

Cell[CellGroupData[{

Cell["Setup", "Subsubsection",
 CellChangeTimes->{{3.6265227405238895`*^9, 
  3.626522747761653*^9}},ExpressionUUID->"1ba81635-4aa8-4de8-8b60-\
bb7766c98aa7"],

Cell["\<\
Short-hand for epi equations. Define the mathematical symbol for a \
compartment of type epi, age, and risk\
\>", "Text",
 CellChangeTimes->{{3.6643037816490173`*^9, 
  3.664303836977188*^9}},ExpressionUUID->"f5854e74-e71c-47a3-b6e9-\
b286ec7453d8"],

Cell[BoxData[
 RowBox[{
  RowBox[{"eq", "[", 
   RowBox[{"epi_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{
    RowBox[{"ToString", "[", "epi", "]"}], "<>", "\"\<A\>\"", "<>", 
    RowBox[{"ToString", "[", "age", "]"}], "<>", "\"\<[t]\>\""}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.599223905388137*^9, 3.5992239501806993`*^9}, {
  3.6648046803058267`*^9, 
  3.664804688771225*^9}},ExpressionUUID->"7162832a-56d6-47b0-9dc7-\
9bc9ce7fce8b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"eqV", "[", "epi_", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{
    RowBox[{"ToString", "[", "epi", "]"}], "<>", "\"\<[t]\>\""}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.599223905388137*^9, 3.5992239501806993`*^9}, {
  3.6648046803058267`*^9, 
  3.664804714668392*^9}},ExpressionUUID->"dc56ab74-61a0-45c4-8919-\
93ed2cf44bcf"]
}, Closed]],

Cell[CellGroupData[{

Cell["Compartments", "Subsubsection",
 CellChangeTimes->{{3.6265227405238895`*^9, 3.626522747761653*^9}, {
  3.6648136654945545`*^9, 
  3.6648136667912493`*^9}},ExpressionUUID->"0440248f-f2ab-46e8-9e49-\
682d0523749b"],

Cell["\<\
Group classes based into those who are infectious vs uninfectious, as well as \
counter classes for easy results processing\
\>", "Text",
 CellChangeTimes->{{3.6643038433383503`*^9, 
  3.6643038810851336`*^9}},ExpressionUUID->"1176fd13-e0c5-4adc-9857-\
94856988e723"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"maleInfectedClasses", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<mI\>\"", ",", "\"\<mIsex\>\""}], "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"maleExposedClasses", "=", 
   RowBox[{"{", "\"\<mE\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"maleUninfectedClasses", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<mS\>\"", ",", "\"\<mR\>\"", ",", "\"\<mV\>\""}], "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"maleEpiClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{
    "maleInfectedClasses", ",", "maleExposedClasses", ",", 
     "maleUninfectedClasses"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"maleRecoveredClasses", "=", 
   RowBox[{"{", "\"\<mR\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"malePopulationClasses", "=", 
   RowBox[{"{", "\"\<mN\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"maleCounterClasses", "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TotalMalesVaccinated\>\"", ",", "\"\<TotalMalesInfected\>\"", ",", 
     "\"\<MaleInfectionsVector\>\"", ",", "\"\<MaleInfectionsSexual\>\""}], 
    "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"maleAllClasses", "=", 
    RowBox[{"Join", "[", 
     RowBox[{
     "maleEpiClasses", ",", "maleCounterClasses", ",", 
      "malePopulationClasses"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"femaleInfectedClasses", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<fI\>\"", ",", "\"\<fIsex\>\""}], "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"femaleExposedClasses", "=", 
   RowBox[{"{", "\"\<fE\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"femaleUninfectedClasses", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<fS\>\"", ",", "\"\<fR\>\"", ",", "\"\<fV\>\""}], "}"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"femaleEpiClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{
    "femaleInfectedClasses", ",", "femaleExposedClasses", ",", 
     "femaleUninfectedClasses"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"femaleRecoveredClasses", "=", 
   RowBox[{"{", "\"\<fR\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"femalePopulationClasses", "=", 
   RowBox[{"{", "\"\<fN\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"femaleCounterClasses", "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TotalFemalesVaccinated\>\"", ",", "\"\<TotalFemalesInfected\>\"", 
     ",", "\"\<FemaleInfectionsVector\>\"", ",", 
     "\"\<FemaleInfectionsSexual\>\""}], "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"femaleAllClasses", "=", 
    RowBox[{"Join", "[", 
     RowBox[{
     "femaleEpiClasses", ",", "femaleCounterClasses", ",", 
      "femalePopulationClasses"}], "]"}]}], ";"}], "\n"}], "\n", 
 RowBox[{
  RowBox[{"hInfectedClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"maleInfectedClasses", ",", "femaleInfectedClasses"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hExposedClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"maleExposedClasses", ",", "femaleExposedClasses"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"hUninfectedClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"maleUninfectedClasses", ",", "femaleUninfectedClasses"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"hEpiClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"maleEpiClasses", ",", "femaleEpiClasses"}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"hPopulationClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"malePopulationClasses", ",", "femalePopulationClasses"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"hCounterClasses", "=", 
    RowBox[{"Join", "[", 
     RowBox[{"maleCounterClasses", ",", "femaleCounterClasses"}], "]"}]}], 
   ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"hRecoveredClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"maleRecoveredClasses", ",", "femaleRecoveredClasses"}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"hVaccinatedClasses", "=", 
    RowBox[{"{", 
     RowBox[{"\"\<mV\>\"", ",", "\"\<fV\>\""}], "}"}]}], ";"}], "\n"}], "\n", 
 RowBox[{
  RowBox[{"hAllClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"maleAllClasses", ",", "femaleAllClasses"}], "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.6476043660221324`*^9, 3.6476044040314136`*^9}, 
   3.6641133534658175`*^9, {3.6641134142049637`*^9, 3.664113434467648*^9}, {
   3.6641288189139767`*^9, 3.6641288216170735`*^9}, {3.6641952123333983`*^9, 
   3.6641952141971884`*^9}, 3.6642206210945835`*^9, {3.6648047424359703`*^9, 
   3.6648047608603487`*^9}, {3.664804801090736*^9, 3.6648048143841815`*^9}, {
   3.66480551332343*^9, 3.6648055459702682`*^9}, {3.6648056545715256`*^9, 
   3.664805669744692*^9}, {3.664805802413108*^9, 3.6648058397759523`*^9}, {
   3.664806169025339*^9, 3.6648063908535595`*^9}, {3.6648078644914193`*^9, 
   3.664807877605336*^9}, {3.6648079231551027`*^9, 3.6648079381886835`*^9}, 
   3.6648079711036253`*^9, {3.6648127670765777`*^9, 3.6648127693367414`*^9}, {
   3.664813917011156*^9, 3.664813969883587*^9}, {3.6651591895440855`*^9, 
   3.665159267661091*^9}, {3.665159307652392*^9, 3.665159321105192*^9}, {
   3.665328999026534*^9, 3.665329010133376*^9}, {3.6653362745183496`*^9, 
   3.6653362817674785`*^9}, {3.6661178846030455`*^9, 
   3.6661178950750265`*^9}, {3.666117957418877*^9, 3.666117959078667*^9}, {
   3.6712804718039155`*^9, 3.671280506519606*^9}, {3.6760441595941167`*^9, 
   3.6760441886860847`*^9}, 3.6833722326167507`*^9, {3.683376849942479*^9, 
   3.683376878386051*^9}, {3.683394686294133*^9, 3.683394699426186*^9}, {
   3.6833947643290663`*^9, 3.6833947670009212`*^9}, {3.683395558060596*^9, 
   3.6833955817481976`*^9}},ExpressionUUID->"cdbb543a-367b-43a0-bc82-\
943400a8f147"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"vInfectedClasses", "=", 
   RowBox[{"{", "\"\<vI\>\"", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vExposedClasses", "=", 
   RowBox[{"{", "\"\<vE\>\"", "}"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"vUninfectedClasses", "=", 
    RowBox[{"{", 
     RowBox[{"\"\<vS\>\"", ",", "\"\<vN\>\""}], "}"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"vEpiClasses", "=", 
    RowBox[{"Join", "[", 
     RowBox[{
     "vUninfectedClasses", ",", "vExposedClasses", ",", "vInfectedClasses"}], 
     "]"}]}], ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"vCounterClasses", "=", 
   RowBox[{"{", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vAllClasses", "=", 
   RowBox[{"Join", "[", 
    RowBox[{"vEpiClasses", ",", "vCounterClasses"}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.6476043660221324`*^9, 3.6476044040314136`*^9}, 
   3.6641133534658175`*^9, {3.6641134142049637`*^9, 3.664113434467648*^9}, {
   3.6641288189139767`*^9, 3.6641288216170735`*^9}, {3.6641952123333983`*^9, 
   3.6641952141971884`*^9}, 3.6642206210945835`*^9, {3.6648047424359703`*^9, 
   3.6648047608603487`*^9}, {3.664804801090736*^9, 3.6648048143841815`*^9}, {
   3.66480551332343*^9, 3.6648055459702682`*^9}, {3.6648056545715256`*^9, 
   3.664805669744692*^9}, {3.6648057239174643`*^9, 3.6648057515542326`*^9}, {
   3.664805854301425*^9, 3.6648058704173107`*^9}, {3.6648066651981225`*^9, 
   3.664806666112443*^9}},ExpressionUUID->"0fd2504c-7856-40f8-8dd6-\
b34b773735e7"]
}, Closed]],

Cell[CellGroupData[{

Cell["Transmission terms", "Subsubsection",
 CellChangeTimes->{{3.6265227405238895`*^9, 3.6265227434022856`*^9}, 
   3.6265227923831863`*^9},ExpressionUUID->"31caa4e2-a6c4-4ad8-a50a-\
a0be83f82236"],

Cell["FOI acting on humans", "Text",
 CellChangeTimes->{{3.664807087995019*^9, 
  3.6648070938101006`*^9}},ExpressionUUID->"585a4c84-d32d-41df-8e18-\
dddb556fe3ea"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "\[Lambda]vh", "]"}], "\n", 
 RowBox[{"\[Lambda]vh", ":=", 
  RowBox[{"c", "*", "\[Beta]vh", "*", 
   RowBox[{
    RowBox[{"Sum", "[", 
     RowBox[{
      RowBox[{"eqV", "[", "epi", "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"epi", ",", "vInfectedClasses"}], "}"}]}], "]"}], "/", 
    RowBox[{"AllN", "[", "t", "]"}]}]}]}]}], "Code",
 CellChangeTimes->{{3.6648069263517*^9, 3.664806929508391*^9}, {
  3.6648074527762065`*^9, 3.6648074795396695`*^9}, {3.6648075716484346`*^9, 
  3.6648075878907957`*^9}, {3.665157233168542*^9, 3.6651572346230946`*^9}, {
  3.6651591477437224`*^9, 3.665159148056226*^9}, {3.665159418515505*^9, 
  3.6651594191873884`*^9}, {3.665164241188469*^9, 
  3.665164242677722*^9}},ExpressionUUID->"1f040ab7-2216-4cf4-b417-\
676b3d255f02"],

Cell["FOI acting on mosquitoes", "Text",
 CellChangeTimes->{{3.664886461415906*^9, 
  3.6648864643732033`*^9}},ExpressionUUID->"8e33109d-eeaf-4b3f-8c18-\
fe76655968e9"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "\[Lambda]hv", "]"}], "\n", 
 RowBox[{
  RowBox[{"addlFOI", "=", "0"}], ";"}], "\n", 
 RowBox[{"\[Lambda]hv", ":=", 
  RowBox[{"c", "*", "\[Beta]hv", "*", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"Sum", "[", 
       RowBox[{
        RowBox[{"eq", "[", 
         RowBox[{"epi", ",", "age"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"epi", ",", 
          RowBox[{"{", 
           RowBox[{"\"\<mI\>\"", ",", "\"\<fI\>\""}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"age", ",", "AgeClasses"}], "}"}]}], "]"}], "+", "addlFOI"}],
      ")"}], "/", 
    RowBox[{"AllN", "[", "t", "]"}]}]}]}]}], "Code",
 CellChangeTimes->{{3.6648069263517*^9, 3.664806929508391*^9}, {
   3.6648074527762065`*^9, 3.6648074795396695`*^9}, {3.6648075716484346`*^9, 
   3.66480763446988*^9}, {3.664812844443681*^9, 3.664812845635318*^9}, {
   3.665157236921671*^9, 3.665157238157428*^9}, 3.665159428985672*^9, 
   3.665164249544012*^9, {3.6661163284872875`*^9, 3.6661163394201584`*^9}, {
   3.6661165612847624`*^9, 3.666116566678134*^9}, 3.6664450320338163`*^9, 
   3.6760345655677915`*^9, {3.676034617222715*^9, 3.6760346191228905`*^9}, {
   3.6833770027932796`*^9, 
   3.683377008052303*^9}},ExpressionUUID->"609cbe93-8c37-4351-92a9-\
c8ccdb4bd84f"],

Cell["FOI acting from women to men", "Text",
 CellChangeTimes->{{3.6833769620241656`*^9, 
  3.6833769675402603`*^9}},ExpressionUUID->"5b0400e5-ebac-4339-bf7b-\
4e683f85cbe5"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "\[Lambda]fm", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Lambda]fm", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", "0"}]}], "Code",
 CellChangeTimes->{{3.683376969083337*^9, 3.683377036043206*^9}, {
   3.68337717523911*^9, 3.683377194260661*^9}, {3.683554532115963*^9, 
   3.6835545941142254`*^9}, {3.683555692684531*^9, 3.6835557092091846`*^9}, 
   3.6835562673925495`*^9, {3.6835568887463193`*^9, 3.683556890433133*^9}, {
   3.6835569779641714`*^9, 3.683556986209878*^9}, {3.683557956853696*^9, 
   3.683557958164179*^9}, {3.6835579982047215`*^9, 3.6835580189846444`*^9}, {
   3.6835581674850206`*^9, 3.6835582288920608`*^9}, {3.6835586085101695`*^9, 
   3.683558644177697*^9}, 3.68355868017911*^9, {3.6835587484025316`*^9, 
   3.6835587494264555`*^9}, {3.683562478181263*^9, 3.683562490965039*^9}, {
   3.683562562180624*^9, 3.6835625693329315`*^9}, 
   3.6838921336614065`*^9},ExpressionUUID->"be0e195f-afef-49e7-b457-\
28d97ecbef93"],

Cell["FOI acting from men to women", "Text",
 CellChangeTimes->{{3.6833769620241656`*^9, 3.6833769675402603`*^9}, {
  3.6835625529988756`*^9, 
  3.683562555452399*^9}},ExpressionUUID->"5afdf87a-62c6-4933-a255-\
8e589bb0fc2b"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "\[Lambda]mf", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"\[Lambda]mf", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"\[Beta]mf", "*", 
   RowBox[{"sexuallyActiveValue", "[", 
    RowBox[{"country", ",", "\"\<female\>\"", ",", "age"}], "]"}], "*", 
   RowBox[{"partnerChangeRate", "[", 
    RowBox[{"age", ",", "\"\<female\>\""}], "]"}], "*", "\[IndentingNewLine]", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"mixing", "[", 
      RowBox[{"country", ",", "age", ",", "\"\<female\>\""}], "]"}], ".", 
     "\[IndentingNewLine]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Sum", "[", 
          RowBox[{
           RowBox[{"eq", "[", 
            RowBox[{"epi", ",", "ageI"}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"epi", ",", 
             RowBox[{"{", 
              RowBox[{"\"\<mI\>\"", ",", "\"\<mIsex\>\""}], "}"}]}], "}"}]}], 
          "]"}], "/", 
         RowBox[{"eq", "[", 
          RowBox[{"\"\<mN\>\"", ",", "ageI"}], "]"}]}], ")"}], ",", 
       RowBox[{"{", 
        RowBox[{"ageI", ",", "AgeClasses"}], "}"}]}], "]"}]}], 
    ")"}]}]}]}], "Code",
 CellChangeTimes->{{3.683376969083337*^9, 3.683377064709951*^9}, {
   3.683377097361656*^9, 3.6833770977055616`*^9}, {3.6833771862257504`*^9, 
   3.683377188053854*^9}, 3.6835545364479847`*^9, {3.683554584020476*^9, 
   3.6835546132547817`*^9}, {3.6835557145782394`*^9, 3.6835557172501163`*^9}, 
   3.6835562738475857`*^9, {3.683556893980018*^9, 3.6835568955621977`*^9}, {
   3.6835569828665104`*^9, 3.6835569890223722`*^9}, 3.6835579614040112`*^9, {
   3.683558001328185*^9, 3.68355802116016*^9}, {3.6835581722270966`*^9, 
   3.68355823733654*^9}, {3.6835586949013877`*^9, 3.6835587096071644`*^9}, {
   3.683558752214005*^9, 3.6835587532170196`*^9}, {3.6835625069814377`*^9, 
   3.6835625089728622`*^9}, {3.6835625788129272`*^9, 3.683562585852954*^9}, {
   3.6838942278915524`*^9, 3.683894414949566*^9}, {3.683894568003579*^9, 
   3.6838945787475805`*^9}, {3.7143218536055923`*^9, 
   3.7143218569721975`*^9}},ExpressionUUID->"8d3bdcb5-7d85-4604-87a3-\
f144cccd5e10"]
}, Closed]],

Cell[CellGroupData[{

Cell["Birth terms", "Subsubsection",
 CellChangeTimes->{{3.6265227405238895`*^9, 3.6265227434022856`*^9}, 
   3.6265227923831863`*^9, {3.6648136506493015`*^9, 
   3.6648136522778864`*^9}},ExpressionUUID->"77a53e92-9457-4acc-9541-\
200c77df686c"],

Cell["\<\
Births computes the number of women in each age group (15-49 in 5yr groups) \
and multiplies this by the age-specific fertility\
\>", "Text",
 CellChangeTimes->{{3.6707584098760166`*^9, 
  3.6707584307725677`*^9}},ExpressionUUID->"6aac63cf-2a9e-4e08-87ec-\
f4515d99f738"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "Births", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Births", "[", 
   RowBox[{"country_", ",", "sol_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{
      RowBox[{"Total", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"sol", "[", 
          RowBox[{"eq", "[", 
           RowBox[{"\"\<fN\>\"", ",", "#"}], "]"}], "]"}], "&"}], "/@", "#"}],
        "]"}], "&"}], "/@", 
     RowBox[{"Partition", "[", 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{"15", ",", "49"}], "]"}], ",", "5"}], "]"}]}], ")"}], ".", 
   RowBox[{"birthRateByCountry", "[", "country", "]"}]}]}]}], "Code",
 CellChangeTimes->{{3.6707581587320366`*^9, 3.6707581849118834`*^9}, {
   3.6707583018179264`*^9, 3.6707583959306693`*^9}, {3.6833295897277126`*^9, 
   3.683329590144009*^9}, 
   3.6836306862675104`*^9},ExpressionUUID->"aef3f084-b4d9-4452-90e6-\
1bba2a424463"]
}, Closed]],

Cell[CellGroupData[{

Cell["Equations", "Subsubsection",
 CellChangeTimes->{{3.6265227405238895`*^9, 3.6265227434022856`*^9}, 
   3.6265227923831863`*^9, {3.6648077041178274`*^9, 
   3.664807705041179*^9}},ExpressionUUID->"65f022ac-6708-4629-a913-\
f318104c9e35"],

Cell["\<\
Equations carefully checked on Feb 24, 2016 - all terms correct\
\>", "Text",
 CellChangeTimes->{{3.66532778149002*^9, 3.6653277934284368`*^9}, {
  3.7163104308224287`*^9, 
  3.7163104312599287`*^9}},ExpressionUUID->"0fea6b9b-f323-49f7-aaf6-\
685633911a23"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"mSdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Rho]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mR\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"m\[Nu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Lambda]fm", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "+", "\[Lambda]vh"}], ")"}], 
    "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mEdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Lambda]fm", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "+", "\[Lambda]vh"}], ")"}], 
    "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"eq", "[", 
       RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
       RowBox[{"eq", "[", 
        RowBox[{"\"\<mV\>\"", ",", "age"}], "]"}]}]}], ")"}]}], "-", 
   RowBox[{"\[Delta]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mE\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mE\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mIdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Delta]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mE\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{"\[Gamma]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mI\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mI\>\"", ",", "age"}], "]"}]}]}]}], "\n", 
 RowBox[{
  RowBox[{"mIsexdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Gamma]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mI\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{"\[Omega]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mIsex\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mIsex\>\"", ",", "age"}], "]"}]}]}]}], "\n", 
 RowBox[{
  RowBox[{"mRdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Omega]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mIsex\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{"\[Rho]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mR\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mR\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mVdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"m\[Nu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Lambda]fm", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "+", "\[Lambda]vh"}], ")"}], 
    "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mV\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mV\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"mNdot", "[", 
    RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"-", 
     RowBox[{"\[Mu]", "[", "age", "]"}]}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<mN\>\"", ",", "age"}], "]"}]}]}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"fSdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Rho]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fR\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"f\[Nu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Lambda]mf", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "+", "\[Lambda]vh"}], ")"}], 
    "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fEdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Lambda]mf", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "+", "\[Lambda]vh"}], ")"}], 
    "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"eq", "[", 
       RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
       RowBox[{"eq", "[", 
        RowBox[{"\"\<fV\>\"", ",", "age"}], "]"}]}]}], ")"}]}], "-", 
   RowBox[{"\[Delta]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fE\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fE\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fIdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Delta]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fE\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{"\[Gamma]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fI\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fI\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fIsexdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Gamma]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fI\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{"\[Omega]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fIsex\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fIsex\>\"", ",", "age"}], "]"}]}]}]}], "\n", 
 RowBox[{
  RowBox[{"fRdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Omega]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fIsex\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{"\[Rho]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fR\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fR\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fVdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"f\[Nu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"\[Lambda]mf", "[", 
       RowBox[{"country", ",", "age"}], "]"}], "+", "\[Lambda]vh"}], ")"}], 
    "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fV\>\"", ",", "age"}], "]"}]}], "-", 
   RowBox[{
    RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fV\>\"", ",", "age"}], "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"fNdot", "[", 
    RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"-", 
     RowBox[{"\[Mu]", "[", "age", "]"}]}], "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fN\>\"", ",", "age"}], "]"}]}]}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AllNdot", ":=", 
   RowBox[{"-", 
    RowBox[{"Sum", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"\[Mu]", "[", "age", "]"}], "*", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"eq", "[", 
          RowBox[{"\"\<mN\>\"", ",", "age"}], "]"}], "+", 
         RowBox[{"eq", "[", 
          RowBox[{"\"\<fN\>\"", ",", "age"}], "]"}]}], ")"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"age", ",", "AgeClasses"}], "}"}]}], "]"}]}]}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"TotalMalesVaccinateddot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"m\[Nu]", "[", "age", "]"}], "*", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"eq", "[", 
      RowBox[{"\"\<mN\>\"", ",", "age"}], "]"}], "-", 
     RowBox[{"eq", "[", 
      RowBox[{"\"\<mV\>\"", ",", "age"}], "]"}]}], 
    ")"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"TotalFemalesVaccinateddot", "[", 
    RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"f\[Nu]", "[", "age", "]"}], "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"eq", "[", 
       RowBox[{"\"\<fN\>\"", ",", "age"}], "]"}], "-", 
      RowBox[{"eq", "[", 
       RowBox[{"\"\<fV\>\"", ",", "age"}], "]"}]}], ")"}]}]}], "\n"}], "\n", 
 RowBox[{
  RowBox[{"TotalMalesInfecteddot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"\[Delta]", "*", 
   RowBox[{"eq", "[", 
    RowBox[{"\"\<mE\>\"", ",", "age"}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"TotalFemalesInfecteddot", "[", 
    RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
   RowBox[{"\[Delta]", "*", 
    RowBox[{"eq", "[", 
     RowBox[{"\"\<fE\>\"", ",", "age"}], "]"}]}]}], "\n"}], "\n", 
 RowBox[{
  RowBox[{"MaleInfectionsVectordot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"\[Lambda]vh", "*", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"eq", "[", 
      RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
      RowBox[{"eq", "[", 
       RowBox[{"\"\<mV\>\"", ",", "age"}], "]"}]}]}], ")"}]}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"MaleInfectionsSexualdot", "[", 
    RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
   RowBox[{
    RowBox[{"\[Lambda]fm", "[", 
     RowBox[{"country", ",", "age"}], "]"}], "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"eq", "[", 
       RowBox[{"\"\<mS\>\"", ",", "age"}], "]"}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
       RowBox[{"eq", "[", 
        RowBox[{"\"\<mV\>\"", ",", "age"}], "]"}]}]}], ")"}]}]}], 
  "\n"}], "\n", 
 RowBox[{
  RowBox[{"FemaleInfectionsVectordot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"\[Lambda]vh", "*", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"eq", "[", 
      RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
      RowBox[{"eq", "[", 
       RowBox[{"\"\<fV\>\"", ",", "age"}], "]"}]}]}], ")"}]}]}], "\n", 
 RowBox[{
  RowBox[{"FemaleInfectionsSexualdot", "[", 
   RowBox[{"country_", ",", "age_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"\[Lambda]mf", "[", 
    RowBox[{"country", ",", "age"}], "]"}], "*", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"eq", "[", 
      RowBox[{"\"\<fS\>\"", ",", "age"}], "]"}], "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"1", "-", "\[Eta]"}], ")"}], "*", 
      RowBox[{"eq", "[", 
       RowBox[{"\"\<fV\>\"", ",", "age"}], "]"}]}]}], ")"}]}]}]}], "Code",
 CellChangeTimes->{{3.6648077373765116`*^9, 3.6648078085391316`*^9}, {
   3.664808013008831*^9, 3.664808018290496*^9}, {3.6648080595266685`*^9, 
   3.664808069519204*^9}, {3.664808128686474*^9, 3.664808139648244*^9}, {
   3.6648081720404234`*^9, 3.6648083325721703`*^9}, {3.6648084308494043`*^9, 
   3.664808489094617*^9}, {3.6648088089588842`*^9, 3.6648089606608853`*^9}, {
   3.6648091674083605`*^9, 3.6648092260385456`*^9}, 3.6648127600416975`*^9, {
   3.6648130054949627`*^9, 3.664813013218805*^9}, {3.6648130672763968`*^9, 
   3.6648130810075364`*^9}, {3.664815808404217*^9, 3.6648158977478833`*^9}, {
   3.6648866136419106`*^9, 3.6648866198533983`*^9}, {3.664886694837452*^9, 
   3.6648866967281103`*^9}, {3.66515472627951*^9, 3.6651547495154448`*^9}, {
   3.6651566322271037`*^9, 3.665156640416763*^9}, {3.6651639499388375`*^9, 
   3.6651639534813423`*^9}, {3.6651640246153646`*^9, 3.6651640519232197`*^9}, 
   3.6651649156734886`*^9, {3.665336228446761*^9, 3.6653362615832014`*^9}, {
   3.6661179166304464`*^9, 3.6661179509022207`*^9}, {3.666442904723009*^9, 
   3.666442946583825*^9}, {3.6664430254223843`*^9, 3.666443042002754*^9}, {
   3.666444732764922*^9, 3.6664448549183354`*^9}, {3.6664449144459295`*^9, 
   3.666444937306816*^9}, {3.6665367699815245`*^9, 3.666536782966749*^9}, {
   3.667239242668477*^9, 3.667239275089122*^9}, {3.683377159682148*^9, 
   3.683377168966792*^9}, {3.6833791312960005`*^9, 3.6833792083758025`*^9}, {
   3.6833927718800077`*^9, 3.683392819556014*^9}, {3.6833956241118965`*^9, 
   3.683395736212056*^9}, {3.683556807382306*^9, 3.6835568268556695`*^9}, {
   3.68355838362962*^9, 3.683558441086229*^9}, {3.683893607302625*^9, 
   3.6838936423496313`*^9}},ExpressionUUID->"75e1394c-8e6e-4afa-b062-\
35c1d85c0c19"],

Cell[BoxData[{
 RowBox[{"vSdot", ":=", 
  RowBox[{"MosqBirth", "-", 
   RowBox[{"\[Lambda]hv", "*", 
    RowBox[{"eqV", "[", "\"\<vS\>\"", "]"}]}], "-", 
   RowBox[{"v\[Mu]", "*", 
    RowBox[{"eqV", "[", "\"\<vS\>\"", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"vEdot", ":=", 
  RowBox[{
   RowBox[{"\[Lambda]hv", "*", 
    RowBox[{"eqV", "[", "\"\<vS\>\"", "]"}]}], "-", 
   RowBox[{"v\[Delta]", "*", 
    RowBox[{"eqV", "[", "\"\<vE\>\"", "]"}]}], "-", 
   RowBox[{"v\[Mu]", "*", 
    RowBox[{"eqV", "[", "\"\<vE\>\"", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"vIdot", ":=", 
  RowBox[{
   RowBox[{"v\[Delta]", "*", 
    RowBox[{"eqV", "[", "\"\<vE\>\"", "]"}]}], "-", 
   RowBox[{"v\[Mu]", "*", 
    RowBox[{"eqV", "[", "\"\<vI\>\"", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{"vNdot", ":=", 
  RowBox[{"MosqBirth", "-", 
   RowBox[{"v\[Mu]", "*", 
    RowBox[{"eqV", "[", "\"\<vN\>\"", "]"}]}]}]}]}], "Code",
 CellChangeTimes->{{3.6648127962237515`*^9, 3.66481280707657*^9}, {
  3.664812860478137*^9, 3.6648129831437445`*^9}, {3.6648130135795264`*^9, 
  3.664813015440421*^9}, {3.6648131248229027`*^9, 
  3.6648131334777036`*^9}},ExpressionUUID->"20ed4a97-04a2-45b1-b6a8-\
78d40bd0c07a"]
}, Closed]],

Cell[CellGroupData[{

Cell["Model definition", "Subsubsection",
 CellChangeTimes->{{3.6265227405238895`*^9, 3.6265227434022856`*^9}, {
  3.626522776398183*^9, 3.626522820338422*^9}, {3.664197939256999*^9, 
  3.6641979411052723`*^9}},ExpressionUUID->"2b056fad-8cc6-4fa5-ac96-\
afdc594b2df1"],

Cell["\<\
Shorthand to produce the differential equation for each epi/age/risk \
compartment\
\>", "Text",
 CellChangeTimes->{{3.6643039503213077`*^9, 
  3.664303964743013*^9}},ExpressionUUID->"2be78c5e-7263-4f4d-9f5c-\
4509e614854c"],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"ExtractDiffEQ", ",", "ExtractDiffEQvec"}], "]"}], "\n", 
 RowBox[{
  RowBox[{"ExtractDiffEQ", "[", 
   RowBox[{"country_", ",", "epi_", ",", "age_"}], "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"ToString", "[", "epi", "]"}], "<>", "\"\<dot[\>\"", "<>", 
     "country", "<>", "\"\<,\>\"", "<>", 
     RowBox[{"ToString", "[", "age", "]"}], "<>", "\"\<]\>\""}], ")"}], 
   "]"}]}], "\n", 
 RowBox[{
  RowBox[{"ExtractDiffEQvec", "[", "epi_", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"ToString", "[", "epi", "]"}], "<>", "\"\<dot\>\""}], ")"}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.6641970039189696`*^9, 3.664197075582858*^9}, {
  3.664813030307732*^9, 3.664813045164259*^9}, {3.664813096589763*^9, 
  3.6648131125709004`*^9}, {3.6664429619365797`*^9, 3.666442978461983*^9}, {
  3.6664448626265717`*^9, 3.666444870589763*^9}, {3.6835584860715694`*^9, 
  3.6835585306987686`*^9}},ExpressionUUID->"65b05c77-b56d-4476-994c-\
cfc90f4d66fa"],

Cell["\<\
Defines the full set of model equations across all epi/age/risk groups\
\>", "Text",
 CellChangeTimes->{{3.664303970882675*^9, 
  3.6643039783999653`*^9}},ExpressionUUID->"e29b27f7-5a38-4d31-98f7-\
b0aa53553181"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "model", "]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"model", "[", "country_", "]"}], ":=", 
   RowBox[{"Flatten", "[", 
    RowBox[{"Join", "[", 
     RowBox[{
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"D", "[", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"eq", "[", 
              RowBox[{"epi", ",", "age"}], "]"}], ")"}], ",", "t"}], "]"}], 
          "\[Equal]", 
          RowBox[{"ExtractDiffEQ", "[", 
           RowBox[{"country", ",", "epi", ",", "age"}], "]"}]}], ")"}], ",", 
        RowBox[{"{", 
         RowBox[{"epi", ",", "hAllClasses"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"age", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"D", "[", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"eqV", "[", "epi", "]"}], ")"}], ",", "t"}], "]"}], 
          "\[Equal]", 
          RowBox[{"ExtractDiffEQvec", "[", "epi", "]"}]}], ")"}], ",", 
        RowBox[{"{", 
         RowBox[{"epi", ",", "vAllClasses"}], "}"}]}], "]"}], ",", "\n", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"AllN", "[", "t", "]"}], ",", "t"}], "]"}], "\[Equal]", 
        "AllNdot"}], "}"}]}], "\[IndentingNewLine]", "]"}], "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.6641970892883644`*^9, 3.6641972186478453`*^9}, {
  3.664813240846486*^9, 3.6648133022599263`*^9}, {3.665164092819585*^9, 
  3.6651641038917527`*^9}, {3.6664445849062243`*^9, 3.666444593973833*^9}, {
  3.666444879057923*^9, 3.6664448833291264`*^9}, {3.683557895861827*^9, 
  3.683557899965742*^9}, {3.6835584776011*^9, 
  3.683558480421657*^9}},ExpressionUUID->"361407dc-f3f1-45f0-bda2-\
c9adcfde6b17"],

Cell["\<\
Master set of all model equations. eqs both defines the equations to be used, \
and also specifies the order in which the equations are listed\
\>", "Text",
 CellChangeTimes->{{3.6643037816490173`*^9, 3.6643037879465127`*^9}, {
  3.664303888484457*^9, 
  3.664303914758629*^9}},ExpressionUUID->"bc9139bc-b7bc-4c51-ba0f-\
e465a9009c78"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "eqs", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eqs", ":=", 
   RowBox[{"Flatten", "[", 
    RowBox[{"Join", "[", 
     RowBox[{
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"eq", "[", 
         RowBox[{"epi", ",", "age"}], "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"epi", ",", "hAllClasses"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"age", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{"eqV", "[", "epi", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"epi", ",", "vAllClasses"}], "}"}]}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"AllN", "[", "t", "]"}], "}"}]}], "]"}], "]"}]}], 
  ";"}]}], "Code",
 CellChangeTimes->{{3.647600897902184*^9, 3.647600921289033*^9}, 
   3.6479629271660213`*^9, {3.6479728393059416`*^9, 3.6479728538582397`*^9}, {
   3.6648065685262313`*^9, 3.664806641925514*^9}, {3.664806682272212*^9, 
   3.664806683303892*^9}, 3.664806717911228*^9, {3.664806758816464*^9, 
   3.6648067613946123`*^9}, {3.6651641154417887`*^9, 3.6651641299771657`*^9}, 
   3.6651823040018854`*^9},ExpressionUUID->"36a48a9c-9880-4a1b-8680-\
a4e558eb2dc0"]
}, Closed]]
}, Closed]],

Cell[CellGroupData[{

Cell["Starting conditions", "Subsection",
 CellChangeTimes->{{3.5932819013231936`*^9, 3.593281905129593*^9}, {
  3.5984652030663395`*^9, 3.5984652035066624`*^9}, {3.598467934466195*^9, 
  3.598467934863465*^9}, {3.598471946637023*^9, 3.5984719471023283`*^9}, {
  3.5989018602095294`*^9, 3.5989018605967884`*^9}, {3.600965209014248*^9, 
  3.6009652094455357`*^9}, {3.6009682556844997`*^9, 3.6009682561578145`*^9}, {
  3.600986942441311*^9, 3.6009869428856115`*^9}, {3.6479638264354277`*^9, 
  3.647963833299285*^9}, {3.6479664044122486`*^9, 
  3.6479664117324305`*^9}},ExpressionUUID->"923f24be-6640-493f-b684-\
1ca4588c6e24"],

Cell["Defines starting conditions in the specified year", "Text",
 CellChangeTimes->{{3.6641294421597204`*^9, 3.6641295097400904`*^9}, 
   3.6648137950097632`*^9},ExpressionUUID->"f466ea84-35d7-408c-bd04-\
594febba33b0"],

Cell["\<\
immuneprofile is a functional argument that gives the immune profile {S, R, \
V} for the specified age. If the argument is left blank, it defaults to 100% S\
\>", "Text",
 CellChangeTimes->{{3.672681630500916*^9, 
  3.6726816625116687`*^9}},ExpressionUUID->"c2b265ae-35c7-4c86-9fb6-\
4daeaab83f55"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"forceStartI", "=", "True"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"startPct", "=", "0.001"}], ";"}]}], "Code",
 CellChangeTimes->{{3.673985514432107*^9, 3.673985520500021*^9}, {
   3.673985604237745*^9, 3.673985608803358*^9}, 3.673987160104104*^9, {
   3.6745832948454037`*^9, 
   3.6745832952672815`*^9}},ExpressionUUID->"198659ee-e3b2-437c-b42d-\
2d44b34f3520"],

Cell[BoxData[
 RowBox[{
  RowBox[{"maleStartingConditionsByAge", "[", 
   RowBox[{"startingprofile_", ",", "age_", ",", "tstart_", ",", "pars_", ",", 
    RowBox[{"immuneprofile_:", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "0"}], "}"}], "&"}], ")"}]}], ",", 
    RowBox[{"malecumlvacc_:", 
     RowBox[{"(", 
      RowBox[{"0", "&"}], ")"}]}]}], "]"}], ":=", "\[IndentingNewLine]", 
  RowBox[{"Thread", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"eq", "[", 
         RowBox[{"epi", ",", "age"}], "]"}], "/.", 
        RowBox[{"t", "\[Rule]", "tstart"}]}], ")"}], ",", 
      RowBox[{"{", 
       RowBox[{"epi", ",", "maleAllClasses"}], "}"}]}], "]"}], "\[Equal]", 
    "\[IndentingNewLine]", 
    RowBox[{"N", "[", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"age", "\[Equal]", "\"\<All\>\""}], ",", 
        RowBox[{"Total", "[", "startingprofile", "]"}], ",", 
        RowBox[{"startingprofile", "[", 
         RowBox[{"[", 
          RowBox[{"age", "+", "1"}], "]"}], "]"}]}], "]"}], "*", 
      "\[IndentingNewLine]", 
      RowBox[{"Join", "[", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Infected", " ", "classes", " ", "in", " ", 
          RowBox[{"order", ":", " ", "mI"}]}], ",", "\"\<mIsex\>\""}], "*)"}],
        "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{"forceStartI", ",", "startPct", ",", "0"}], "]"}], ",", 
          "0"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"Exposed", " ", "classes", " ", "in", " ", 
          RowBox[{"order", ":", " ", "mE"}]}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"{", "0", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Uninfected", " ", "classes", " ", "in", " ", 
           RowBox[{"order", ":", " ", "mS"}]}], ",", " ", "mR", ",", " ", 
          "mV"}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"immuneprofile", "[", "age", "]"}], "-", 
         RowBox[{"If", "[", 
          RowBox[{"forceStartI", ",", 
           RowBox[{"{", 
            RowBox[{"startPct", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"Counter", " ", "classes", " ", "in", " ", 
          RowBox[{"order", ":", " ", "TotalMalesVaccinated"}]}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"malecumlvacc", "[", "age", "]"}], ",", 
          RowBox[{"If", "[", 
           RowBox[{"forceStartI", ",", "startPct", ",", "0"}], "]"}], ",", 
          RowBox[{"If", "[", 
           RowBox[{"forceStartI", ",", "startPct", ",", "0"}], "]"}], ",", 
          "0"}], "}"}], 
        RowBox[{"(*", 
         RowBox[{"Table", "[", 
          RowBox[{"0", ",", 
           RowBox[{"{", 
            RowBox[{"Length", "[", "maleCounterClasses", "]"}], "}"}]}], 
          "]"}], "*)"}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"Population", " ", "class", " ", "in", " ", 
          RowBox[{"order", ":", " ", "mN"}]}], "*)"}], "\n", 
        RowBox[{"{", "1", "}"}]}], "\[IndentingNewLine]", "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Code",
 CellChangeTimes->{{3.6641290795012474`*^9, 3.6641291998066764`*^9}, 
   3.6641292606484756`*^9, {3.664129290937575*^9, 3.6641292976855984`*^9}, {
   3.664129591546215*^9, 3.6641296087600136`*^9}, {3.664129937530506*^9, 
   3.664129956794531*^9}, {3.664195253942377*^9, 3.6641952581183906`*^9}, 
   3.664220267297155*^9, {3.6642204474321*^9, 3.6642204480879316`*^9}, {
   3.66430685471041*^9, 3.664306861970503*^9}, 3.664306948068328*^9, {
   3.6648138047310143`*^9, 3.6648138836532245`*^9}, {3.6648139956661468`*^9, 
   3.664814017023609*^9}, {3.6648140837627573`*^9, 3.664814214007924*^9}, {
   3.6648142681503353`*^9, 3.664814282182349*^9}, {3.6648166677913446`*^9, 
   3.664816667900669*^9}, {3.665159485471455*^9, 3.6651595021104207`*^9}, {
   3.6651869386561856`*^9, 3.6651869462430563`*^9}, {3.67268068528024*^9, 
   3.6726807070937147`*^9}, {3.672680812640929*^9, 3.6726808428946624`*^9}, {
   3.6726815793127856`*^9, 3.6726816046284213`*^9}, {3.673361566722971*^9, 
   3.673361600511857*^9}, {3.6733964143448396`*^9, 3.673396422206154*^9}, 
   3.6733995264284487`*^9, {3.673801156344174*^9, 3.673801158109815*^9}, {
   3.67398552918653*^9, 3.673985567379012*^9}, {3.6739856132192125`*^9, 
   3.6739856292510505`*^9}, {3.6833792429270754`*^9, 3.683379245161454*^9}, {
   3.683395798833557*^9, 3.6833958014212737`*^9}, 
   3.684764239406601*^9},ExpressionUUID->"9163175d-fb1c-4f4d-a7d6-\
cbe4b95f247b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"femaleStartingConditionsByAge", "[", 
   RowBox[{"startingprofile_", ",", "age_", ",", "tstart_", ",", "pars_", ",", 
    RowBox[{"immuneprofile_:", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "0"}], "}"}], "&"}], ")"}]}], ",", 
    RowBox[{"femalecumlvacc_:", 
     RowBox[{"(", 
      RowBox[{"0", "&"}], ")"}]}]}], "]"}], ":=", "\[IndentingNewLine]", 
  RowBox[{"Thread", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"eq", "[", 
         RowBox[{"epi", ",", "age"}], "]"}], "/.", 
        RowBox[{"t", "\[Rule]", "tstart"}]}], ")"}], ",", 
      RowBox[{"{", 
       RowBox[{"epi", ",", "femaleAllClasses"}], "}"}]}], "]"}], "\[Equal]", 
    "\[IndentingNewLine]", 
    RowBox[{"N", "[", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"age", "\[Equal]", "\"\<All\>\""}], ",", 
        RowBox[{"Total", "[", "startingprofile", "]"}], ",", 
        RowBox[{"startingprofile", "[", 
         RowBox[{"[", 
          RowBox[{"age", "+", "1"}], "]"}], "]"}]}], "]"}], "*", 
      "\[IndentingNewLine]", 
      RowBox[{"Join", "[", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"Infected", " ", "classes", " ", "in", " ", 
          RowBox[{"order", ":", " ", "fI"}]}], ",", "\"\<fIsex\>\""}], "*)"}],
        "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{"forceStartI", ",", "startPct", ",", "0"}], "]"}], ",", 
          "0"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"Exposed", " ", "classes", " ", "in", " ", 
          RowBox[{"order", ":", " ", "fE"}]}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"{", "0", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Uninfected", " ", "classes", " ", "in", " ", 
           RowBox[{"order", ":", " ", "fS"}]}], ",", " ", "fR", ",", " ", 
          "fV"}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"immuneprofile", "[", "age", "]"}], "-", 
         RowBox[{"If", "[", 
          RowBox[{"forceStartI", ",", 
           RowBox[{"{", 
            RowBox[{"startPct", ",", "0", ",", "0"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"Counter", " ", "classes", " ", "in", " ", 
          RowBox[{"order", ":", " ", "TotalFemalesVaccinated"}]}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"femalecumlvacc", "[", "age", "]"}], ",", 
          RowBox[{"If", "[", 
           RowBox[{"forceStartI", ",", "startPct", ",", "0"}], "]"}], ",", 
          RowBox[{"If", "[", 
           RowBox[{"forceStartI", ",", "startPct", ",", "0"}], "]"}], ",", 
          "0"}], "}"}], 
        RowBox[{"(*", 
         RowBox[{"Table", "[", 
          RowBox[{"0", ",", 
           RowBox[{"{", 
            RowBox[{"Length", "[", "femaleCounterClasses", "]"}], "}"}]}], 
          "]"}], "*)"}], ",", "\n", 
        RowBox[{"(*", 
         RowBox[{"Population", " ", "class", " ", "in", " ", 
          RowBox[{"order", ":", " ", "fN"}]}], "*)"}], "\n", 
        RowBox[{"{", "1", "}"}]}], "\[IndentingNewLine]", "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Code",
 CellChangeTimes->{{3.6641290795012474`*^9, 3.6641291998066764`*^9}, 
   3.6641292606484756`*^9, {3.664129290937575*^9, 3.6641292976855984`*^9}, {
   3.664129591546215*^9, 3.6641296087600136`*^9}, {3.664129937530506*^9, 
   3.664129956794531*^9}, {3.664195253942377*^9, 3.6641952581183906`*^9}, 
   3.664220267297155*^9, {3.6642204474321*^9, 3.6642204480879316`*^9}, {
   3.66430685471041*^9, 3.664306861970503*^9}, 3.664306948068328*^9, {
   3.6648138047310143`*^9, 3.6648138836532245`*^9}, {3.6648139956661468`*^9, 
   3.664814017023609*^9}, {3.6648140837627573`*^9, 3.664814214007924*^9}, {
   3.664814251382105*^9, 3.664814324337164*^9}, {3.6648166650101395`*^9, 
   3.6648166652288923`*^9}, {3.6651595111525664`*^9, 3.665159517788112*^9}, {
   3.665186954475649*^9, 3.6651869595844045`*^9}, 3.6726809198047314`*^9, {
   3.6726812950465736`*^9, 3.672681306715741*^9}, {3.6726816151354303`*^9, 
   3.672681623229821*^9}, {3.6733616192160826`*^9, 3.673361619912575*^9}, {
   3.6733963878139205`*^9, 3.6733964018602552`*^9}, 3.673399529565241*^9, {
   3.673801166735771*^9, 3.673801168219723*^9}, {3.6739856395447607`*^9, 
   3.673985677291871*^9}, {3.6833792640107155`*^9, 3.6833792662294645`*^9}, 
   3.683395813725496*^9, 
   3.684764297359782*^9},ExpressionUUID->"a8ab2f2e-803d-4c23-b4c6-\
9be3ed0c44bb"],

Cell["\<\
vecStartingConditions uses a first argument that defines the vector \
population size\
\>", "Text",
 CellChangeTimes->{{3.6648151309467974`*^9, 
  3.6648151449656973`*^9}},ExpressionUUID->"7dac193a-74d7-4e2d-9c03-\
f02356459ff0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"vecStartingConditions", "[", 
   RowBox[{"startingprofile_", ",", "tstart_", ",", "pars_"}], "]"}], ":=", 
  RowBox[{"Thread", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"eqV", "[", "epi", "]"}], "/.", 
        RowBox[{"t", "\[Rule]", "tstart"}]}], ")"}], ",", 
      RowBox[{"{", 
       RowBox[{"epi", ",", "vAllClasses"}], "}"}]}], "]"}], "\[Equal]", 
    RowBox[{"Join", "[", "\[IndentingNewLine]", 
     RowBox[{"startingprofile", ",", "\[IndentingNewLine]", 
      RowBox[{"(*", 
       RowBox[{"Counter", " ", "classes", " ", "in", " ", 
        RowBox[{"order", ":", " ", 
         RowBox[{"{", "}"}]}]}], "*)"}], "\[IndentingNewLine]", 
      RowBox[{"Table", "[", 
       RowBox[{"0", ",", 
        RowBox[{"{", 
         RowBox[{"Length", "[", "vCounterClasses", "]"}], "}"}]}], "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Code",
 CellChangeTimes->{{3.6648143363844495`*^9, 3.664814458525943*^9}, {
  3.6648151139628973`*^9, 
  3.6648151247730494`*^9}},ExpressionUUID->"62d8c4d7-fdc6-429a-9515-\
8ae1b5a8aa52"],

Cell["Define all starting conditions", "Text",
 CellChangeTimes->{{3.6648151309467974`*^9, 3.6648151449656973`*^9}, {
  3.6648153398829613`*^9, 
  3.6648153444144254`*^9}},ExpressionUUID->"c807b51f-fdbe-4582-9c30-\
0a52a01a1da7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"StartingConditions", "[", 
   RowBox[{
   "malestartingprofile_", ",", "femalestartingprofile_", ",", 
    "vecstartingprofile_", ",", "tstart_", ",", "pars_", ",", 
    RowBox[{"femaleimmuneprofile_:", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "0"}], "}"}], "&"}], ")"}]}], ",", 
    RowBox[{"maleimmuneprofile_:", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", "0"}], "}"}], "&"}], ")"}]}], ",", 
    RowBox[{"femalecumlvacc_:", 
     RowBox[{"(", 
      RowBox[{"0", "&"}], ")"}]}], ",", 
    RowBox[{"malecumlvacc_:", 
     RowBox[{"(", 
      RowBox[{"0", "&"}], ")"}]}]}], "]"}], ":=", "\[IndentingNewLine]", 
  RowBox[{"Flatten", "[", 
   RowBox[{"Join", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Table", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"maleStartingConditionsByAge", "[", 
          RowBox[{
          "malestartingprofile", ",", "age", ",", "tstart", ",", "pars", ",", 
           "maleimmuneprofile", ",", "malecumlvacc"}], "]"}], ",", 
         RowBox[{"femaleStartingConditionsByAge", "[", 
          RowBox[{
          "femalestartingprofile", ",", "age", ",", "tstart", ",", "pars", 
           ",", "femaleimmuneprofile", ",", "femalecumlvacc"}], "]"}]}], 
        "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"age", ",", "AgeClasses"}], "}"}]}], "]"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"vecStartingConditions", "[", 
      RowBox[{"vecstartingprofile", ",", "tstart", ",", "pars"}], "]"}], ",", 
     "\n", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"AllN", "[", "tstart", "]"}], "\[Equal]", 
       RowBox[{"Total", "[", 
        RowBox[{"malestartingprofile", "+", "femalestartingprofile"}], 
        "]"}]}], "}"}]}], "\[IndentingNewLine]", "]"}], "]"}]}]], "Code",
 CellChangeTimes->{{3.6641293084530935`*^9, 3.6641293563880215`*^9}, {
   3.6641294150371075`*^9, 3.6641294182193575`*^9}, {3.6641298818366528`*^9, 
   3.6641299293130302`*^9}, {3.664129961852479*^9, 3.664129973140275*^9}, {
   3.664815189292981*^9, 3.664815329406372*^9}, {3.6651587140587254`*^9, 
   3.665158735882641*^9}, {3.665164166351677*^9, 3.66516418815242*^9}, {
   3.665182351939602*^9, 3.6651823621748633`*^9}, 3.6664451243454223`*^9, {
   3.672681948551016*^9, 3.672681972416312*^9}, {3.6726824391110773`*^9, 
   3.6726824594862366`*^9}, {3.672683189351528*^9, 3.672683201070404*^9}, {
   3.6733964731024227`*^9, 3.6733964964413385`*^9}, {3.673801183797623*^9, 
   3.6738011892098207`*^9}, {3.676032923391204*^9, 3.6760329418423686`*^9}, 
   3.6833087363369713`*^9},ExpressionUUID->"28ad4085-86e2-4def-b65e-\
c2d88d8944e5"]
}, Closed]],

Cell[CellGroupData[{

Cell["Parameters", "Subsection",
 CellChangeTimes->{{3.5932819013231936`*^9, 3.593281905129593*^9}, {
  3.5984652030663395`*^9, 3.5984652035066624`*^9}, {3.598467934466195*^9, 
  3.598467934863465*^9}, {3.598471946637023*^9, 3.5984719471023283`*^9}, {
  3.5989018602095294`*^9, 3.5989018605967884`*^9}, {3.600965209014248*^9, 
  3.6009652094455357`*^9}, {3.6009682556844997`*^9, 3.6009682561578145`*^9}, {
  3.600986942441311*^9, 3.6009869428856115`*^9}, {3.6479638264354277`*^9, 
  3.647963828339726*^9}},ExpressionUUID->"19a2142e-dcc3-4b4f-821c-\
2844394d5ea6"],

Cell[CellGroupData[{

Cell["Parameter names", "Subsubsection",
 CellChangeTimes->{{3.6479638426598606`*^9, 
  3.6479638441078854`*^9}},ExpressionUUID->"6ddb5927-5e55-4a7b-918f-\
ed3661d2705f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"AllParNames", "=", 
    RowBox[{"{", 
     RowBox[{"c", " ", 
      RowBox[{"(*", 
       RowBox[{"Biting", " ", "rate"}], "*)"}], ",", "\[IndentingNewLine]", 
      "\[Beta]vh", " ", 
      RowBox[{"(*", 
       RowBox[{"Mosq", "\[Rule]", 
        RowBox[{"human", " ", "transmission"}]}], "*)"}], ",", 
      "\[IndentingNewLine]", "\[Beta]hv", " ", 
      RowBox[{"(*", 
       RowBox[{"Human", "\[Rule]", 
        RowBox[{"mosq", " ", "transmission"}]}], "*)"}], ",", "\n", 
      "\[Omega]", ",", "\[IndentingNewLine]", "\[Beta]fm", ",", 
      "\[IndentingNewLine]", "\[Beta]mf", ",", "\[IndentingNewLine]", 
      "\[Rho]", " ", 
      RowBox[{"(*", 
       RowBox[{"R", "\[Rule]", "S"}], "*)"}], ",", "\[IndentingNewLine]", 
      "\[Eta]", 
      RowBox[{"(*", 
       RowBox[{"Vaccine", " ", "efficacy"}], "*)"}], ",", 
      "\[IndentingNewLine]", "\[Gamma]", 
      RowBox[{"(*", 
       RowBox[{"I", "\[Rule]", "R"}], "*)"}], ",", "\[IndentingNewLine]", 
      "\[Delta]", 
      RowBox[{"(*", 
       RowBox[{"E", "\[Rule]", "I"}], "*)"}], ",", "\[IndentingNewLine]", 
      "MosqBirth", 
      RowBox[{"(*", 
       RowBox[{"mosquito", " ", "logistic", " ", "birth", " ", "rate"}], 
       "*)"}], ",", "\[IndentingNewLine]", "v\[Mu]", " ", 
      RowBox[{"(*", 
       RowBox[{"Mosquito", " ", "mortality", " ", "rate"}], "*)"}], ",", 
      "\[IndentingNewLine]", "v\[Delta]"}], " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Mosquito", " ", "E"}], "\[Rule]", "I"}], "*)"}], 
     "\[IndentingNewLine]", "}"}]}], ";"}], " "}]], "Code",
 CellChangeTimes->{{3.66481545618288*^9, 3.6648154580818033`*^9}, {
  3.6648154947278657`*^9, 3.6648155157582808`*^9}, {3.6648155469629126`*^9, 
  3.664815688348869*^9}, {3.664815757073064*^9, 3.664815785255096*^9}, {
  3.6653278896585073`*^9, 3.665327892011172*^9}, {3.666445145945399*^9, 
  3.6664451478238564`*^9}, {3.6833793176682215`*^9, 
  3.6833793235119686`*^9}},ExpressionUUID->"c6764943-87ef-4f2a-a4d4-\
b4c7985742f9"]
}, Closed]],

Cell[CellGroupData[{

Cell["Base parameter values", "Subsubsection",
 CellChangeTimes->{{3.6479638426598606`*^9, 3.6479638441078854`*^9}, {
  3.647968012295185*^9, 3.647968014798957*^9}, {3.6651869677242064`*^9, 
  3.665186969470817*^9}},ExpressionUUID->"eba997dc-8a30-40c6-87ae-\
2a1d76de5bcb"],

Cell["Parameter values are expressed in days", "Text",
 CellChangeTimes->{{3.6648161792939143`*^9, 
  3.664816183493718*^9}},ExpressionUUID->"b780ee9a-6eee-4ef0-9ad3-\
46337c6eb01f"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "BaseParameters", "]"}], "\n", 
 RowBox[{
  RowBox[{"UnitScaling", "=", "365"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"BaseParameters", "[", 
    RowBox[{"country_", ",", 
     RowBox[{"betaHV_:", "0.4"}], ",", 
     RowBox[{"betaMF_:", "0.1"}]}], "]"}], ":=", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"mostpars", "=", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{"Assumptions", " ", "/", " ", "calibrated"}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"\[Beta]vh", "\[Rule]", "0.4"}], 
          RowBox[{"(*", 
           RowBox[{"Mosq", "\[Rule]", 
            RowBox[{"human", " ", "transmission"}]}], "*)"}], ","}], 
         "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"\[Beta]hv", "\[Rule]", "betaHV"}], 
         RowBox[{"(*", 
          RowBox[{"3.5", "/", "9.9"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"Human", "\[Rule]", 
           RowBox[{"mosq", " ", "transmission"}]}], "*)"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"\[Beta]mf", "\[Rule]", "betaMF"}], 
         RowBox[{"(*", "0.1", "*)"}], 
         RowBox[{"(*", 
          RowBox[{"Male", "\[Rule]", 
           RowBox[{"female", " ", "transmission"}]}], "*)"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"\[Rho]", "\[Rule]", "0"}], " ", 
         RowBox[{"(*", 
          RowBox[{"R", "\[Rule]", "S"}], "*)"}], ",", "\[IndentingNewLine]", 
         RowBox[{"\[Eta]", "\[Rule]", "1"}], 
         RowBox[{"(*", 
          RowBox[{"Vaccine", " ", "efficacy"}], "*)"}], ",", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"Literature", "-", "confirmed"}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"\[Gamma]", "\[Rule]", 
          RowBox[{"365", "/", "5.5"}]}], ",", 
         RowBox[{"(*", 
          RowBox[{"I", "\[Rule]", "R"}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"v\[Delta]", "\[Rule]", 
          RowBox[{"365", "/", "11"}]}], ",", 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{"Mosquito", " ", "E"}], "\[Rule]", "I"}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"\[Beta]fm", "\[Rule]", "0"}], ",", 
         RowBox[{"(*", 
          RowBox[{"Female", "\[Rule]", 
           RowBox[{"male", " ", "transmission"}]}], "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"c", "\[Rule]", 
          RowBox[{"0.63", "*", "365"}]}], ",", 
         RowBox[{"(*", 
          RowBox[{"Biting", " ", "rate"}], "*)"}], "\[IndentingNewLine]", 
         RowBox[{"\[Omega]", "\[Rule]", 
          RowBox[{"365", "/", "36"}]}], 
         RowBox[{"(*", 
          RowBox[{
           RowBox[{
           "Duration", " ", "of", " ", "sexual", " ", "infectiousness"}], " ",
            "-", " ", 
           RowBox[{"assume", " ", "36", " ", "days"}], " ", "-", " ", 
           RowBox[{"Turmel", " ", "et", " ", 
            RowBox[{"al", ".", " ", "Lancet"}], " ", "2016"}]}], " ", "*)"}], 
         ",", "\[IndentingNewLine]", 
         RowBox[{"v\[Mu]", "\[Rule]", 
          RowBox[{"365", "/", "7.8"}]}], 
         RowBox[{"(*", 
          RowBox[{"Mosquito", " ", "mortality", " ", "rate"}], "*)"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"\[Delta]", "\[Rule]", 
          RowBox[{"365", "/", "5.9"}]}], 
         RowBox[{"(*", 
          RowBox[{"Chan", " ", "and", " ", "Johannson"}], "*)"}], 
         RowBox[{"(*", 
          RowBox[{"E", "\[Rule]", "I"}], "*)"}], ",", "\n", "\n", 
         RowBox[{"(*", 
          RowBox[{"Calibrated", " ", "seasonality", " ", "parameters"}], 
          "*)"}], "\n", 
         RowBox[{"seasonalityAmplitude", "\[Rule]", 
          RowBox[{"7", "/", "10"}]}], ",", "\n", 
         RowBox[{"seasonalityPhase", "\[Rule]", 
          FractionBox["\[Pi]", "5"]}]}], "\[IndentingNewLine]", "}"}]}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Join", "[", "\[IndentingNewLine]", 
      RowBox[{"mostpars", ",", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
        "Mosquito", " ", "birth", " ", "rate", " ", "computed", " ", "to", 
         " ", "hold", " ", "at", " ", "carrying", " ", "capacity"}], " ", 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\[Beta]vh", "\[Rule]", 
          RowBox[{"1.1", " ", "betaHV"}]}], ",", "\n", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"MosqBirth", "\[Rule]", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"v\[Mu]", "/.", "mostpars"}], ")"}], "*", 
             RowBox[{"mosquitoPopulation", "[", "country", "]"}], "*", 
             RowBox[{"(", 
              RowBox[{"1", "-", 
               RowBox[{"seasonalityAmplitude", "*", 
                RowBox[{"Sin", "[", 
                 RowBox[{"seasonalityPhase", "-", 
                  RowBox[{"2", "*", "\[Pi]", "*", "t"}]}], "]"}]}]}], 
              ")"}]}]}], "/.", "mostpars"}], ")"}]}], "\n", "}"}]}], "]"}]}], 
    "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.647964441729834*^9, 3.6479646745530343`*^9}, {
   3.6479680292792063`*^9, 3.647968036034936*^9}, {3.647968090048003*^9, 
   3.6479681441432867`*^9}, {3.6479681895354104`*^9, 3.647968276855206*^9}, 
   3.647968700662131*^9, {3.6479687327818613`*^9, 3.647968747637376*^9}, {
   3.6642975488347034`*^9, 3.664297661803489*^9}, 3.664816008260604*^9, {
   3.6648160451852655`*^9, 3.6648161645984898`*^9}, {3.6648162105101905`*^9, 
   3.664816216839038*^9}, {3.664819556501152*^9, 3.6648195777788224`*^9}, 
   3.6648196453548822`*^9, 3.664819846977936*^9, {3.6651566051053853`*^9, 
   3.6651566156618986`*^9}, {3.6651567306792374`*^9, 3.665156731679248*^9}, {
   3.665156777063064*^9, 3.6651568023729115`*^9}, 3.6651572045450773`*^9, {
   3.6651615593352423`*^9, 3.6651616135629272`*^9}, 3.6651617212202835`*^9, 
   3.665161752695342*^9, {3.6651618068453503`*^9, 3.665161890843804*^9}, 
   3.6651619421994905`*^9, 3.6653203996924305`*^9, 3.6653279163884153`*^9, {
   3.66644515585955*^9, 3.6664451642568016`*^9}, {3.6666359768938494`*^9, 
   3.6666360209389596`*^9}, {3.673186099664316*^9, 3.673186099664316*^9}, {
   3.673188406457317*^9, 3.6731884173202505`*^9}, {3.673189231245475*^9, 
   3.6731892400717783`*^9}, {3.6732015332510624`*^9, 
   3.6732015571263824`*^9}, {3.6732136871657305`*^9, 3.673213688525977*^9}, {
   3.673213727035969*^9, 3.673213729179139*^9}, {3.6732137790120335`*^9, 
   3.673213792862688*^9}, 3.6732138792944636`*^9, {3.6732140221987457`*^9, 
   3.6732140766179605`*^9}, {3.673214115520196*^9, 3.6732141505281897`*^9}, {
   3.673214199139025*^9, 3.6732142385461483`*^9}, {3.6732142870768733`*^9, 
   3.673214325222234*^9}, {3.673214381014964*^9, 3.673214387749488*^9}, {
   3.67321443600299*^9, 3.673214442399974*^9}, {3.6732145993911133`*^9, 
   3.673214600951353*^9}, {3.6732148096722813`*^9, 3.673214818675641*^9}, {
   3.6732150776034575`*^9, 3.673215093107349*^9}, {3.6732152541243887`*^9, 
   3.6732152567300615`*^9}, 3.673215368403015*^9, {3.673284913021163*^9, 
   3.6732849289588437`*^9}, {3.673285044349778*^9, 3.673285117649928*^9}, {
   3.673805033669064*^9, 3.6738050364930725`*^9}, {3.6738053262690096`*^9, 
   3.673805349988759*^9}, 3.6738054280359545`*^9, 3.6738055070237904`*^9, 
   3.6738057239028673`*^9, 3.673805762587219*^9, 3.6738060312847195`*^9, {
   3.673807933547259*^9, 3.6738079341076436`*^9}, {3.6738080640745506`*^9, 
   3.6738080649791803`*^9}, {3.6738083720595207`*^9, 3.673808398563261*^9}, {
   3.673808436340971*^9, 3.673808439394142*^9}, 3.673808561505479*^9, {
   3.6738089826382904`*^9, 3.673808989729694*^9}, {3.673809310177956*^9, 
   3.673809310849824*^9}, 3.673809458677783*^9, {3.6738096283643847`*^9, 
   3.6738096332833376`*^9}, 3.6738097878963165`*^9, {3.6738098932382684`*^9, 
   3.673809898846465*^9}, 3.6738117178437557`*^9, 3.6738119425888753`*^9, {
   3.6738120195559993`*^9, 3.673812021821571*^9}, 3.6738122187088118`*^9, {
   3.683379329688017*^9, 3.6833793841073103`*^9}, 3.683412081110817*^9, {
   3.683891405648039*^9, 3.683891433608447*^9}, {3.683891967046401*^9, 
   3.6838919715023785`*^9}, {3.68477025199734*^9, 3.684770253518956*^9}, {
   3.710092222963673*^9, 3.7100922493934317`*^9}, {3.7106106212837434`*^9, 
   3.7106106462714696`*^9}, {3.7106751492198925`*^9, 
   3.7106751592685695`*^9}, {3.710675234000186*^9, 3.7106752349018793`*^9}, {
   3.710676268178463*^9, 3.710676297578706*^9}, {3.7106763516752987`*^9, 
   3.7106763550414104`*^9}, {3.7106765117706547`*^9, 
   3.7106765240727105`*^9}, {3.710677115088497*^9, 3.7106771170339313`*^9}, {
   3.7106771481806817`*^9, 3.7106771489553757`*^9}, {3.7110322266244793`*^9, 
   3.711032252940691*^9}, {3.711032301470582*^9, 3.7110324103414135`*^9}, {
   3.7110324422237635`*^9, 3.7110324508405423`*^9}, {3.7111217813036823`*^9, 
   3.7111217823073606`*^9}, {3.715271819019512*^9, 3.7152718535184174`*^9}, {
   3.715271884333609*^9, 3.7152719117838793`*^9}, {3.7163104570606833`*^9, 
   3.7163105113532786`*^9}, {3.7163105759636354`*^9, 
   3.7163105784899807`*^9}, {3.7163109712169743`*^9, 
   3.7163109776807327`*^9}, {3.716324125556491*^9, 
   3.716324187285683*^9}},ExpressionUUID->"f0192c5e-be58-4ab9-8dc8-\
37902dc06cff"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Sample parameters", "Subsubsection",
 CellChangeTimes->{{3.7164739286897135`*^9, 
  3.716473930325823*^9}},ExpressionUUID->"7894bea7-09d1-4ac0-892f-\
5148073f1aca"],

Cell[BoxData[
 RowBox[{
  RowBox[{"samplePositive", "[", "dist_", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"x", "=", 
      RowBox[{"-", "1"}]}], "}"}], ",", "\n", 
    RowBox[{"(", "\n", 
     RowBox[{
      RowBox[{"While", "[", 
       RowBox[{
        RowBox[{"x", "<", "0"}], ",", 
        RowBox[{"x", "=", 
         RowBox[{"Random", "[", "dist", "]"}]}]}], "]"}], ";", "\n", "x"}], 
     "\n", ")"}]}], "]"}]}]], "Code",ExpressionUUID->"a91b464d-2517-409e-adc9-\
91e233a2f75c"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "SampledParameters", "]"}], "\n", 
 RowBox[{
  RowBox[{"UnitScaling", "=", "365"}], ";"}], "\n", 
 RowBox[{"Clear", "@", "SampledParameters"}], "\n", 
 RowBox[{"SampledParameters", ":=", 
  RowBox[{"{", "\n", 
   RowBox[{"(*", 
    RowBox[{"Literature", "-", "confirmed"}], "*)"}], "\n", 
   RowBox[{
    RowBox[{"\[Gamma]", "->", 
     RowBox[{"UnitScaling", "/", 
      RowBox[{"samplePositive", "[", 
       RowBox[{"NormalDistribution", "[", 
        RowBox[{"5.5", ",", "0.77"}], "]"}], "]"}]}]}], ",", "\n", 
    RowBox[{"v\[Delta]", "->", 
     RowBox[{"UnitScaling", "/", 
      RowBox[{"samplePositive", "[", 
       RowBox[{"NormalDistribution", "[", 
        RowBox[{"11", ",", "3.3"}], "]"}], "]"}]}]}], ",", "\n", 
    RowBox[{"\[Omega]", "->", 
     RowBox[{"UnitScaling", "/", 
      RowBox[{"Random", "[", 
       RowBox[{"UniformDistribution", "[", 
        RowBox[{"36", "*", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"1", "/", "2"}], ",", "5"}], "}"}]}], "]"}], "]"}]}]}], 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Duration", " ", "of", " ", "sexual", " ", "infectiousness"}], 
      " ", "-", " ", 
      RowBox[{"assume", " ", "36", " ", "days"}], " ", "-", " ", 
      RowBox[{"Turmel", " ", "et", " ", 
       RowBox[{"al", ".", " ", "Lancet"}], " ", "2016"}]}], " ", "*)"}], ",", 
    "\n", 
    RowBox[{"\[Delta]", "->", 
     RowBox[{"UnitScaling", "/", 
      RowBox[{"Random", "[", 
       RowBox[{"GammaDistribution", "[", 
        RowBox[{"16.9625", ",", 
         RowBox[{"1", "/", "2.875"}]}], "]"}], "]"}]}]}], 
    RowBox[{"(*", 
     RowBox[{"Chan", " ", "and", " ", "Johannson"}], "*)"}], 
    RowBox[{"(*", 
     RowBox[{"E", "\[Rule]", "I"}], "*)"}], ",", "\n", "\n", 
    RowBox[{"(*", 
     RowBox[{
     "Estimated", " ", "from", " ", "Puerto", " ", "Rico", " ", 
      "calibration"}], "*)"}], "\n", 
    RowBox[{"betaHV", "\[Rule]", 
     RowBox[{"samplePositive", "[", 
      RowBox[{"NormalDistribution", "[", 
       RowBox[{"0.259", ",", "0.00204"}], "]"}], "]"}]}]}], "\n", 
   "}"}]}]}], "Code",
 CellChangeTimes->{{3.7164749914474325`*^9, 
  3.7164750114514494`*^9}},ExpressionUUID->"3f3caaec-413d-4d3b-8e88-\
a61c1c6b575c"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Run model functionality", "Subsection",
 CellChangeTimes->{{3.5932819013231936`*^9, 3.593281905129593*^9}, {
  3.5984652030663395`*^9, 3.5984652035066624`*^9}, {3.598467934466195*^9, 
  3.598467934863465*^9}, {3.598471946637023*^9, 3.5984719471023283`*^9}, {
  3.5989018602095294`*^9, 3.5989018605967884`*^9}, {3.600965209014248*^9, 
  3.6009652094455357`*^9}, {3.6009682556844997`*^9, 3.6009682561578145`*^9}, {
  3.600986942441311*^9, 3.6009869428856115`*^9}, {3.6479638264354277`*^9, 
  3.647963833299285*^9}, {3.6479664044122486`*^9, 3.6479664117324305`*^9}, {
  3.647967854136221*^9, 
  3.64796786090401*^9}},ExpressionUUID->"f49bcef2-47f5-44bd-905a-\
c8a1739cfd4a"],

Cell[CellGroupData[{

Cell["Setup", "Subsubsection",
 CellChangeTimes->{{3.6642979183215714`*^9, 
  3.66429791919658*^9}},ExpressionUUID->"2c672d17-4425-4768-9d7a-\
654acb88c18c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"startyr", "=", "2015"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"endyr", "=", "2080"}], ";"}]}], "Code",
 CellChangeTimes->{{3.664297957243055*^9, 3.664297968019764*^9}, {
   3.6648185062753725`*^9, 3.6648185072605743`*^9}, {3.6648195938703365`*^9, 
   3.664819594307838*^9}, 3.6691304593594384`*^9, 
   3.6691305190007896`*^9},ExpressionUUID->"358789ce-7af6-494b-a2fa-\
72f51249aa05"],

Cell["Define basemodel, equation set, and starting conditions", "Text",
 CellChangeTimes->{{3.6653294243251295`*^9, 
  3.6653294315973*^9}},ExpressionUUID->"ca57f726-401c-4508-9e35-71aacb9ed9f0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"AbsoluteTiming", "[", 
  RowBox[{
   RowBox[{"Do", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"basemodel", "=", 
         RowBox[{"model", "[", "country", "]"}]}], "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Put", "[", 
        RowBox[{"basemodel", ",", 
         RowBox[{
         "\"\<basemodel\>\"", "<>", "country", "<>", "\"\<.dat\>\""}]}], 
        "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"country", ",", "CountryNames"}], "}"}]}], "]"}], ";"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.6835589513913403`*^9, 
  3.6835590038151803`*^9}},ExpressionUUID->"cd47b859-7f68-443b-94a3-\
64e92ff485d0"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"317.8034404937071`", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{3.6835645944542723`*^9, 3.68363241279428*^9, 
  3.683635056168331*^9, 3.683892859505543*^9, 3.6838949851057367`*^9, 
  3.7162279158880835`*^9},ExpressionUUID->"33c71c3e-7285-42f2-9e85-\
098b33927770"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dynamic", "@", "country"}]], "Input",
 CellChangeTimes->{{3.7162276001114254`*^9, 
  3.716227601917676*^9}},ExpressionUUID->"631e9a62-222b-4b3b-b835-\
2b08397f02ba"],

Cell[BoxData[
 DynamicBox[ToBoxes[$CellContext`country, StandardForm],
  ImageSizeCache->{98., {5., 16.}}]], "Output",
 CellChangeTimes->{
  3.716227605133949*^9},ExpressionUUID->"7440d324-1df7-4c11-9258-\
5bd750d9ec8e"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", 
   RowBox[{"basemodel", ",", "startcondsBase", ",", "eqset"}], "]"}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"startcondsBase", "[", 
    RowBox[{"country_", ",", 
     RowBox[{"tstart_:", "startyr"}], ",", 
     RowBox[{"femaleimmuneprofile_:", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"1", ",", "0", ",", "0"}], "}"}], "&"}], ")"}]}], ",", 
     RowBox[{"maleimmuneprofile_:", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"1", ",", "0", ",", "0"}], "}"}], "&"}], ")"}]}], ",", 
     RowBox[{"femalecumlvacc_:", 
      RowBox[{"(", 
       RowBox[{"0", "&"}], ")"}]}], ",", 
     RowBox[{"malecumlvacc_:", 
      RowBox[{"(", 
       RowBox[{"0", "&"}], ")"}]}]}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"humanpop", "=", 
        RowBox[{"computeAgeProfile1yr", "[", "country", "]"}]}], ",", 
       RowBox[{"startyr", "=", "tstart"}]}], "}"}], ",", 
     RowBox[{"StartingConditions", "[", 
      RowBox[{
       RowBox[{"humanpop", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{"humanpop", "[", 
        RowBox[{"[", "2", "]"}], "]"}], ",", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"mosquitoPopulation", "[", "country", "]"}], "*", 
         RowBox[{"{", 
          RowBox[{"1", ",", "1", ",", "0", ",", "0"}], "}"}]}], ")"}], ",", 
       "startyr", ",", 
       RowBox[{"{", "}"}], ",", "femaleimmuneprofile", ",", 
       "maleimmuneprofile", ",", "femalecumlvacc", ",", "malecumlvacc"}], 
      "]"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"eqset", "=", "eqs"}], ";"}]}], "Code",
 CellChangeTimes->{{3.6641293677750793`*^9, 3.6641293923094463`*^9}, {
   3.6641299771995735`*^9, 3.6641299808402305`*^9}, {3.664221817402474*^9, 
   3.6642218328425655`*^9}, 3.6643040625032253`*^9, {3.664306987132344*^9, 
   3.664306988971935*^9}, {3.6648162886034365`*^9, 3.664816292572732*^9}, {
   3.664816326552248*^9, 3.6648163896193376`*^9}, {3.664817041242309*^9, 
   3.6648170426784215`*^9}, {3.6651587482598314`*^9, 
   3.6651587520702553`*^9}, {3.6651616428175755`*^9, 
   3.6651616653644657`*^9}, {3.6651865881216793`*^9, 3.665186588762308*^9}, {
   3.665186723998866*^9, 3.665186750090607*^9}, {3.6651867976054707`*^9, 
   3.665186828803975*^9}, {3.665187027633534*^9, 3.6651870293085966`*^9}, {
   3.666442229379121*^9, 3.6664422320212426`*^9}, {3.666445259140277*^9, 
   3.666445336087329*^9}, 3.666536887206834*^9, {3.6726821436833773`*^9, 
   3.6726821541210012`*^9}, {3.6726825009398146`*^9, 
   3.6726825253309927`*^9}, {3.6733965239482384`*^9, 3.67339653665867*^9}, {
   3.6733965763405933`*^9, 3.6733965815163035`*^9}, {3.6738011978486023`*^9, 
   3.673801202810014*^9}, {3.673985853759859*^9, 3.673985871310034*^9}, {
   3.6739875924245415`*^9, 3.67398761072692*^9}, 3.683383708767305*^9, {
   3.683383782690563*^9, 3.6833838061902685`*^9}, 3.6835590306750264`*^9, {
   3.716311074464552*^9, 
   3.716311074823923*^9}},ExpressionUUID->"657f1ae0-ea9d-4b5b-a16e-\
c0939de23fbc"],

Cell["Define quick index for fast access", "Text",
 CellChangeTimes->{{3.6653294243251295`*^9, 
  3.6653294401813726`*^9}},ExpressionUUID->"0d720130-3891-4a9c-a469-\
bbc6ba9e8be2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"eqsol", "[", 
   RowBox[{"epi_", ",", "age_", ",", "sol_"}], "]"}], ":=", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"MemberQ", "[", 
     RowBox[{"hAllClasses", ",", "epi"}], "]"}], ",", 
    RowBox[{"sol", "[", 
     RowBox[{"eq", "[", 
      RowBox[{"epi", ",", "age"}], "]"}], "]"}], ",", 
    RowBox[{"sol", "[", 
     RowBox[{"eqV", "[", "epi", "]"}], "]"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.683329739665496*^9, 
  3.683329759995967*^9}},ExpressionUUID->"4b57ec2e-cb6c-436e-9f2a-\
2ffdd5cb90fa"],

Cell["Define new births for aging", "Text",
 CellChangeTimes->{{3.6653294536528745`*^9, 
  3.6653294617966633`*^9}},ExpressionUUID->"9ece7b85-3db2-4591-8558-\
1586f2d498d0"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "BornByEpi", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"BornByEpi", "[", 
   RowBox[{"newyear_", ",", "newbirths_", ",", "sol_"}], "]"}], ":=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"eq", "[", 
        RowBox[{"epi", ",", "0"}], "]"}], "/.", 
       RowBox[{"t", "\[Rule]", "newyear"}]}], ")"}], "\[Equal]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"MemberQ", "[", 
        RowBox[{"hCounterClasses", ",", "epi"}], "]"}], ",", 
       RowBox[{
        RowBox[{"eqsol", "[", 
         RowBox[{"epi", ",", "0", ",", "sol"}], "]"}], "/.", 
        RowBox[{"t", "\[Rule]", "newyear"}]}], ",", 
       RowBox[{"newbirths", "*", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"MemberQ", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
             "\"\<fS\>\"", ",", "\"\<mS\>\"", ",", "\"\<fN\>\"", ",", 
              "\"\<mN\>\""}], "}"}], ",", "epi"}], "]"}], ",", 
          RowBox[{"1", "/", "2"}], ",", "0"}], "]"}]}]}], "]"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"epi", ",", "hAllClasses"}], "}"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.6653423150014668`*^9, 
  3.665342403827525*^9}},ExpressionUUID->"e1a885c8-2066-4846-842f-\
a4e6b6753d48"],

Cell["Define one-year aging", "Text",
 CellChangeTimes->{{3.6653294641163025`*^9, 
  3.6653294725322304`*^9}},ExpressionUUID->"130fdada-b1b4-4ef0-88c1-\
55fcfe7cb3b2"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "StandardAging", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"epistart", "=", 
   RowBox[{"(", 
    RowBox[{"0", "&"}], ")"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"vaccfemalefunc", "=", 
   RowBox[{"(", 
    RowBox[{"0", "&"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vaccmalefunc", "=", 
   RowBox[{"(", 
    RowBox[{"0", "&"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"StandardAging", "[", 
   RowBox[{"newyear_", ",", "sol_"}], "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"Thread", "[", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"eq", "[", 
           RowBox[{"epi", ",", "age"}], "]"}], "/.", 
          RowBox[{"t", "\[Rule]", "newyear"}]}], ",", 
         RowBox[{"{", 
          RowBox[{"epi", ",", "hAllClasses"}], "}"}]}], "]"}], "\[Equal]", 
       "\[IndentingNewLine]", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Flatten", "[", 
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "1", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "4", "]"}], "]"}], "*", 
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"vaccmalefunc", "[", 
                  RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
               RowBox[{"epistart", "[", "newyear", "]"}]}]}], ",", 
             RowBox[{"(*", "mI", "*)"}], "\[IndentingNewLine]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", 
             RowBox[{"(*", "mIsex", "*)"}], "\n", 
             RowBox[{"#", "[", 
              RowBox[{"[", "3", "]"}], "]"}], ",", 
             RowBox[{"(*", "mE", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "4", "]"}], "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"vaccmalefunc", "[", 
                 RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"epistart", "[", "newyear", "]"}]}], ")"}]}], ",", 
             RowBox[{"(*", "mS", "*)"}], "\[IndentingNewLine]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "5", "]"}], "]"}], ",", 
             RowBox[{"(*", "mR", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "6", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "4", "]"}], "]"}], "*", 
               RowBox[{"vaccmalefunc", "[", 
                RowBox[{"newyear", ",", "age"}], "]"}]}]}], ",", 
             RowBox[{"(*", "mV", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "7", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "4", "]"}], "]"}], "*", 
               RowBox[{"vaccmalefunc", "[", 
                RowBox[{"newyear", ",", "age"}], "]"}]}]}], ",", 
             RowBox[{"(*", "totalmV", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "8", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "4", "]"}], "]"}], "*", 
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"vaccmalefunc", "[", 
                  RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
               RowBox[{"epistart", "[", "newyear", "]"}]}]}], ",", 
             RowBox[{"(*", "totalmI", "*)"}], "\n", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "9", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "4", "]"}], "]"}], "*", 
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"vaccmalefunc", "[", 
                  RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
               RowBox[{"epistart", "[", "newyear", "]"}]}]}], ",", 
             RowBox[{"(*", 
              RowBox[{"New", " ", "infections"}], "*)"}], "\n", 
             RowBox[{"#", "[", 
              RowBox[{"[", "10", "]"}], "]"}], ",", 
             RowBox[{"(*", 
              RowBox[{"New", " ", "infections"}], "*)"}], 
             "\[IndentingNewLine]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "11", "]"}], "]"}], ",", 
             RowBox[{"(*", "mN", "*)"}], "\[IndentingNewLine]", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "12", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "15", "]"}], "]"}], "*", 
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"vaccfemalefunc", "[", 
                  RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
               RowBox[{"epistart", "[", "newyear", "]"}]}]}], ",", 
             RowBox[{"(*", "fI", "*)"}], "\[IndentingNewLine]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "13", "]"}], "]"}], ",", 
             RowBox[{"(*", "fIsex", "*)"}], "\[IndentingNewLine]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "14", "]"}], "]"}], ",", 
             RowBox[{"(*", "fE", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "15", "]"}], "]"}], "*", 
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"vaccfemalefunc", "[", 
                 RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
              RowBox[{"(", 
               RowBox[{"1", "-", 
                RowBox[{"epistart", "[", "newyear", "]"}]}], ")"}]}], ",", 
             RowBox[{"(*", "fS", "*)"}], "\[IndentingNewLine]", 
             RowBox[{"#", "[", 
              RowBox[{"[", "16", "]"}], "]"}], ",", 
             RowBox[{"(*", "fR", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "17", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "15", "]"}], "]"}], "*", 
               RowBox[{"vaccfemalefunc", "[", 
                RowBox[{"newyear", ",", "age"}], "]"}]}]}], ",", 
             RowBox[{"(*", "fV", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "18", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "15", "]"}], "]"}], "*", 
               RowBox[{"vaccfemalefunc", "[", 
                RowBox[{"newyear", ",", "age"}], "]"}]}]}], ",", 
             RowBox[{"(*", "totalfV", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "19", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "15", "]"}], "]"}], "*", 
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"vaccfemalefunc", "[", 
                  RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
               RowBox[{"epistart", "[", "newyear", "]"}]}]}], ",", 
             RowBox[{"(*", "totalfI", "*)"}], "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "20", "]"}], "]"}], "+", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "15", "]"}], "]"}], "*", 
               RowBox[{"(", 
                RowBox[{"1", "-", 
                 RowBox[{"vaccfemalefunc", "[", 
                  RowBox[{"newyear", ",", "age"}], "]"}]}], ")"}], "*", 
               RowBox[{"epistart", "[", "newyear", "]"}]}]}], ",", 
             RowBox[{"(*", 
              RowBox[{"New", " ", "infections"}], "*)"}], "\n", 
             RowBox[{"#", "[", 
              RowBox[{"[", "21", "]"}], "]"}], ",", 
             RowBox[{"(*", 
              RowBox[{"New", " ", "infections"}], "*)"}], "\n", 
             RowBox[{"#", "[", 
              RowBox[{"[", "22", "]"}], "]"}]}], 
            RowBox[{"(*", "fN", "*)"}], "\[IndentingNewLine]", "}"}], "]"}], 
          "&"}], "[", 
         RowBox[{"(", 
          RowBox[{"Chop", "[", 
           RowBox[{"Table", "[", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"MemberQ", "[", 
                RowBox[{"hCounterClasses", ",", "epi"}], "]"}], ",", 
               RowBox[{
                RowBox[{"eqsol", "[", 
                 RowBox[{"epi", ",", "age", ",", "sol"}], "]"}], "/.", 
                RowBox[{"t", "\[Rule]", "newyear"}]}], ",", 
               RowBox[{
                RowBox[{"eqsol", "[", 
                 RowBox[{"epi", ",", 
                  RowBox[{"age", "-", "1"}], ",", "sol"}], "]"}], "/.", 
                RowBox[{"t", "\[Rule]", "newyear"}]}]}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"epi", ",", "hAllClasses"}], "}"}]}], "]"}], "]"}], 
          ")"}], "]"}], ")"}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"age", ",", 
       RowBox[{"nAge", "-", "2"}]}], "}"}]}], "]"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.665165087403124*^9, 3.665165123049757*^9}, 
   3.6651651897481728`*^9, {3.6653419987835665`*^9, 3.665342055023532*^9}, {
   3.6653421210314846`*^9, 3.6653421231436715`*^9}, {3.665342439458558*^9, 
   3.665342457057475*^9}, {3.6663031102958345`*^9, 3.6663031124404926`*^9}, {
   3.6663059216930056`*^9, 3.666305923632186*^9}, 3.6663060175703163`*^9, {
   3.676033186544286*^9, 3.676033202130184*^9}, {3.676033235999901*^9, 
   3.6760334090394697`*^9}, {3.6760334681424513`*^9, 3.6760335301047544`*^9}, 
   3.676033989352009*^9, {3.676034048772582*^9, 3.6760340541574097`*^9}, {
   3.6760344418293*^9, 3.676034464132578*^9}, {3.6760387148216133`*^9, 
   3.6760387289367533`*^9}, {3.6760387803227835`*^9, 
   3.6760388935473213`*^9}, {3.676038965167706*^9, 3.67603899334875*^9}, {
   3.67604313110091*^9, 3.676043213499832*^9}, {3.6760433359189286`*^9, 
   3.676043381967414*^9}, {3.6760444438222084`*^9, 3.676044455319289*^9}, {
   3.6833794627550583`*^9, 3.6833795286084967`*^9}, 3.6833821429714575`*^9, 
   3.683382333780242*^9, {3.683395858505218*^9, 3.6833959111073055`*^9}, {
   3.684764447634474*^9, 
   3.6847644650822163`*^9}},ExpressionUUID->"02683155-ac9f-4cfe-9e1b-\
b1d606cfec86"],

Cell["Define oldest age class (99+)", "Text",
 CellChangeTimes->{{3.6653294748839474`*^9, 
  3.6653294816126785`*^9}},ExpressionUUID->"cf4d80e6-9180-4d18-a1c1-\
78d1d559a893"],

Cell[BoxData[
 RowBox[{
  RowBox[{"OldestAging", "[", 
   RowBox[{"newyear_", ",", "sol_"}], "]"}], ":=", "\[IndentingNewLine]", 
  RowBox[{"Flatten", "[", "\[IndentingNewLine]", 
   RowBox[{"Thread", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"eq", "[", 
         RowBox[{"epi", ",", 
          RowBox[{"nAge", "-", "1"}]}], "]"}], "/.", 
        RowBox[{"t", "\[Rule]", "newyear"}]}], ",", 
       RowBox[{"{", 
        RowBox[{"epi", ",", "hAllClasses"}], "}"}]}], "]"}], "\[Equal]", 
     "\[IndentingNewLine]", 
     RowBox[{"Chop", "[", 
      RowBox[{"Table", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"!", 
              RowBox[{"MemberQ", "[", 
               RowBox[{"hCounterClasses", ",", "epi"}], "]"}]}], ",", 
             RowBox[{"eqsol", "[", 
              RowBox[{"epi", ",", 
               RowBox[{"nAge", "-", "2"}], ",", "sol"}], "]"}], ",", "0"}], 
            "]"}], "+", 
           RowBox[{"eqsol", "[", 
            RowBox[{"epi", ",", 
             RowBox[{"nAge", "-", "1"}], ",", "sol"}], "]"}]}], ")"}], "/.", 
         RowBox[{"t", "\[Rule]", "newyear"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"epi", ",", "hAllClasses"}], "}"}]}], "]"}], "]"}]}], "]"}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.665165087403124*^9, 3.6651651602025957`*^9}, {
   3.665165195869813*^9, 3.6651652004221582`*^9}, {3.665165232274233*^9, 
   3.665165246859166*^9}, {3.6653424940277896`*^9, 3.6653425177576084`*^9}, 
   3.683329678757763*^9},ExpressionUUID->"d67be75b-6476-49ea-8dfd-\
641da9b0a359"],

Cell["\<\
Define vectors - preserved across model steps as vectors \
don\[CloseCurlyQuote]t age\
\>", "Text",
 CellChangeTimes->{{3.665329484476698*^9, 
  3.665329496788416*^9}},ExpressionUUID->"b0c04980-4623-4ef1-a4a5-\
5a7b4838742f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"VectorNoAging", "[", 
   RowBox[{"newyear_", ",", "sol_"}], "]"}], ":=", 
  RowBox[{"Table", "[", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"eqV", "[", "epi", "]"}], "/.", 
        RowBox[{"t", "\[Rule]", "newyear"}]}], ")"}], "\[Equal]", 
      RowBox[{"(", 
       RowBox[{"sol", "[", 
        RowBox[{"eqV", "[", "epi", "]"}], "]"}], ")"}]}], "/.", 
     RowBox[{"t", "\[Rule]", "newyear"}]}], ",", 
    RowBox[{"{", 
     RowBox[{"epi", ",", "vAllClasses"}], "}"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.665165299880025*^9, 3.665165314104548*^9}, {
   3.6833296625392056`*^9, 3.6833296699274626`*^9}, 
   3.6833802438912635`*^9},ExpressionUUID->"ec763a16-68f5-4670-8d30-\
ce592d866c86"],

Cell["Define AllN preserved across model steps", "Text",
 CellChangeTimes->{{3.6653295029407673`*^9, 
  3.6653295097565885`*^9}},ExpressionUUID->"ccb00775-fb98-478a-8b62-\
2a64971268f9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"AllNsame", "[", 
   RowBox[{"newyear_", ",", "sol_", ",", "newbirths_"}], "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"AllN", "[", "newyear", "]"}], "\[Equal]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"sol", "[", 
         RowBox[{"AllN", "[", "t", "]"}], "]"}], ")"}], "/.", 
       RowBox[{"t", "\[Rule]", "newyear"}]}], ")"}], "+", "newbirths"}]}], 
   "}"}]}]], "Code",
 CellChangeTimes->{{3.6651653239956264`*^9, 3.6651653402899446`*^9}, {
   3.683329643727543*^9, 3.6833296514613247`*^9}, 
   3.6833802387806573`*^9},ExpressionUUID->"c0e176c7-0fb0-4589-b87d-\
f8cf1166716a"],

Cell["\<\
Define master aging function. This function takes 1-yr of model runs, \
extracts the ending values, ages each ending value by one year, adds in new \
births, and returns the result as starting conditions for the next year of \
model runs\
\>", "Text",
 CellChangeTimes->{{3.6653295117169485`*^9, 
  3.665329559869035*^9}},ExpressionUUID->"1e33a9ee-ee3c-4880-b174-\
eaeab7d93a9a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"AgingOneYear", "[", 
   RowBox[{"newyear_", ",", "sol_", ",", "pars_", ",", "country_"}], "]"}], ":=", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"newbirths", "=", 
      RowBox[{"Sow", "[", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"Births", "[", 
              RowBox[{"country", ",", "sol"}], "]"}], ")"}], "/.", 
            RowBox[{"t", "\[Rule]", "newyear"}]}], ")"}], "/.", "pars"}], 
         ")"}], ",", "\"\<births\>\""}], "]"}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Join", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"BornByEpi", "[", 
       RowBox[{"newyear", ",", "newbirths", ",", "sol"}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"StandardAging", "[", 
       RowBox[{"newyear", ",", "sol"}], "]"}], ",", "\[IndentingNewLine]", 
      RowBox[{"OldestAging", "[", 
       RowBox[{"newyear", ",", "sol"}], "]"}], ",", "\[IndentingNewLine]", 
      RowBox[{"VectorNoAging", "[", 
       RowBox[{"newyear", ",", "sol"}], "]"}], ",", "\[IndentingNewLine]", 
      RowBox[{"AllNsame", "[", 
       RowBox[{"newyear", ",", "sol", ",", "newbirths"}], "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.665148419249237*^9, 3.6651485852631235`*^9}, {
   3.665148877619178*^9, 3.665148940744521*^9}, {3.665148972393913*^9, 
   3.6651490048544617`*^9}, {3.665149059253899*^9, 3.6651490656179676`*^9}, {
   3.6651491079444447`*^9, 3.6651491175310516`*^9}, {3.665149172087239*^9, 
   3.665149173400674*^9}, {3.665155350399522*^9, 3.665155359730236*^9}, {
   3.66515583423523*^9, 3.6651558595012846`*^9}, {3.6651578084105663`*^9, 
   3.665157810062961*^9}, {3.665158364095152*^9, 3.665158367644183*^9}, {
   3.6651643421134815`*^9, 3.665164347693426*^9}, {3.6651643824549155`*^9, 
   3.665164446894125*^9}, 3.665164953103739*^9, {3.6651650544221687`*^9, 
   3.665165116335421*^9}, {3.6651652803114023`*^9, 3.665165346738989*^9}, {
   3.6653204910400777`*^9, 3.6653205239923997`*^9}, {3.6653206372004533`*^9, 
   3.6653206384023204`*^9}, {3.665342325437112*^9, 3.6653423259541564`*^9}, {
   3.6661182349053764`*^9, 3.6661182426291184`*^9}, {3.6664453849512897`*^9, 
   3.6664454142852488`*^9}, {3.6760336793630643`*^9, 3.6760336829001565`*^9}, 
   3.6760339836141906`*^9, {3.676034430381877*^9, 3.6760344319836035`*^9}, {
   3.683329620786205*^9, 
   3.683329626623355*^9}},ExpressionUUID->"a42a14f4-9145-4027-943e-\
d764bb32b5d0"],

Cell["\<\
Implements a single simulation year - runs the model for one year and \
processes aging\
\>", "Text",
 CellChangeTimes->{{3.6653295636126833`*^9, 
  3.665329571772445*^9}},ExpressionUUID->"4c5d22df-8c3c-4971-8712-\
f61a9e40d14a"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "ModelOneYear", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ModelOneYear", "[", 
   RowBox[{
   "inND_", ",", "curyr_", ",", "startconds_", ",", "country_", ",", 
    "vaccscen_"}], "]"}], ":=", "\[IndentingNewLine]", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"allsol", ",", "curND"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"curND", "=", 
       RowBox[{
        RowBox[{"NDSolve`Reinitialize", "[", 
         RowBox[{"inND", ",", "startconds"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"NDSolve`Iterate", "[", 
       RowBox[{"curND", ",", 
        RowBox[{"curyr", "+", "1"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"allsol", "=", 
       RowBox[{"Sow", "[", 
        RowBox[{
         RowBox[{"Association", "[", 
          RowBox[{"NDSolve`ProcessSolutions", "[", "curND", "]"}], "]"}], 
         ",", "\"\<solution\>\""}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"AgingOneYear", "[", 
       RowBox[{
        RowBox[{"curyr", "+", "1"}], ",", "allsol", ",", 
        RowBox[{"Join", "[", 
         RowBox[{
          RowBox[{"DeathRule", "[", "country", "]"}], ",", 
          RowBox[{"BaseParameters", "[", "country", "]"}], ",", "vaccscen"}], 
         "]"}], ",", "country"}], "]"}]}], "\[IndentingNewLine]", ")"}]}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.6833252558425756`*^9, 3.6833253143926945`*^9}, 
   3.6833253515321198`*^9, 3.683327199947423*^9, {3.6833272757691293`*^9, 
   3.6833273067731504`*^9}, {3.6833285672906938`*^9, 
   3.6833285701528316`*^9}, {3.683330113800739*^9, 3.6833301165957794`*^9}, {
   3.683385159610069*^9, 3.6833851613850775`*^9}, {3.683385192225075*^9, 
   3.6833851947140694`*^9}},ExpressionUUID->"8713124e-194b-4076-848b-\
43f0b0409447"],

Cell["\<\
Defines master simulation function. This is a nested list, recursively \
calling \[OpenCurlyQuote]ModelOneYear\[CloseCurlyQuote] for the duration of \
the simulation\
\>", "Text",
 CellChangeTimes->{{3.665329730284557*^9, 3.66532977318793*^9}, 
   3.6833098197300873`*^9},ExpressionUUID->"1beb5f01-75f6-49a6-a880-\
1f4a6b5286a6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"defineNDSystem", "[", 
   RowBox[{"pars_", ",", "startconds_", ",", "tstart_", ",", "tend_"}], "]"}],
   ":=", 
  RowBox[{"NDSolve`ProcessEquations", "[", 
   RowBox[{
    RowBox[{"Flatten", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"basemodel", "/.", "pars"}], ",", "startconds"}], "}"}], "]"}],
     ",", "\[IndentingNewLine]", "eqset", ",", 
    RowBox[{"{", 
     RowBox[{"t", ",", "tstart", ",", "tend"}], "}"}], ",", 
    RowBox[{"Method", "->", 
     RowBox[{"{", 
      RowBox[{"\"\<EquationSimplification\>\"", "->", "\"\<Solve\>\""}], 
      "}"}]}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.683309893260553*^9, 3.6833099016314583`*^9}, 
   3.6833099374473405`*^9, {3.683309968245278*^9, 
   3.683309988291998*^9}},ExpressionUUID->"d02b9528-3976-49e5-a2b2-\
17a5a3eb1594"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "ComputeFinalTimeSeries", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ComputeFinalTimeSeries", "[", 
   RowBox[{
   "pars_", ",", "vaccscen_", ",", "country_", ",", "startconds_", ",", 
    "startyr_", ",", "endyr_"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"NDsys", "=", 
       RowBox[{
        RowBox[{"defineNDSystem", "[", 
         RowBox[{
          RowBox[{"Join", "[", 
           RowBox[{
            RowBox[{"DeathRule", "[", "country", "]"}], ",", "pars", ",", 
            "vaccscen"}], "]"}], ",", "startconds", ",", "startyr", ",", 
          "endyr"}], "]"}], "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], ",", "\[IndentingNewLine]", 
      RowBox[{"curyr", "=", "startyr"}]}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Reap", "[", 
      RowBox[{
       RowBox[{"NestList", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"ModelOneYear", "[", 
            RowBox[{"NDsys", ",", 
             RowBox[{"curyr", "++"}], ",", "#", ",", "country", ",", 
             "vaccscen"}], "]"}], "&"}], ")"}], ",", "startconds", ",", 
         RowBox[{"Ceiling", "[", 
          RowBox[{"endyr", "-", "startyr"}], "]"}]}], "]"}], ",", 
       "\"\<solution\>\""}], "]"}], "[", 
     RowBox[{"[", 
      RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.6833762064716244`*^9, 3.683376231732766*^9}, {
  3.6833762741633377`*^9, 3.683376354299324*^9}, {3.6833765373112144`*^9, 
  3.6833765385910373`*^9}, {3.6833851990820704`*^9, 3.6833852041600723`*^9}, {
  3.683385372843215*^9, 3.6833853737762175`*^9}, {3.6833926653566675`*^9, 
  3.6833926984590178`*^9}},ExpressionUUID->"e5cd6369-d404-4353-83de-\
173a38c7c6e9"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Quick access functions", "Subsection",
 CellChangeTimes->{{3.5932819013231936`*^9, 3.593281905129593*^9}, {
  3.5984652030663395`*^9, 3.5984652035066624`*^9}, {3.598467934466195*^9, 
  3.598467934863465*^9}, {3.598471946637023*^9, 3.5984719471023283`*^9}, {
  3.5989018602095294`*^9, 3.5989018605967884`*^9}, {3.600965209014248*^9, 
  3.6009652094455357`*^9}, {3.6009682556844997`*^9, 3.6009682561578145`*^9}, {
  3.600986942441311*^9, 3.6009869428856115`*^9}, {3.6479638264354277`*^9, 
  3.647963833299285*^9}, {3.6479664044122486`*^9, 3.6479664117324305`*^9}, {
  3.647967854136221*^9, 3.64796786090401*^9}, {3.6479692088758383`*^9, 
  3.6479692104439163`*^9}, {3.666445573060361*^9, 
  3.6664455753109016`*^9}},ExpressionUUID->"70ea2668-6254-4d4c-8b83-\
b54339b04879"],

Cell[CellGroupData[{

Cell["Pull specific results", "Subsubsection",
 CellChangeTimes->{{3.6642980781795626`*^9, 3.6642980809770255`*^9}, {
  3.6664455692412624`*^9, 3.6664455706375175`*^9}, {3.710606339461368*^9, 
  3.710606340312612*^9}},ExpressionUUID->"6af8a9b5-dc98-4e37-8f94-\
6c5b157827b7"],

Cell[TextData[{
 StyleBox["computePulledResults",
  FontWeight->"Bold"],
 " extracts either weekly or final values for the specified ",
 StyleBox["results ",
  FontWeight->"Bold"],
 "interpolation"
}], "Text",
 CellChangeTimes->{{3.7110326833697147`*^9, 
  3.711032707049407*^9}},ExpressionUUID->"d5dfb4bd-e548-4cb6-afbe-\
952f44492c39"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "computePulledResults"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"computePulledResults", "[", 
   RowBox[{"results_", ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"If", "[", 
   RowBox[{"weekly", ",", "\[IndentingNewLine]", 
    RowBox[{"(", 
     RowBox[{"(*", 
      RowBox[{
      "Pull", " ", "results", " ", "at", " ", "end", " ", "of", " ", 
       "simulation"}], "*)"}], "\n", 
     RowBox[{
      RowBox[{"Last", "[", "results", "]"}], "/.", 
      RowBox[{"t", "\[Rule]", 
       RowBox[{"Length", "[", "results", "]"}]}]}], "\[IndentingNewLine]", 
     ")"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(", 
     RowBox[{"(*", 
      RowBox[{
      "Pull", " ", "results", " ", "at", " ", "weekly", " ", "time", " ", 
       "steps"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{"Flatten", "@", 
      RowBox[{"Table", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"With", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"dataToRet", "=", 
            RowBox[{"results", "[", 
             RowBox[{"[", "yr", "]"}], "]"}]}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"Table", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"dataToRet", "/.", 
             RowBox[{"t", "\[Rule]", 
              RowBox[{"(", 
               RowBox[{"yr", "-", "1", "+", 
                RowBox[{"wk", "/", "52"}]}], ")"}]}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"wk", ",", "0", ",", "51"}], "}"}]}], "]"}]}], 
         "\[IndentingNewLine]", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"yr", ",", 
          RowBox[{"Length", "[", "results", "]"}]}], "}"}]}], "]"}]}], 
     "\[IndentingNewLine]", ")"}]}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.710606409102319*^9, 3.710606612363221*^9}, {
   3.710607124474923*^9, 3.710607124949662*^9}, {3.710607172734036*^9, 
   3.7106072002440076`*^9}, {3.7106072475020695`*^9, 3.710607248165413*^9}, {
   3.7110326277717047`*^9, 3.71103267174766*^9}, 
   3.716285957030671*^9},ExpressionUUID->"93d4ca63-d22a-4d60-b479-\
c98583059e72"],

Cell[TextData[{
 StyleBox["pullAllOutcome",
  FontWeight->"Bold"],
 " returns the sum over the specified ages and epis"
}], "Text",
 CellChangeTimes->{{3.7110327702322226`*^9, 
  3.7110328145092983`*^9}},ExpressionUUID->"7f0929d3-9d02-4202-91a9-\
014c43913c00"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullAllOutcome"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"epiSet_:", 
     RowBox[{"{", "}"}]}], ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"results", "=", 
      RowBox[{
       RowBox[{"Sum", "[", 
        RowBox[{
         RowBox[{"eq", "[", 
          RowBox[{"epi", ",", "age"}], "]"}], ",", 
         RowBox[{"{", 
          RowBox[{"epi", ",", "epiSet"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"age", ",", "ageSet"}], "}"}]}], "]"}], "/.", "sol"}]}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"computePulledResults", "[", 
     RowBox[{"results", ",", "weekly"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.7107605810856347`*^9, 3.710760616230674*^9}, {
  3.7110327920603004`*^9, 
  3.7110328021742353`*^9}},ExpressionUUID->"a9c66a96-54e9-4689-926c-\
5f68418f4b56"],

Cell[TextData[{
 StyleBox["pullAllOutcomePregnancies",
  FontWeight->"Bold"],
 " returns the sum over the specified epis, multiplying by age-specific \
fertility"
}], "Text",
 CellChangeTimes->{{3.711033988935731*^9, 
  3.711034003431919*^9}},ExpressionUUID->"120e2a63-da3e-4f8b-a28d-\
34303638251d"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullAllOutcomePregnancies"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullAllOutcomePregnancies", "[", 
   RowBox[{"sol_", ",", "country_", ",", 
    RowBox[{"epiSet_:", 
     RowBox[{"{", "}"}]}], ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"With", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"results", "=", 
      RowBox[{
       RowBox[{"Sum", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"eq", "[", 
           RowBox[{"epi", ",", "age"}], "]"}], "*", 
          RowBox[{"birthRateByCountryByAge", "[", 
           RowBox[{"country", ",", " ", "age"}], "]"}]}], ",", 
         RowBox[{"{", 
          RowBox[{"epi", ",", "epiSet"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"age", ",", "ageSet"}], "}"}]}], "]"}], "/.", "sol"}]}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"computePulledResults", "[", 
     RowBox[{"results", ",", "weekly"}], "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.7107605810856347`*^9, 3.710760616230674*^9}, {
  3.7110327920603004`*^9, 3.7110328021742353`*^9}, {3.7110339321421814`*^9, 
  3.711033985017665*^9}},ExpressionUUID->"37050590-2a73-4037-b310-\
7ea0642b1c7f"],

Cell["\<\
Pull the male, female, or population cumulative infections for the specified \
ages\
\>", "Text",
 CellChangeTimes->{{3.7110329167206197`*^9, 
  3.7110329374933653`*^9}},ExpressionUUID->"7aaeeb91-1801-424b-9614-\
b3f6c355a872"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullMaleInfections"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullMaleInfections", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", "\"\<TotalMalesInfected\>\"", "}"}], ",", "ageSet", ",", 
    "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.7106063513546534`*^9, 3.7106063987284393`*^9}, {
  3.7106066218224854`*^9, 3.7106066879258933`*^9}, {3.7107605530761943`*^9, 
  3.7107605727823124`*^9}, {3.7107606219571137`*^9, 3.710760634419712*^9}, {
  3.7110328732230463`*^9, 
  3.711032881435929*^9}},ExpressionUUID->"83b1fbd6-3b9a-4fa3-ae41-\
7d472f038dfd"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullFemaleInfections"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullFemaleInfections", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", "\"\<TotalFemalesInfected\>\"", "}"}], ",", "ageSet", ",", 
    "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.7106063513546534`*^9, 3.7106063987284393`*^9}, {
  3.7106066218224854`*^9, 3.7106066879258933`*^9}, {3.7107605530761943`*^9, 
  3.7107605727823124`*^9}, {3.7107606219571137`*^9, 3.7107606459673543`*^9}, {
  3.7110328752924376`*^9, 
  3.711032888783119*^9}},ExpressionUUID->"451c0ffd-ff2a-47ee-a3a5-\
6bce116eb09c"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullAllInfections"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullAllInfections", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", 
     RowBox[{
     "\"\<TotalMalesInfected\>\"", ",", "\"\<TotalFemalesInfected\>\""}], 
     "}"}], ",", "ageSet", ",", "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.7106063513546534`*^9, 3.7106063987284393`*^9}, {
   3.7106066218224854`*^9, 3.7106066879258933`*^9}, {3.7107619391051397`*^9, 
   3.7107619542937355`*^9}, 3.710761999375798*^9, {3.7110328994267836`*^9, 
   3.711032910699229*^9}, {3.7110344947939606`*^9, 3.711034512425354*^9}, {
   3.7162859690278563`*^9, 
   3.7162859695953608`*^9}},ExpressionUUID->"424d394d-5cac-4d25-a15d-\
327493e00093"],

Cell["Returns the number of prenatal infections", "Text",
 CellChangeTimes->{{3.7110341326541758`*^9, 
  3.7110341368752685`*^9}},ExpressionUUID->"211aee0c-7ebd-4329-9800-\
d303d55e9b60"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullPrenatalInfections"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullPrenatalInfections", "[", 
   RowBox[{"sol_", ",", "country_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pregnancyModifier", "*", 
   RowBox[{"pullAllOutcomePregnancies", "[", 
    RowBox[{"sol", ",", "country", ",", 
     RowBox[{"{", "\"\<TotalFemalesInfected\>\"", "}"}], ",", "ageSet", ",", 
     "weekly"}], "]"}]}]}]}], "Code",
 CellChangeTimes->{{3.7110340140947514`*^9, 3.7110340744056673`*^9}, 
   3.7112043261781864`*^9, {3.71387969682929*^9, 
   3.7138796970361814`*^9}},ExpressionUUID->"4ba36c2b-00b5-4337-8ef3-\
ef59bdade8c3"],

Cell["Returns the number of vaccines administered", "Text",
 CellChangeTimes->{{3.711034329953126*^9, 
  3.711034336188368*^9}},ExpressionUUID->"b7b0ba80-1ece-4e3e-b684-\
2ec6f3ca83ea"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullFemaleVaccines"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullFemaleVaccines", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", "\"\<TotalFemalesVaccinated\>\"", "}"}], ",", "ageSet", ",", 
    "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.7110343386930637`*^9, 3.7110343757986603`*^9}, {
  3.7110344061524625`*^9, 
  3.711034432395317*^9}},ExpressionUUID->"7324d468-ccd9-462e-ab3d-\
0dfd403cbb56"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullMaleVaccines"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullMaleVaccines", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", "\"\<TotalMalesVaccinated\>\"", "}"}], ",", "ageSet", ",", 
    "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.7110343386930637`*^9, 3.7110343757986603`*^9}, {
  3.7110344061524625`*^9, 
  3.71103440957347*^9}},ExpressionUUID->"e7530204-a029-40c1-a82f-\
82c05c49f06a"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullAllVaccines"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullAllVaccines", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", 
     RowBox[{
     "\"\<TotalFemalesVaccinated\>\"", ",", "\"\<TotalMalesVaccinated\>\""}], 
     "}"}], ",", "ageSet", ",", "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.71103443558984*^9, 
  3.7110344515792303`*^9}},ExpressionUUID->"817c3ecc-6d1d-41aa-bd2e-\
029fca3ae319"],

Cell["Returns the population size", "Text",
 CellChangeTimes->{{3.7110341430905676`*^9, 
  3.711034146342841*^9}},ExpressionUUID->"bfd24bb2-46a8-4a08-b937-\
902ba0857c93"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullMalePopulation"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullMalePopulation", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", "\"\<mN\>\"", "}"}], ",", "ageSet", ",", "weekly"}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.7106063513546534`*^9, 3.7106063987284393`*^9}, {
   3.7106066218224854`*^9, 3.7106066879258933`*^9}, {3.710696924900157*^9, 
   3.710696940853772*^9}, {3.7107619096622005`*^9, 3.7107619234298525`*^9}, 
   3.7107620117481155`*^9, {3.711034186639287*^9, 3.7110341941659565`*^9}, {
   3.711205450237296*^9, 
   3.7112054582202377`*^9}},ExpressionUUID->"79f0f3cb-1a50-452e-b6d1-\
847b93aa02a3"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullFemalePopulation"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullFemalePopulation", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", "\"\<fN\>\"", "}"}], ",", "ageSet", ",", "weekly"}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.7106063513546534`*^9, 3.7106063987284393`*^9}, {
   3.7106066218224854`*^9, 3.7106066879258933`*^9}, {3.710696924900157*^9, 
   3.710696940853772*^9}, {3.7107619096622005`*^9, 3.7107619234298525`*^9}, 
   3.7107620117481155`*^9, {3.711034186639287*^9, 3.7110342046120815`*^9}, {
   3.7112054530338707`*^9, 
   3.7112054618328114`*^9}},ExpressionUUID->"6504d434-a375-4126-b2f6-\
fa140b44dc38"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullAllPopulation"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullAllPopulation", "[", 
   RowBox[{"sol_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcome", "[", 
   RowBox[{"sol", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<mN\>\"", ",", "\"\<fN\>\""}], "}"}], ",", "ageSet", ",", 
    "weekly"}], "]"}]}]}], "Code",
 CellChangeTimes->{{3.7106063513546534`*^9, 3.7106063987284393`*^9}, {
   3.7106066218224854`*^9, 3.7106066879258933`*^9}, {3.710696924900157*^9, 
   3.710696940853772*^9}, {3.7107619096622005`*^9, 3.7107619234298525`*^9}, 
   3.7107620117481155`*^9, {3.71120525679311*^9, 3.7112052668793287`*^9}, {
   3.711205453796837*^9, 
   3.7112054638340197`*^9}},ExpressionUUID->"8f070a27-e6fc-46d0-9806-\
532c40028fdb"],

Cell["Returns the number of pregnancies", "Text",
 CellChangeTimes->{{3.7110342264479246`*^9, 
  3.7110342298981533`*^9}},ExpressionUUID->"9fa92eef-e172-4b66-9946-\
1928cbff7e62"],

Cell[BoxData[{
 RowBox[{"Clear", "@", "pullPregnancies"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pullPregnancies", "[", 
   RowBox[{"sol_", ",", "country_", ",", 
    RowBox[{"ageSet_:", "AgeClasses"}], ",", 
    RowBox[{"weekly_:", "False"}]}], "]"}], ":=", 
  RowBox[{"pullAllOutcomePregnancies", "[", 
   RowBox[{"sol", ",", "country", ",", 
    RowBox[{"{", "\"\<fN\>\"", "}"}], ",", "ageSet", ",", "weekly"}], 
   "]"}]}]}], "Code",
 CellChangeTimes->{{3.7110341522506914`*^9, 
  3.7110341719911127`*^9}},ExpressionUUID->"d53f612d-349e-4736-8e83-\
25737a7ab3bb"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Pull general results", "Subsubsection",
 CellChangeTimes->{{3.6642980781795626`*^9, 3.6642980809770255`*^9}, {
  3.6664455692412624`*^9, 3.6664455706375175`*^9}, {3.7106063371364937`*^9, 
  3.7106063377563615`*^9}},ExpressionUUID->"62fec114-203f-4837-8d16-\
b23b554503cd"],

Cell["\<\
PullAll[sol] should return epi results by index:
1) epi
2) yr
3) age\
\>", "Text",
 CellChangeTimes->{{3.684065682077469*^9, 
  3.684065701229452*^9}},ExpressionUUID->"4d0ef214-c8d9-42e6-b29e-\
64f0cdd4984b"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "PullAll", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"PullAll", "[", "sol_", "]"}], ":=", 
   RowBox[{"Transpose", "[", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"eqset", "=", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"eq", "[", 
           RowBox[{"epi", ",", "age"}], "]"}], ",", 
          RowBox[{"{", 
           RowBox[{"epi", ",", 
            RowBox[{"Join", "[", 
             RowBox[{
             "hPopulationClasses", ",", "hCounterClasses", ",", 
              "hRecoveredClasses", ",", "hVaccinatedClasses"}], "]"}]}], 
           "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"age", ",", "AgeClasses"}], "}"}]}], "]"}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"eqset", "/.", 
            RowBox[{"sol", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], ")"}], "/.", 
          RowBox[{"t", "\[Rule]", "0"}]}], "}"}], ",", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"eqset", "/.", 
             RowBox[{"sol", "[", 
              RowBox[{"[", "yr", "]"}], "]"}]}], ")"}], "/.", 
           RowBox[{"t", "\[Rule]", "yr"}]}], ",", 
          RowBox[{"{", 
           RowBox[{"yr", ",", 
            RowBox[{"Length", "[", "sol", "]"}]}], "}"}]}], "]"}]}], "]"}]}], 
     "]"}], "]"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.684065714047373*^9, 3.6840657814403563`*^9}, {
  3.684065813269351*^9, 
  3.6840659171113586`*^9}},ExpressionUUID->"d9b73e54-f24c-4272-84a8-\
ec9ff7f98634"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Plot results", "Subsubsection",
 CellChangeTimes->{{3.6642980781795626`*^9, 3.6642980809770255`*^9}, {
  3.6664455833640537`*^9, 
  3.6664455847038116`*^9}},ExpressionUUID->"d1be74f6-f1be-424b-885c-\
ee20cfd0fb44"],

Cell["TimePlot plots a time series of the specified data", "Text",
 CellChangeTimes->{{3.6643072491378727`*^9, 
  3.664307259255872*^9}},ExpressionUUID->"a766cdec-9b0c-402c-b60c-\
6e68ed3e97cc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"TimePlot", "[", 
   RowBox[{"data_", ",", "ylabel_", ",", "plotlabel_"}], "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Transpose", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{"yr", ",", 
         RowBox[{"{", 
          RowBox[{"yr", ",", "startyr", ",", 
           RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{";;", 
          RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}]}], "}"}], "]"}], 
    ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "All"}], "}"}]}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", "Black"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.6643070750851583`*^9, 3.6643071312663975`*^9}, {
  3.6643073829648037`*^9, 3.6643073832304335`*^9}, {3.664307490621564*^9, 
  3.6643074945941033`*^9}, {3.6643088114709625`*^9, 3.664308826581442*^9}, {
  3.6643094068946342`*^9, 
  3.664309409912222*^9}},ExpressionUUID->"7b6723be-5abf-4d50-a905-\
3d07f84adcf6"],

Cell["TimePlot may have a y-axis range specified", "Text",
 CellChangeTimes->{{3.6643072491378727`*^9, 3.664307259255872*^9}, {
  3.66644559490455*^9, 
  3.666445601523773*^9}},ExpressionUUID->"a38da46b-1a06-45f7-b759-\
19a6a1daf8bc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"TimePlot", "[", 
   RowBox[{"data_", ",", "ylabel_", ",", "plotlabel_", ",", "plotrange_"}], 
   "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Transpose", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{"yr", ",", 
         RowBox[{"{", 
          RowBox[{"yr", ",", "startyr", ",", 
           RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
       RowBox[{"data", "[", 
        RowBox[{"[", 
         RowBox[{";;", 
          RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}]}], "}"}], "]"}], 
    ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", "plotrange"}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", "Black"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.6643070750851583`*^9, 3.6643071312663975`*^9}, {
  3.6643073829648037`*^9, 3.6643073832304335`*^9}, {3.664307490621564*^9, 
  3.6643074945941033`*^9}, {3.6643088114709625`*^9, 3.664308826581442*^9}, {
  3.6643094068946342`*^9, 3.664309409912222*^9}, {3.665423826931687*^9, 
  3.665423837214287*^9}},ExpressionUUID->"e42cc03e-7654-4e87-bb99-\
fdd6243eb5ab"],

Cell["MultiSeriesTimePlot plots multiple time series concurrently", "Text",
 CellChangeTimes->{{3.6643072491378727`*^9, 3.664307259255872*^9}, {
  3.6664456065791883`*^9, 
  3.6664456148568573`*^9}},ExpressionUUID->"f5b7f757-9f55-49a9-9fbe-\
21759f99d860"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MultiSeriesTimePlot", "[", 
   RowBox[{"dataseries_", ",", "ylabel_", ",", "plotlabel_", ",", "legend_"}],
    "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{"yr", ",", 
           RowBox[{"{", 
            RowBox[{"yr", ",", "startyr", ",", 
             RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"data", "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}]}], "}"}], "]"}],
       ",", 
      RowBox[{"{", 
       RowBox[{"data", ",", "dataseries"}], "}"}]}], "]"}], ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "All"}], "}"}]}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotLegends", "\[Rule]", "legend"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.66430851589697*^9, 3.664308553549555*^9}, {
  3.6643088333522763`*^9, 3.664308836151131*^9}, {3.6643092005850353`*^9, 
  3.6643092739862027`*^9}, {3.664309314962998*^9, 
  3.6643093811217456`*^9}},ExpressionUUID->"1d85481f-7a1c-4b9f-8772-\
964787d19f0b"],

Cell["\<\
MultiSeriesTimePlotBlack plots all series in black, with varying dashes/dots\
\>", "Text",
 CellChangeTimes->{{3.6643072491378727`*^9, 3.664307259255872*^9}, {
  3.6664456065791883`*^9, 
  3.66644564040707*^9}},ExpressionUUID->"4250e87e-2646-48df-aeec-\
9ef35b043039"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MultiSeriesTimePlotBlack", "[", 
   RowBox[{"dataseries_", ",", "ylabel_", ",", "plotlabel_", ",", "legend_"}],
    "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{"yr", ",", 
           RowBox[{"{", 
            RowBox[{"yr", ",", "startyr", ",", 
             RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"data", "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}]}], "}"}], "]"}],
       ",", 
      RowBox[{"{", 
       RowBox[{"data", ",", "dataseries"}], "}"}]}], "]"}], ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "All"}], "}"}]}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotLegends", "\[Rule]", "legend"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"Black", ",", 
         RowBox[{"Dashing", "[", 
          RowBox[{"r", "/", "300"}], "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"r", ",", 
         RowBox[{"Length", "[", "dataseries", "]"}]}], "}"}]}], "]"}]}]}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.66430851589697*^9, 3.664308553549555*^9}, {
  3.6643088333522763`*^9, 3.664308836151131*^9}, {3.6643092005850353`*^9, 
  3.6643092739862027`*^9}, {3.664309314962998*^9, 
  3.6643093637152276`*^9}},ExpressionUUID->"c5541ca9-dc41-4e3a-b5ee-\
56fdf80e9be2"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MultiSeriesTimePlotBlack", "[", 
   RowBox[{
   "dataseries_", ",", "ylabel_", ",", "plotlabel_", ",", "legend_", ",", 
    "range_"}], "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{"yr", ",", 
           RowBox[{"{", 
            RowBox[{"yr", ",", "startyr", ",", 
             RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"data", "[", 
          RowBox[{"[", 
           RowBox[{";;", 
            RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}]}], "}"}], "]"}],
       ",", 
      RowBox[{"{", 
       RowBox[{"data", ",", "dataseries"}], "}"}]}], "]"}], ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", "range"}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotLegends", "\[Rule]", "legend"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"Black", ",", 
         RowBox[{"Dashing", "[", 
          RowBox[{"r", "/", "300"}], "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"r", ",", 
         RowBox[{"Length", "[", "dataseries", "]"}]}], "}"}]}], "]"}]}]}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.66430851589697*^9, 3.664308553549555*^9}, {
   3.6643088333522763`*^9, 3.664308836151131*^9}, {3.6643092005850353`*^9, 
   3.6643092739862027`*^9}, {3.664309314962998*^9, 3.6643093637152276`*^9}, {
   3.66672147591039*^9, 3.6667214839829206`*^9}, 3.6701921173878403`*^9, 
   3.6701921501676254`*^9},ExpressionUUID->"30e89f4a-9042-4de8-b51e-\
b427fab206b6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"CumulativeTimePlot", "[", 
   RowBox[{"data_", ",", "ylabel_", ",", "plotlabel_"}], "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Transpose", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{"yr", ",", 
         RowBox[{"{", 
          RowBox[{"yr", ",", "startyr", ",", 
           RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
       RowBox[{"Accumulate", "[", 
        RowBox[{"data", "[", 
         RowBox[{"[", 
          RowBox[{";;", 
           RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}], "]"}]}], "}"}], 
     "]"}], ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "All"}], "}"}]}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", "Black"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.6643070750851583`*^9, 3.6643071312663975`*^9}, {
  3.6643073829648037`*^9, 3.6643073832304335`*^9}, {3.664307490621564*^9, 
  3.6643074945941033`*^9}, {3.6643088114709625`*^9, 3.664308826581442*^9}, {
  3.6643094068946342`*^9, 3.664309409912222*^9}, {3.664542337490959*^9, 
  3.664542351640779*^9}},ExpressionUUID->"19b4e5a0-954a-4e2d-8017-\
82cbb9b06c3a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MultiSeriesCumulativeTimePlotBlack", "[", 
   RowBox[{"dataseries_", ",", "ylabel_", ",", "plotlabel_", ",", "legend_"}],
    "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{"yr", ",", 
           RowBox[{"{", 
            RowBox[{"yr", ",", "startyr", ",", 
             RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"Accumulate", "[", 
          RowBox[{"data", "[", 
           RowBox[{"[", 
            RowBox[{";;", 
             RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}], "]"}]}], 
        "}"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"data", ",", "dataseries"}], "}"}]}], "]"}], ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "All"}], "}"}]}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotLegends", "\[Rule]", "legend"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"Black", ",", 
         RowBox[{"Dashing", "[", 
          RowBox[{"r", "/", "300"}], "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"r", ",", 
         RowBox[{"Length", "[", "dataseries", "]"}]}], "}"}]}], "]"}]}]}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.66430851589697*^9, 3.664308553549555*^9}, {
  3.6643088333522763`*^9, 3.664308836151131*^9}, {3.6643092005850353`*^9, 
  3.6643092739862027`*^9}, {3.664309314962998*^9, 3.6643093637152276`*^9}, {
  3.664568606403549*^9, 
  3.664568617740879*^9}},ExpressionUUID->"5dd00d36-4cab-4009-920b-\
bf4a35abb4e7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MultiSeriesCumulativeTimePlotBlack", "[", 
   RowBox[{
   "dataseries_", ",", "ylabel_", ",", "plotlabel_", ",", "legend_", ",", 
    "range_"}], "]"}], ":=", 
  RowBox[{"ListLinePlot", "[", 
   RowBox[{
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{"yr", ",", 
           RowBox[{"{", 
            RowBox[{"yr", ",", "startyr", ",", 
             RowBox[{"endyr", "-", "1"}]}], "}"}]}], "]"}], ",", 
         RowBox[{"Accumulate", "[", 
          RowBox[{"data", "[", 
           RowBox[{"[", 
            RowBox[{";;", 
             RowBox[{"endyr", "-", "startyr"}]}], "]"}], "]"}], "]"}]}], 
        "}"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"data", ",", "dataseries"}], "}"}]}], "]"}], ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"\"\<Year\>\"", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"PlotRange", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"Automatic", ",", "range"}], "}"}]}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotLegends", "\[Rule]", "legend"}], ",", 
    RowBox[{"PlotStyle", "\[Rule]", 
     RowBox[{"Table", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"Black", ",", 
         RowBox[{"Dashing", "[", 
          RowBox[{"r", "/", "300"}], "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"r", ",", 
         RowBox[{"Length", "[", "dataseries", "]"}]}], "}"}]}], "]"}]}]}], 
   "]"}]}]], "Code",
 CellChangeTimes->{{3.66430851589697*^9, 3.664308553549555*^9}, {
  3.6643088333522763`*^9, 3.664308836151131*^9}, {3.6643092005850353`*^9, 
  3.6643092739862027`*^9}, {3.664309314962998*^9, 3.6643093637152276`*^9}, {
  3.664568606403549*^9, 3.664568617740879*^9}, {3.666721273566791*^9, 
  3.6667212817042346`*^9}, {3.666721351337142*^9, 
  3.66672135392822*^9}},ExpressionUUID->"cc02f692-0028-4ed9-ad1f-\
00f38c60f630"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ContourPlotBlack", "[", 
   RowBox[{
   "dataseries_", ",", "xlabel_", ",", "ylabel_", ",", "plotlabel_", ",", 
    RowBox[{"contourlabels_:", "Automatic"}], ",", 
    RowBox[{"plotlegends_:", "Automatic"}], ",", 
    RowBox[{"frameticks_:", "Automatic"}]}], "]"}], ":=", 
  RowBox[{"ListContourPlot", "[", 
   RowBox[{"dataseries", ",", 
    RowBox[{"Frame", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"True", ",", "True", ",", "False", ",", "False"}], "}"}]}], ",", 
    RowBox[{"FrameLabel", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"xlabel", ",", "ylabel"}], "}"}]}], ",", 
    RowBox[{"FrameStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"LabelStyle", "\[Rule]", "Black"}], ",", 
    RowBox[{"PlotLabel", "\[Rule]", "plotlabel"}], ",", 
    RowBox[{"ColorFunction", "\[Rule]", "GrayLevel"}], ",", 
    RowBox[{"PlotLegends", "\[Rule]", "plotlegends"}], ",", 
    RowBox[{"ContourLabels", "\[Rule]", "contourlabels"}], ",", 
    RowBox[{"FrameTicks", "\[Rule]", "frameticks"}]}], "]"}]}]], "Code",
 CellChangeTimes->{{3.6684218126017785`*^9, 3.6684218670420995`*^9}, {
  3.668421936616808*^9, 3.668421974675434*^9}, {3.6684221027294016`*^9, 
  3.6684221079743967`*^9}, {3.668425068333031*^9, 3.6684250909506626`*^9}, {
  3.668425135509145*^9, 3.668425160278891*^9}, {3.6684251987040234`*^9, 
  3.66842522637083*^9}, {3.668529721196684*^9, 
  3.668529734831542*^9}},ExpressionUUID->"4a4aa1e8-ac96-46f3-a2fd-\
3171141c7827"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ContourPlotBlackFramed", "[", 
   RowBox[{
   "dataseries_", ",", "xlabel_", ",", "ylabel_", ",", "plotlabel_", ",", 
    RowBox[{"contourlabels_:", "Automatic"}], ",", 
    RowBox[{"plotlegends_:", "Automatic"}], ",", 
    RowBox[{"frameticks_:", "Automatic"}]}], "]"}], ":=", 
  RowBox[{"ContourPlotBlack", "[", 
   RowBox[{"dataseries", ",", "xlabel", ",", "ylabel", ",", "plotlabel", ",", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"Text", "[", 
       RowBox[{
        RowBox[{"Framed", "[", "#3", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{"#1", ",", "#2"}], "}"}], ",", 
        RowBox[{"Background", "\[Rule]", "White"}]}], "]"}], "&"}], ")"}], 
    ",", "plotlegends", ",", "frameticks"}], "]"}]}]], "Code",
 CellChangeTimes->{{3.6685266735670605`*^9, 3.668526708011586*^9}, {
  3.668529701969025*^9, 
  3.668529714739513*^9}},ExpressionUUID->"f82bfb32-1996-4a79-b831-\
05a465a141a8"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1280, 677},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
Magnification:>1.9 Inherited,
FrontEndVersion->"11.1 for Microsoft Windows (64-bit) (April 18, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 161, 3, 191, "Title", "ExpressionUUID" -> \
"e0fc2dc8-ef9b-44d0-9f9d-10f4bddfc210"],
Cell[744, 27, 180, 4, 58, "Input", "ExpressionUUID" -> \
"6b76c48e-be7c-47ab-a86c-a3e26dabc1b8"],
Cell[CellGroupData[{
Cell[949, 35, 160, 3, 133, "Section", "ExpressionUUID" -> \
"4dcc0090-fa83-4440-8047-0a81459b8d66"],
Cell[CellGroupData[{
Cell[1134, 42, 159, 3, 90, "Subsection", "ExpressionUUID" -> \
"f03561ae-817d-4bd9-aa7b-e94fee334a8b"],
Cell[CellGroupData[{
Cell[1318, 49, 169, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"c85c121e-538b-4c82-9620-97f530227218"],
Cell[1490, 54, 181, 5, 478, "Code", "ExpressionUUID" -> \
"b958c44c-c497-456a-b63a-b6d33dca8260"],
Cell[1674, 61, 585, 16, 478, "Code", "ExpressionUUID" -> \
"be154fb4-c947-44a3-8679-548cec134674"]
}, Closed]],
Cell[CellGroupData[{
Cell[2296, 82, 163, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"8b157379-8c01-489a-a416-b49795af744d"],
Cell[2462, 87, 473, 12, 478, "Code", "ExpressionUUID" -> \
"387d3961-c4fd-42e2-8128-6079c69799bd"],
Cell[2938, 101, 505, 11, 478, "Code", "ExpressionUUID" -> \
"aaacc0eb-005b-435a-a4e7-d5f3f6be6697"],
Cell[3446, 114, 2978, 73, 478, "Code", "ExpressionUUID" -> \
"16c86094-c616-4eec-800f-357568afcec7"]
}, Closed]],
Cell[CellGroupData[{
Cell[6461, 192, 216, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"e70d4ad4-b3d9-4afb-81d7-c78be7879fcd"],
Cell[6680, 198, 212, 4, 478, "Code", "ExpressionUUID" -> \
"9c922eef-132f-4394-a065-ff5a5ddc6aa1"],
Cell[6895, 204, 206, 5, 478, "Code", "ExpressionUUID" -> \
"24516369-2bfc-4a4d-8d08-c5a3007f5801"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[7150, 215, 280, 4, 71, "Subsection", "ExpressionUUID" -> \
"28cf440d-993d-4b63-9969-fa841656b433"],
Cell[CellGroupData[{
Cell[7455, 223, 415, 6, 478, "Subsubsection", "ExpressionUUID" -> \
"b2ee6d9b-52d1-46a2-91bc-ee58517bb4fa"],
Cell[7873, 231, 240, 6, 478, "Text", "ExpressionUUID" -> \
"1b0aa56c-6abb-4b6f-a6f5-f1ccbdbb7424"],
Cell[8116, 239, 2393, 66, 478, "Code", "ExpressionUUID" -> \
"e3eb84be-dd26-45a5-a8a5-c33a8fecb72f"]
}, Closed]],
Cell[CellGroupData[{
Cell[10546, 310, 173, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"7544c9ef-6e76-43ed-8bb2-82bdbe0cb04f"],
Cell[10722, 315, 164, 3, 478, "Text", "ExpressionUUID" -> \
"cb2d6b99-6c1f-48a5-a998-e8805cc75ee2"],
Cell[10889, 320, 1234, 22, 478, "Code", "ExpressionUUID" -> \
"ffaf8368-dfd6-4b42-9951-ee492dd5d0ce"]
}, Closed]],
Cell[CellGroupData[{
Cell[12160, 347, 299, 5, 478, "Subsubsection", "ExpressionUUID" -> \
"315924cd-301a-4aac-bf00-f58c9ae330c6"],
Cell[12462, 354, 162, 3, 478, "Text", "ExpressionUUID" -> \
"41e8ea00-ef52-41cf-99e1-1438fc2885fe"],
Cell[CellGroupData[{
Cell[12649, 361, 230, 5, 478, "Input", "ExpressionUUID" -> \
"72ee934f-f8b6-493c-b838-ad267d934980"],
Cell[12882, 368, 318, 5, 478, "Output", "ExpressionUUID" -> \
"fac1ca2b-9487-470e-b745-8cb5f3154d58"]
}, Open  ]],
Cell[13215, 376, 358, 9, 478, "Code", "ExpressionUUID" -> \
"39308473-2764-494a-84e8-b72189e9f295"],
Cell[13576, 387, 321, 7, 478, "Text", "ExpressionUUID" -> \
"4164292c-9eee-4923-afb6-513bc67211f3"],
Cell[13900, 396, 721, 20, 478, "Code", "ExpressionUUID" -> \
"5476377e-b0dc-4255-9f7f-865040f7a559"],
Cell[CellGroupData[{
Cell[14646, 420, 214, 4, 478, "Input", "ExpressionUUID" -> \
"e0d924d6-e81b-4870-86d4-f0f826d8727d"],
Cell[14863, 426, 377, 9, 478, "Output", "ExpressionUUID" -> \
"d90299bb-4880-489a-a50c-1ce5b4e1601e"]
}, Open  ]],
Cell[CellGroupData[{
Cell[15277, 440, 224, 5, 478, "Input", "ExpressionUUID" -> \
"d5dd1687-46e5-422e-a3d3-176b18ca6623"],
Cell[15504, 447, 272, 5, 478, "Output", "ExpressionUUID" -> \
"d42dda83-5b01-4587-8474-d3104610222d"]
}, Open  ]],
Cell[15791, 455, 184, 3, 478, "Text", "ExpressionUUID" -> \
"df71473f-8e59-49f0-94cd-56891e8a8506"],
Cell[15978, 460, 1458, 34, 478, "Code", "ExpressionUUID" -> \
"62a0edb5-d9d4-4baa-974c-5f389b590b0b"],
Cell[17439, 496, 280, 7, 478, "Text", "ExpressionUUID" -> \
"2f9e5691-78e2-42dc-9fb1-e7425d49cd18"],
Cell[17722, 505, 3123, 73, 478, "Code", "ExpressionUUID" -> \
"0836df4f-c5c7-4939-a2b9-ea184ce9bf14"],
Cell[20848, 580, 255, 5, 478, "Text", "ExpressionUUID" -> \
"1eedd7cd-5afb-4a9f-a02d-ea8c5ba89f11"],
Cell[CellGroupData[{
Cell[21128, 589, 752, 20, 478, "Code", "ExpressionUUID" -> \
"06d61ed6-10c3-4dde-8764-7c47b43328f5"],
Cell[21883, 611, 434, 10, 478, "Message", "ExpressionUUID" -> \
"94b6dabe-3a17-4ca2-86a3-f28d40365d9c"],
Cell[22320, 623, 561, 12, 478, "Message", "ExpressionUUID" -> \
"26a2f3d7-8b28-4f26-a841-e22215de9caf"],
Cell[22884, 637, 432, 10, 478, "Message", "ExpressionUUID" -> \
"463e222d-883c-45a2-93b1-48df9e3683cd"],
Cell[23319, 649, 559, 12, 478, "Message", "ExpressionUUID" -> \
"88b7eb6b-2f31-4bc6-9501-c9a756fae4ce"],
Cell[23881, 663, 1387, 26, 478, "Output", "ExpressionUUID" -> \
"a5ebab90-e0d5-41b0-bbda-dbc70af24f02"]
}, Open  ]],
Cell[25283, 692, 344, 7, 478, "Text", "ExpressionUUID" -> \
"69d5a1dd-ebc0-4b3b-bdb1-75c9290d00c6"],
Cell[25630, 701, 270, 6, 478, "Code", "ExpressionUUID" -> \
"7c8c5c0a-08cf-4ed1-b5f4-f969af12751f"],
Cell[25903, 709, 953, 21, 478, "Code", "ExpressionUUID" -> \
"eb586fc6-9315-4fae-9a3a-dc1c401c1393"],
Cell[26859, 732, 519, 11, 478, "Text", "ExpressionUUID" -> \
"8bb2b13e-e4aa-4e49-8802-50c9e65b8c49"],
Cell[27381, 745, 283, 7, 478, "Code", "ExpressionUUID" -> \
"15a1edd0-bc98-40b8-a11c-404dc9c91f71"],
Cell[27667, 754, 527, 12, 478, "Code", "ExpressionUUID" -> \
"bf0332d1-5bee-4dd1-be9b-b43e5ec9baad"],
Cell[28197, 768, 160, 3, 478, "Text", "ExpressionUUID" -> \
"a3f94bca-400d-4088-a409-0d8b8f16e6a2"],
Cell[28360, 773, 1373, 33, 478, "Code", "ExpressionUUID" -> \
"46e6cdf8-a5d2-4332-8215-6e29fe9de8d9"],
Cell[29736, 808, 735, 17, 478, "Code", "ExpressionUUID" -> \
"617a1e18-76b7-459f-b67d-7786fbc36027"],
Cell[30474, 827, 1199, 21, 478, "Code", "ExpressionUUID" -> \
"96484449-fd2e-4267-b511-af26bc716f3c"]
}, Closed]],
Cell[CellGroupData[{
Cell[31710, 853, 187, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"58a16da5-9f12-4292-8ed7-5d155319157f"],
Cell[31900, 858, 337, 5, 478, "Text", "ExpressionUUID" -> \
"67078421-5ff3-4b3e-8835-2edeb51612af"],
Cell[32240, 865, 1238, 20, 478, "Code", "ExpressionUUID" -> \
"d2852647-8065-43ec-bddb-7135cf470c24"],
Cell[33481, 887, 359, 10, 478, "Code", "ExpressionUUID" -> \
"16093725-78e4-483c-9639-4f77d5e7156c"],
Cell[33843, 899, 256, 4, 478, "Text", "ExpressionUUID" -> \
"79c6aa7a-70d1-449a-a187-d62e109894bc"],
Cell[34102, 905, 364, 8, 478, "Code", "ExpressionUUID" -> \
"d377de10-2a7d-47b7-840f-f29f29b2d499"],
Cell[34469, 915, 355, 10, 478, "Code", "ExpressionUUID" -> \
"83f42d1d-589e-4768-91ae-39a734de56d0"]
}, Closed]],
Cell[CellGroupData[{
Cell[34861, 930, 168, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"7da4279c-f0ae-4882-9ac2-a5e0b8e477d3"],
Cell[35032, 935, 332, 6, 478, "Text", "ExpressionUUID" -> \
"9dfc9023-59d7-4c22-a338-56895aca5d98"],
Cell[35367, 943, 4430, 94, 478, "Code", "ExpressionUUID" -> \
"b9692516-7d55-4d2f-9c1f-85284df387e4"],
Cell[39800, 1039, 390, 9, 478, "Text", "ExpressionUUID" -> \
"12fd495e-6d2c-4c9f-8b19-5d9ed9265e92"],
Cell[CellGroupData[{
Cell[40215, 1052, 483, 14, 478, "Input", "ExpressionUUID" -> \
"81e9f16a-5912-4920-b6c6-93f47bf8d986"],
Cell[40701, 1068, 627, 13, 478, "Message", "ExpressionUUID" -> \
"1e019f34-302d-438a-9281-72ff16b8076b"],
Cell[41331, 1083, 564, 12, 478, "Output", "ExpressionUUID" -> \
"ca2c67b8-7abc-495e-8069-0deca8423be5"]
}, Open  ]],
Cell[41910, 1098, 517, 17, 478, "Text", "ExpressionUUID" -> \
"2fe268c5-2db0-4795-a4c6-8b0a04f54017"],
Cell[42430, 1117, 413, 10, 478, "Text", "ExpressionUUID" -> \
"035f7c2b-b3bb-4ad7-9994-a440bd9925c5"],
Cell[42846, 1129, 1105, 27, 478, "Code", "ExpressionUUID" -> \
"359a5f32-75ee-433c-a6a7-8cd443be7403"],
Cell[43954, 1158, 216, 6, 478, "Text", "ExpressionUUID" -> \
"a0c9ca03-d79a-4c60-85b4-aed76631c6b1"],
Cell[44173, 1166, 274, 6, 478, "Code", "ExpressionUUID" -> \
"0ebf9e53-9ec4-4f6a-8921-0de8fa4ec47c"],
Cell[44450, 1174, 697, 18, 478, "Code", "ExpressionUUID" -> \
"ae791ba1-30b8-4239-ad2c-857b1135dd95"],
Cell[CellGroupData[{
Cell[45172, 1196, 415, 12, 478, "Input", "ExpressionUUID" -> \
"5def0862-c588-4da3-b320-cf9a29413c09"],
Cell[45590, 1210, 3116, 54, 478, "Output", "ExpressionUUID" -> \
"b0e741cc-acb4-454a-8428-4389afb52fce"]
}, Open  ]],
Cell[48721, 1267, 211, 4, 478, "Text", "ExpressionUUID" -> \
"3a7d8113-44ca-4012-ac81-28c659ddf1fe"],
Cell[48935, 1273, 3891, 95, 478, "Code", "ExpressionUUID" -> \
"ff6efff3-f445-405a-a895-83405ec65e13"],
Cell[52829, 1370, 225, 4, 478, "Text", "ExpressionUUID" -> \
"7726c959-8c0a-416b-ad6e-b14ea7dd843f"],
Cell[53057, 1376, 2828, 56, 478, "Code", "ExpressionUUID" -> \
"53a3fcb2-1686-433c-8bc1-dc051fd8bc8d"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[55934, 1438, 182, 3, 71, "Subsection", "ExpressionUUID" -> \
"c4efeb41-4804-429a-8db3-f5bf2a2f17b2"],
Cell[CellGroupData[{
Cell[56141, 1445, 186, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"ebb859e4-ea83-4c1a-817f-2697b812d9cc"],
Cell[56330, 1450, 212, 5, 478, "Text", "ExpressionUUID" -> \
"3d4be152-9f1f-47e6-a96f-2a0e92debb36"],
Cell[56545, 1457, 8009, 180, 478, "Code", "ExpressionUUID" -> \
"2904fc89-f05e-4f31-b235-9676f384bd48"]
}, Closed]],
Cell[CellGroupData[{
Cell[64591, 1642, 199, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"0a0c5d98-9c98-4203-b158-ee34796ae8cb"],
Cell[64793, 1647, 615, 14, 478, "Code", "ExpressionUUID" -> \
"bc93ba8a-9735-4a04-a595-0a9c0c91102d"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[65457, 1667, 163, 3, 71, "Subsection", "ExpressionUUID" -> \
"c808b930-74f0-4485-9b3b-effd72596afb"],
Cell[CellGroupData[{
Cell[65645, 1674, 174, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"a623bfcb-7703-4a4a-a2ca-0eadd4f8e4cd"],
Cell[65822, 1679, 540, 13, 478, "Code", "ExpressionUUID" -> \
"3f898544-948c-4006-baff-b4d5fc845920"]
}, Closed]],
Cell[CellGroupData[{
Cell[66399, 1697, 227, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"b67996c4-8262-48ed-b9f3-5c9f174253dd"],
Cell[66629, 1703, 684, 18, 478, "Code", "ExpressionUUID" -> \
"2ec3164c-ca6c-476d-8827-18965e0b3c90"]
}, Closed]],
Cell[CellGroupData[{
Cell[67350, 1726, 544, 9, 478, "Subsubsection", "ExpressionUUID" -> \
"0e4027b9-aa3d-422b-98c1-5b12cf65dbea"],
Cell[67897, 1737, 1676, 41, 478, "Code", "ExpressionUUID" -> \
"c8a04825-838e-4622-95d6-b7b1c8e0a481"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[69622, 1784, 520, 8, 71, "Subsection", "ExpressionUUID" -> \
"fbd97ba7-89c4-419d-aba3-fdeded354358"],
Cell[CellGroupData[{
Cell[70167, 1796, 158, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"1ba81635-4aa8-4de8-8b60-bb7766c98aa7"],
Cell[70328, 1801, 259, 6, 478, "Text", "ExpressionUUID" -> \
"f5854e74-e71c-47a3-b6e9-b286ec7453d8"],
Cell[70590, 1809, 473, 12, 478, "Code", "ExpressionUUID" -> \
"7162832a-56d6-47b0-9dc7-9bc9ce7fce8b"],
Cell[71066, 1823, 378, 10, 478, "Code", "ExpressionUUID" -> \
"dc56ab74-61a0-45c4-8919-93ed2cf44bcf"]
}, Closed]],
Cell[CellGroupData[{
Cell[71481, 1838, 218, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"0440248f-f2ab-46e8-9e49-682d0523749b"],
Cell[71702, 1844, 277, 6, 478, "Text", "ExpressionUUID" -> \
"1176fd13-e0c5-4adc-9857-94856988e723"],
Cell[71982, 1852, 5642, 143, 478, "Code", "ExpressionUUID" -> \
"cdbb543a-367b-43a0-bc82-943400a8f147"],
Cell[77627, 1997, 1570, 36, 478, "Code", "ExpressionUUID" -> \
"0fd2504c-7856-40f8-8dd6-b34b773735e7"]
}, Closed]],
Cell[CellGroupData[{
Cell[79234, 2038, 198, 3, 478, "Subsubsection", "ExpressionUUID" -> \
"31caa4e2-a6c4-4ad8-a50a-a0be83f82236"],
Cell[79435, 2043, 164, 3, 478, "Text", "ExpressionUUID" -> \
"585a4c84-d32d-41df-8e18-dddb556fe3ea"],
Cell[79602, 2048, 803, 17, 478, "Code", "ExpressionUUID" -> \
"1f040ab7-2216-4cf4-b417-676b3d255f02"],
Cell[80408, 2067, 168, 3, 478, "Text", "ExpressionUUID" -> \
"8e33109d-eeaf-4b3f-8c18-fe76655968e9"],
Cell[80579, 2072, 1312, 30, 478, "Code", "ExpressionUUID" -> \
"609cbe93-8c37-4351-92a9-c8ccdb4bd84f"],
Cell[81894, 2104, 174, 3, 478, "Text", "ExpressionUUID" -> \
"5b0400e5-ebac-4339-bf7b-4e683f85cbe5"],
Cell[82071, 2109, 999, 16, 478, "Code", "ExpressionUUID" -> \
"be0e195f-afef-49e7-b457-28d97ecbef93"],
Cell[83073, 2127, 225, 4, 478, "Text", "ExpressionUUID" -> \
"5afdf87a-62c6-4933-a255-8e589bb0fc2b"],
Cell[83301, 2133, 2179, 46, 478, "Code", "ExpressionUUID" -> \
"8d3bdcb5-7d85-4604-87a3-f144cccd5e10"]
}, Closed]],
Cell[CellGroupData[{
Cell[85517, 2184, 245, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"77a53e92-9457-4acc-9541-200c77df686c"],
Cell[85765, 2190, 281, 6, 478, "Text", "ExpressionUUID" -> \
"6aac63cf-2a9e-4e08-87ec-f4515d99f738"],
Cell[86049, 2198, 935, 25, 478, "Code", "ExpressionUUID" -> \
"aef3f084-b4d9-4452-90e6-1bba2a424463"]
}, Closed]],
Cell[CellGroupData[{
Cell[87021, 2228, 241, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"65f022ac-6708-4629-a913-f318104c9e35"],
Cell[87265, 2234, 267, 6, 478, "Text", "ExpressionUUID" -> \
"0fea6b9b-f323-49f7-aaf6-685633911a23"],
Cell[87535, 2242, 13386, 381, 478, "Code", "ExpressionUUID" -> \
"75e1394c-8e6e-4afa-b062-35c1d85c0c19"],
Cell[100924, 2625, 1203, 29, 478, "Code", "ExpressionUUID" -> \
"20ed4a97-04a2-45b1-b6a8-78d40bd0c07a"]
}, Closed]],
Cell[CellGroupData[{
Cell[102164, 2659, 268, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"2b056fad-8cc6-4fa5-ac96-afdc594b2df1"],
Cell[102435, 2665, 234, 6, 478, "Text", "ExpressionUUID" -> \
"2be78c5e-7263-4f4d-9f5c-4509e614854c"],
Cell[102672, 2673, 1086, 25, 478, "Code", "ExpressionUUID" -> \
"65b05c77-b56d-4476-994c-cfc90f4d66fa"],
Cell[103761, 2700, 222, 5, 478, "Text", "ExpressionUUID" -> \
"e29b27f7-5a38-4d31-98f7-b0aa53553181"],
Cell[103986, 2707, 1906, 50, 478, "Code", "ExpressionUUID" -> \
"361407dc-f3f1-45f0-bda2-c9adcfde6b17"],
Cell[105895, 2759, 345, 7, 478, "Text", "ExpressionUUID" -> \
"bc9139bc-b7bc-4c51-ba0f-e465a9009c78"],
Cell[106243, 2768, 1214, 29, 478, "Code", "ExpressionUUID" -> \
"36a48a9c-9880-4a1b-8680-a4e558eb2dc0"]
}, Closed]]
}, Closed]],
Cell[CellGroupData[{
Cell[107506, 2803, 625, 9, 71, "Subsection", "ExpressionUUID" -> \
"923f24be-6640-493f-b684-1ca4588c6e24"],
Cell[108134, 2814, 220, 3, 478, "Text", "ExpressionUUID" -> \
"f466ea84-35d7-408c-bd04-594febba33b0"],
Cell[108357, 2819, 308, 6, 478, "Text", "ExpressionUUID" -> \
"c2b265ae-35c7-4c86-9fb6-4daeaab83f55"],
Cell[108668, 2827, 396, 9, 478, "Code", "ExpressionUUID" -> \
"198659ee-e3b2-437c-b42d-2d44b34f3520"],
Cell[109067, 2838, 4940, 106, 478, "Code", "ExpressionUUID" -> \
"9163175d-fb1c-4f4d-a7d6-cbe4b95f247b"],
Cell[114010, 2946, 4852, 105, 478, "Code", "ExpressionUUID" -> \
"a8ab2f2e-803d-4c23-b4c6-9be3ed0c44bb"],
Cell[118865, 3053, 239, 6, 478, "Text", "ExpressionUUID" -> \
"7dac193a-74d7-4e2d-9c03-f02356459ff0"],
Cell[119107, 3061, 1161, 28, 478, "Code", "ExpressionUUID" -> \
"62d8c4d7-fdc6-429a-9515-8ae1b5a8aa52"],
Cell[120271, 3091, 229, 4, 478, "Text", "ExpressionUUID" -> \
"c807b51f-fdbe-4582-9c30-0a52a01a1da7"],
Cell[120503, 3097, 2781, 61, 478, "Code", "ExpressionUUID" -> \
"28ad4085-86e2-4def-b65e-c2d88d8944e5"]
}, Closed]],
Cell[CellGroupData[{
Cell[123321, 3163, 563, 8, 71, "Subsection", "ExpressionUUID" -> \
"19a2142e-dcc3-4b4f-821c-2844394d5ea6"],
Cell[CellGroupData[{
Cell[123909, 3175, 170, 3, 74, "Subsubsection", "ExpressionUUID" -> \
"6ddb5927-5e55-4a7b-918f-ed3661d2705f"],
Cell[124082, 3180, 2038, 47, 478, "Code", "ExpressionUUID" -> \
"c6764943-87ef-4f2a-a4d4-b4c7985742f9"]
}, Closed]],
Cell[CellGroupData[{
Cell[126157, 3232, 273, 4, 59, "Subsubsection", "ExpressionUUID" -> \
"eba997dc-8a30-40c6-87ae-2a1d76de5bcb"],
Cell[126433, 3238, 182, 3, 58, "Text", "ExpressionUUID" -> \
"b780ee9a-6eee-4ef0-9ad3-46337c6eb01f"],
Cell[126618, 3243, 9350, 181, 1174, "Code", "ExpressionUUID" -> \
"f0192c5e-be58-4ab9-8dc8-37902dc06cff"]
}, Open  ]],
Cell[CellGroupData[{
Cell[136005, 3429, 170, 3, 74, "Subsubsection", "ExpressionUUID" -> \
"7894bea7-09d1-4ac0-892f-5148073f1aca"],
Cell[136178, 3434, 527, 16, 232, "Code", "ExpressionUUID" -> \
"a91b464d-2517-409e-adc9-91e233a2f75c"],
Cell[136708, 3452, 2239, 57, 504, "Code", "ExpressionUUID" -> \
"3f3caaec-413d-4d3b-8e88-a61c1c6b575c"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[138996, 3515, 677, 10, 90, "Subsection", "ExpressionUUID" -> \
"f49bcef2-47f5-44bd-905a-c8a1739cfd4a"],
Cell[CellGroupData[{
Cell[139698, 3529, 157, 3, 266, "Subsubsection", "ExpressionUUID" -> \
"2c672d17-4425-4768-9d7a-654acb88c18c"],
Cell[139858, 3534, 433, 9, 469, "Code", "ExpressionUUID" -> \
"358789ce-7af6-494b-a2fa-72f51249aa05"],
Cell[140294, 3545, 195, 2, 209, "Text", "ExpressionUUID" -> \
"ca57f726-401c-4508-9e35-71aacb9ed9f0"],
Cell[CellGroupData[{
Cell[140514, 3551, 758, 21, 613, "Input", "ExpressionUUID" -> \
"cd47b859-7f68-443b-94a3-64e92ff485d0"],
Cell[141275, 3574, 313, 6, 209, "Output", "ExpressionUUID" -> \
"33c71c3e-7285-42f2-9e85-098b33927770"]
}, Open  ]],
Cell[CellGroupData[{
Cell[141625, 3585, 189, 4, 209, "Input", "ExpressionUUID" -> \
"631e9a62-222b-4b3b-b835-2b08397f02ba"],
Cell[141817, 3591, 220, 5, 209, "Output", "ExpressionUUID" -> \
"7440d324-1df7-4c11-9258-5bd750d9ec8e"]
}, Open  ]],
Cell[142052, 3599, 3116, 70, 590, "Code", "ExpressionUUID" -> \
"657f1ae0-ea9d-4b5b-a16e-c0939de23fbc"],
Cell[145171, 3671, 180, 3, 478, "Text", "ExpressionUUID" -> \
"0d720130-3891-4a9c-a469-bbc6ba9e8be2"],
Cell[145354, 3676, 549, 15, 478, "Code", "ExpressionUUID" -> \
"4b57ec2e-cb6c-436e-9f2a-2ffdd5cb90fa"],
Cell[145906, 3693, 173, 3, 478, "Text", "ExpressionUUID" -> \
"9ece7b85-3db2-4591-8558-1586f2d498d0"],
Cell[146082, 3698, 1320, 35, 478, "Code", "ExpressionUUID" -> \
"e1a885c8-2066-4846-842f-a4e6b6753d48"],
Cell[147405, 3735, 167, 3, 478, "Text", "ExpressionUUID" -> \
"130fdada-b1b4-4ef0-88c1-55fcfe7cb3b2"],
Cell[147575, 3740, 10832, 244, 478, "Code", "ExpressionUUID" -> \
"02683155-ac9f-4cfe-9e1b-b1d606cfec86"],
Cell[158410, 3986, 175, 3, 478, "Text", "ExpressionUUID" -> \
"cf4d80e6-9180-4d18-a1c1-78d1d559a893"],
Cell[158588, 3991, 1707, 43, 478, "Code", "ExpressionUUID" -> \
"d67be75b-6476-49ea-8dfd-641da9b0a359"],
Cell[160298, 4036, 235, 6, 478, "Text", "ExpressionUUID" -> \
"b0c04980-4623-4ef1-a4a5-5a7b4838742f"],
Cell[160536, 4044, 779, 21, 478, "Code", "ExpressionUUID" -> \
"ec763a16-68f5-4670-8d30-ce592d866c86"],
Cell[161318, 4067, 186, 3, 478, "Text", "ExpressionUUID" -> \
"ccb00775-fb98-478a-8b62-2a64971268f9"],
Cell[161507, 4072, 670, 18, 478, "Code", "ExpressionUUID" -> \
"c0e176c7-0fb0-4589-b87d-f8cf1166716a"],
Cell[162180, 4092, 389, 8, 478, "Text", "ExpressionUUID" -> \
"1e33a9ee-ee3c-4880-b174-eaeab7d93a9a"],
Cell[162572, 4102, 2581, 51, 478, "Code", "ExpressionUUID" -> \
"a42a14f4-9145-4027-943e-d764bb32b5d0"],
Cell[165156, 4155, 239, 6, 478, "Text", "ExpressionUUID" -> \
"4c5d22df-8c3c-4971-8712-f61a9e40d14a"],
Cell[165398, 4163, 1909, 42, 478, "Code", "ExpressionUUID" -> \
"8713124e-194b-4076-848b-43f0b0409447"],
Cell[167310, 4207, 339, 7, 478, "Text", "ExpressionUUID" -> \
"1beb5f01-75f6-49a6-a880-1f4a6b5286a6"],
Cell[167652, 4216, 831, 21, 478, "Code", "ExpressionUUID" -> \
"d02b9528-3976-49e5-a2b2-17a5a3eb1594"],
Cell[168486, 4239, 1813, 43, 478, "Code", "ExpressionUUID" -> \
"e5cd6369-d404-4353-83de-173a38c7c6e9"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[170348, 4288, 777, 11, 71, "Subsection", "ExpressionUUID" -> \
"70ea2668-6254-4d4c-8b83-b54339b04879"],
Cell[CellGroupData[{
Cell[171150, 4303, 275, 4, 74, "Subsubsection", "ExpressionUUID" -> \
"6af8a9b5-dc98-4e37-8f94-6c5b157827b7"],
Cell[171428, 4309, 337, 10, 97, "Text", "ExpressionUUID" -> \
"d5dfb4bd-e548-4cb6-afbe-952f44492c39"],
Cell[171768, 4321, 2176, 53, 504, "Code", "ExpressionUUID" -> \
"93d4ca63-d22a-4d60-b479-c98583059e72"],
Cell[173947, 4376, 261, 7, 478, "Text", "ExpressionUUID" -> \
"7f0929d3-9d02-4202-91a9-014c43913c00"],
Cell[174211, 4385, 1067, 29, 478, "Code", "ExpressionUUID" -> \
"a9c66a96-54e9-4689-926c-5f68418f4b56"],
Cell[175281, 4416, 300, 8, 478, "Text", "ExpressionUUID" -> \
"120e2a63-da3e-4f8b-a28d-34303638251d"],
Cell[175584, 4426, 1289, 32, 478, "Code", "ExpressionUUID" -> \
"37050590-2a73-4037-b310-7ea0642b1c7f"],
Cell[176876, 4460, 237, 6, 478, "Text", "ExpressionUUID" -> \
"7aaeeb91-1801-424b-9614-b3f6c355a872"],
Cell[177116, 4468, 758, 16, 478, "Code", "ExpressionUUID" -> \
"83b1fbd6-3b9a-4fa3-ae41-7d472f038dfd"],
Cell[177877, 4486, 766, 16, 478, "Code", "ExpressionUUID" -> \
"451c0ffd-ff2a-47ee-a3a5-6bce116eb09c"],
Cell[178646, 4504, 896, 19, 478, "Code", "ExpressionUUID" -> \
"424d394d-5cac-4d25-a15d-327493e00093"],
Cell[179545, 4525, 187, 3, 478, "Text", "ExpressionUUID" -> \
"211aee0c-7ebd-4329-9800-d303d55e9b60"],
Cell[179735, 4530, 726, 15, 478, "Code", "ExpressionUUID" -> \
"4ba36c2b-00b5-4337-8ef3-ef59bdade8c3"],
Cell[180464, 4547, 185, 3, 478, "Text", "ExpressionUUID" -> \
"b7b0ba80-1ece-4e3e-b684-2ec6f3ca83ea"],
Cell[180652, 4552, 608, 14, 478, "Code", "ExpressionUUID" -> \
"7324d468-ccd9-462e-ab3d-0dfd403cbb56"],
Cell[181263, 4568, 601, 14, 478, "Code", "ExpressionUUID" -> \
"e7530204-a029-40c1-a82f-82c05c49f06a"],
Cell[181867, 4584, 608, 15, 478, "Code", "ExpressionUUID" -> \
"817c3ecc-6d1d-41aa-bd2e-029fca3ae319"],
Cell[182478, 4601, 171, 3, 478, "Text", "ExpressionUUID" -> \
"bfd24bb2-46a8-4a08-b937-902ba0857c93"],
Cell[182652, 4606, 819, 17, 478, "Code", "ExpressionUUID" -> \
"79f0f3cb-1a50-452e-b6d1-847b93aa02a3"],
Cell[183474, 4625, 825, 17, 478, "Code", "ExpressionUUID" -> \
"6504d434-a375-4126-b2f6-fa140b44dc38"],
Cell[184302, 4644, 852, 18, 478, "Code", "ExpressionUUID" -> \
"8f070a27-e6fc-46d0-9806-532c40028fdb"],
Cell[185157, 4664, 179, 3, 478, "Text", "ExpressionUUID" -> \
"9fa92eef-e172-4b66-9946-1928cbff7e62"],
Cell[185339, 4669, 574, 13, 478, "Code", "ExpressionUUID" -> \
"d53f612d-349e-4736-8e83-25737a7ab3bb"]
}, Open  ]],
Cell[CellGroupData[{
Cell[185950, 4687, 278, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"62fec114-203f-4837-8d16-b23b554503cd"],
Cell[186231, 4693, 218, 8, 478, "Text", "ExpressionUUID" -> \
"4d0ef214-c8d9-42e6-b29e-64f0cdd4984b"],
Cell[186452, 4703, 1729, 48, 478, "Code", "ExpressionUUID" -> \
"d9b73e54-f24c-4272-84a8-ec9ff7f98634"]
}, Open  ]],
Cell[CellGroupData[{
Cell[188218, 4756, 220, 4, 478, "Subsubsection", "ExpressionUUID" -> \
"d1be74f6-f1be-424b-885c-ee20cfd0fb44"],
Cell[188441, 4762, 194, 3, 478, "Text", "ExpressionUUID" -> \
"a766cdec-9b0c-402c-b60c-6e68ed3e97cc"],
Cell[188638, 4767, 1516, 38, 478, "Code", "ExpressionUUID" -> \
"7b6723be-5abf-4d50-a905-3d07f84adcf6"],
Cell[190157, 4807, 234, 4, 478, "Text", "ExpressionUUID" -> \
"a38da46b-1a06-45f7-b759-19a6a1daf8bc"],
Cell[190394, 4813, 1534, 37, 478, "Code", "ExpressionUUID" -> \
"e42cc03e-7654-4e87-bb99-fdd6243eb5ab"],
Cell[191931, 4852, 256, 4, 478, "Text", "ExpressionUUID" -> \
"f5b7f757-9f55-49a9-9fbe-21759f99d860"],
Cell[192190, 4858, 1653, 42, 478, "Code", "ExpressionUUID" -> \
"1d85481f-7a1c-4b9f-8772-964787d19f0b"],
Cell[193846, 4902, 278, 6, 478, "Text", "ExpressionUUID" -> \
"4250e87e-2646-48df-aeec-9ef35b043039"],
Cell[194127, 4910, 2014, 53, 478, "Code", "ExpressionUUID" -> \
"c5541ca9-dc41-4e3a-b5ee-56fdf80e9be2"],
Cell[196144, 4965, 2081, 53, 478, "Code", "ExpressionUUID" -> \
"30e89f4a-9042-4de8-b51e-b427fab206b6"],
Cell[198228, 5020, 1619, 39, 478, "Code", "ExpressionUUID" -> \
"19b4e5a0-954a-4e2d-8017-82cbb9b06c3a"],
Cell[199850, 5061, 2123, 55, 478, "Code", "ExpressionUUID" -> \
"5dd00d36-4cab-4009-920b-bf4a35abb4e7"],
Cell[201976, 5118, 2184, 55, 478, "Code", "ExpressionUUID" -> \
"cc02f692-0028-4ed9-ad1f-00f38c60f630"],
Cell[204163, 5175, 1468, 29, 478, "Code", "ExpressionUUID" -> \
"4a4aa1e8-ac96-46f3-a2fd-3171141c7827"],
Cell[205634, 5206, 941, 22, 478, "Code", "ExpressionUUID" -> \
"f82bfb32-1996-4a79-b831-05a465a141a8"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

